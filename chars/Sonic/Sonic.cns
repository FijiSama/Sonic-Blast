[Data]
life = 1250
power = 3000
attack = 100
defence = 100
fall.defence_up = 50
liedown.time = 60
airjuggle = 15
sparkno = 2
guard.sparkno = 40
KO.echo = 0
volume = 0
IntPersistIndex = 0
FloatPersistIndex = 0

[Size]
xscale = 1.8;1.6
yscale = 1.8 ;1.6
ground.back = 10
ground.front = 10
air.back = 10
air.front = 10
height = 40
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = -5, -25
mid.pos = -5, -13
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 3
walk.back = -3
run.fwd  = 7
run.back =0
jump.neu = 0,-9
jump.back = -4
jump.fwd = 4
airjump.neu = 0
airjump.back = 0
airjump.fwd = 0

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .44
stand.friction = .85
crouch.friction = .82

[Quotes]
Victory0 = "You're Too Slow"
Victory1 = "Can Keep Up?"
Victory2 = "I am the fastest hedgehog in the World"
Victory3 = "I am the fastest thing"
Victory4 = "I'm coming to defeat you eggman"
Victory5 = "I'm just a guy that love adventures"
Victory6 = "We are Sonic Heroes!"
Victory7 = "Ah, Yeah! This is happening!"
Victory8 = "Come on, step it up!"
Victory9 = "I'm outta here"
;---------------------------------------------------------------------------
; Format:
; [Statedef STATENO]
; type = ?      S/C/A/L  stand/crouch/air/liedown
; movetype = ?  I/A/H    idle/attack/gethit
; physics = ?   S/C/A/N  stand/crouch/air/none
; juggle = ?             air juggle points move requires
;
; [State STATENO, ?]     ? - any number you choose
; type = ?
; ...

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
[Statedef 170]
type = S
ctrl = 0
anim = 170+var(11)
velset = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = var(2) = 7
v = 2    ;fv = 10
value = 0

[State 0, Excalibur]
type = Explod
triggerall = var(2) = 6
trigger1 = timemod = 1,0
sprpriority = -3
anim = 9998
ID = 7020
pos = 15,-6
postype = p1
facing = -1
bindtime = -1
removetime = -2
scale = 1.2,1.2
removeongethit = 1
angle = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,170
volume = 100

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
triggerall = var(2) = 9
trigger1 = Time = 0
value = 182

[State 180, 1]
type = ChangeState
triggerall = var(2) = [0,8]
trigger1 = Time = 0
value = 181
;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 181]
type = S
ctrl = 0
anim = 180+var(11)
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 7
trigger1 = !time
value = 180

[State 0, VarSet]
type = VarSet
triggerall = var(2) = 7
trigger1 = time = 1
v = 2    ;fv = 10
value = 0

[State 0, Explosion]
type = Explod
triggerall = var(2) = 7
trigger1 = !time
anim = 703
ID = 703
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999
trans = Sub

[State 0, Explosion FX III]
type = Explod
triggerall = var(2) = 7
trigger1 = !time
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Excalibur]
type = Explod
triggerall = var(2) = 6
trigger1 = timemod = 1,0
sprpriority = -3
anim = 9998
ID = 7020
pos = 15,-6
postype = p1
facing = -1
bindtime = -1
removetime = -2
scale = 1.2,1.2
removeongethit = 1
angle = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S180,16
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S180,16
volume = 100

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;---------------------------------------------------------------------------
; Win pose 1
; CNS difficulty: basic
[Statedef 182]
type = S
ctrl = 0
anim = 23180
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,85
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,85
volume = 100

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
;===============================================================================
; Introducción:
;-------------------------------------------------------------------------------
[Statedef 190]
type = S

[State 190, 1]
type = ChangeState
triggerall = enemy,authorname = "Andrew55"
triggerall = enemy,name = "Silver The Hedgehog"
trigger1 = Time = 0
value = 191

[State 190, 1]
type = ChangeState
triggerall = enemy,authorname = "Andrew55"
triggerall = enemy,name = "Sonic The Hedgehog"
triggerall = enemy,var(2) = 9
triggerall = var(2) = 0
trigger1 = Time = 0
value = 198

[State 190, 1]
type = ChangeState
triggerall = enemy,authorname = "Andrew55"
triggerall = enemy,name = "Sonic The Hedgehog"
triggerall = enemy,var(2) = 0
triggerall = var(2) = 9
trigger1 = Time = 0
value = 23191

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Scourge The Hedgehog"
trigger1 = Time = 0
value = 192

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Shadow The Hedgehog"
triggerall = var(2) = 0 && enemy,var(2) = 0
trigger1 = Time = 0
value = 193

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Shadow The Hedgehog"
triggerall = var(2) = 2 && enemy,var(2) = 2
trigger1 = Time = 0
value = 11191

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Miles Tails Prower"
trigger1 = Time = 0
value = 197

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Knuckles The Edchina"
trigger1 = Time = 0
value = 197

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Seelkadoom The Hedgehog"
triggerall = var(2) = 4
trigger1 = Time = 0
value = 13191

[State 190, 1]
type = ChangeState
triggerall = enemy,name = "Seelkadoom The Hedgehog"
triggerall = var(2) != 4
trigger1 = Time = 0
value = 11192

[State 190, 1]
type = ChangeState
triggerall = var(2) = 9
trigger1 = Time = 0
value = 23192

[State 190, 1]
type = ChangeState
triggerall = var(2) = 5
trigger1 = Time = 0
value = 15190

[State 190, 1]
type = ChangeState
triggerall = var(2) = 4
trigger1 = Time = 0
value = 13190

[State 190, 1]
type = ChangeState
triggerall = var(2) = 2
trigger1 = Time = 0
value = 11190

[State 190, 1]
type = ChangeState
triggerall = var(2) = 6
trigger1 = Time = 0
value = 17190

[State 190, 1]
type = ChangeState
triggerall = var(2) = 8
trigger1 = Time = 0
value = 7190

[State 190, 1]
type = ChangeState
triggerall = var(2) = 7
trigger1 = Time = 0
value = 19190

[State 190, 1]
type = ChangeState
triggerall = var(2) = 1
trigger1 = Time = 0
value = 2190

[State 190, 1]
type = ChangeState
triggerall = TeamMode = Simul
triggerall = partner,name = "Shadow The Hedgehog"
trigger1 = Time = 0
value = 194

[State 190, 1]
type = ChangeState
triggerall = TeamMode = Simul
triggerall = partner,name = "Knuckles The Edchina"
trigger1 = Time = 0
value = 195

[State 190, 1]
type = ChangeState
triggerall = TeamMode = Simul
triggerall = partner,name = "Miles Tails Prower"
trigger1 = Time = 0
value = 196

[State 190, 1]
type = ChangeState
triggerall = var(2) = 0
trigger1 = Time = 0
value = 1190+random%3
;===============================================================================
; Intro (Vs Silver)
;-------------------------------------------------------------------------------
[Statedef 191]
type = S
ctrl = 0
anim = 199
velset = 0,0
sprpriority = 2
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 191
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 191
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 191
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 191
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 191
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 191
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 191
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 191
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S180,86
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,71
volume = 999

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Vs Scourge)
;-------------------------------------------------------------------------------
[Statedef 192]
type = S
ctrl = 0
anim = 191
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 192
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 192
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 192
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 192
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 192
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 192
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 192
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 192
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 0

[State 0, Explosion]
type = Explod
trigger1 = time = 150
anim = 9500
ID = 9500
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S1,1408
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S1,1408
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S1,1408
volume = 100

[State 0, Explod]
type = Explod
triggerall = time = [0,150]
trigger1 = timemod = 2,0
anim = 13262
ID = 13262
pos = 10*Helper(999999),Fvar(16)+random%120*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)-random%120*Helper(999999),Fvar(16)
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 2,1
sprpriority = 3
ontop = 1
angle = 0+random%180
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [0,150]
trigger1 = timemod = 13,0
value = S1,1405
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999

[State 0, Speed FX]
type = Explod
trigger1 = Animelem = 2
anim = 580
ID = 580
pos = 50*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 7022
ID = 1051
pos = -5*Helper(999999),Fvar(16),5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = -1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S180,12
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S180,12
volume = 999

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 191

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Vs Shadow)
;-------------------------------------------------------------------------------
[Statedef 193]
type = S
ctrl = 0
anim = 192
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 193
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 193
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 193
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 193
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 193
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 193
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 193
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 193
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 193
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 193
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 1
value = S180,48
volume = 999

[State 0, Speed FX]
type = Explod
trigger1 = time = 5
anim = 580
ID = 580
pos = 50*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 999

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,64
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,64
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,64
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Partner Shadow)
;-------------------------------------------------------------------------------
[Statedef 194]
type = S
ctrl = 0
anim = 193
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 194
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 194
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 194
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 194
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 194
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 194
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 194
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 194
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 194
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 194
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,58
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,58
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Partner Knuckles)
;-------------------------------------------------------------------------------
[Statedef 195]
type = S
ctrl = 0
anim = 194
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 195
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 195
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 195
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 195
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 195
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 195
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 195
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 195
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 195
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 195
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,63
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,63
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Partner Tails)
;-------------------------------------------------------------------------------
[Statedef 196]
type = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 6
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 7

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 196
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 196
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1
trigger1 = Stateno = 196
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 196
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 6
trigger1 = Stateno = 196
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 196
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 196
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
trigger1 = Stateno = 196
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1


;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,265
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999

[State 0, Speed FX]
type = Explod
trigger1 = Animelem = 1
anim = 580
ID = 580
pos = -50*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 1
value = S6,10
volume = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 7022
ID = 1051
pos = -5*Helper(999999),Fvar(16),5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = -1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,66
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 1
value = S180,66
volume = 999

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 190, 1]
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (VS Tails or Knuckles)
;-------------------------------------------------------------------------------
[Statedef 197]
type = S
ctrl = 0
anim = 196
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 197
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 197
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 197
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 197
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 197
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 197
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 197
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 197
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 197
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 197
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy,name = "knuckles The Edchina"
trigger1 = time = 0
value = S180,62
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy,name = "knuckles The Edchina"
trigger1 = time = 0
value = S180,62
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy,name = "Tails Miles Prower"
trigger1 = time = 0
value = S180,61
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = enemy,name = "Tails Miles Prower"
trigger1 = time = 0
value = S180,61
volume = 999

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (VS Sonic Fleetway)
;-------------------------------------------------------------------------------
[Statedef 198]
type = S
ctrl = 0
anim = 1190
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 198
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 198
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 198
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 198
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 198
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 198
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 198
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 198
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 198
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 198
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, Explosion]
type = Explod
trigger1 = time = 100
anim = 9027
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S180,11
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S180,11
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S180,11
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S5,34
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S5,34
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S180,60
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S180,60
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S180,60
volume = 100

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Fleetway VS Sonic)
;-------------------------------------------------------------------------------
[Statedef 23191]
type = S
ctrl = 0
anim = 1191
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 23191
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 23191
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 23191
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 23191
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 23191
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 23191
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 23191
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 23191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 23191
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 23191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 702 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S180,85
volume = 100

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = Time = 320
value = 0
;===============================================================================
; Intro Fleetway
;-------------------------------------------------------------------------------
[Statedef 23192]
type = S
ctrl = 0
anim = 23191
velset = 0,0
sprpriority = 1

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 23192
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 23192
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 23192
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 23192
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 23192
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 23192
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 23192
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 23192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 23192
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 23192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 4150
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 30
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 70
value = S5,34
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 4151
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 951
ID = 4150
pos = 0,30
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 30
scale = 1.5,1.5
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 952
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0 
v = 2    ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 130 
v = 2    ;fv = 10
value = 9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,79
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,79
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,79
volume = 100

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl
;===============================================================================
; Intro 1
;-------------------------------------------------------------------------------
[Statedef 1190]
type = S
ctrl = 0
anim = 190
velset = 0,0
sprpriority = 2
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 1190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 1190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 1190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 1190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 1190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 1190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 1190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 1190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 1190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 1190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S1,265
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999

[State 0, Speed FX]
type = Explod
trigger1 = Animelem = 2
anim = 580
ID = 580
pos = -50*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 7022
ID = 1051
pos = -5*Helper(999999),Fvar(16),5
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = -1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S180,47
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S180,47
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
triggerall = var(2) = 1
trigger1 = 1 
value = 2190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 2
trigger1 = 1 
value = 11190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 8
trigger1 = 1 
value = 7190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 4
trigger1 = 1 
value = 13190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 5
trigger1 = 1 
value = 15190

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro 2
;-------------------------------------------------------------------------------
[Statedef 1191]
type = S
ctrl = 0
anim = 197
velset = 0,0
sprpriority = 2
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 1191
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 1191
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 1191
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 1191
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 1191
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 1191
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 1191
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 1191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 1191
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 1191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

;---------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,88
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,88
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,88
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,88
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro 3
;-------------------------------------------------------------------------------
[Statedef 1192]
type = S
ctrl = 0
anim = 198
velset = 0,0
sprpriority = 2
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 1192
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 1192
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 1192
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 1192
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 1192
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 1192
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 1192
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 1192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 1192
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 1192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

;---------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,86
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S180,87
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S180,87
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S180,87
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S180,87
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S180,87
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 10
value = S180,87
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
triggerall = var(2) = 1
trigger1 = 1 
value = 2190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 2
trigger1 = 1 
value = 11190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 8
trigger1 = 1 
value = 7190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 4
trigger1 = 1 
value = 13190

[State 190, 4]
type = ChangeState
triggerall = var(2) = 5
trigger1 = 1 
value = 15190

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
; Dark Sonic Intro
[Statedef 2190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 801
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 2190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 2190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 2190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 2190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 2190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 2190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 2190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 2190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 2190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 2190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, Full Power - Aura BG]
type = Helper
trigger1 = time = 149
name = "Full Power - Aura BG"
ID = 550
stateno = 880
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .23
size.yscale = .23
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Full Power - Aura]
type = Helper
trigger1 = time = 149
name = "Full Power - Aura"
ID = 550
stateno = 881
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .23
size.yscale = .23
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 14
value = S5,23
volumescale = 999 

;[State 0, SS1 Activado]
;type = Helper
;triggerall = animelem = 14
;trigger1 = numhelper(841) = 0
;helpertype = Normal
;name = "Dark sonic Activado"
;ID = 841
;stateno = 841
;pos = 999,999
;postype = p1
;facing = 1
;keyctrl = 0
;ownpal = 1

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
; Ultra Sonic intro
;===========================================================================
[Statedef 7190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 808
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 7190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 7190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 7190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 7190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 7190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 7190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 7190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 7190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 7190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 7190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, Cho Genkidama Cachos]
type = Helper
triggerall = time = [15,170]
trigger1 = timemod = 1,0
helpertype = normal
name = "Rings"
ID = 3235
stateno = 3235
pos = -300*Helper(999999),Fvar(16)+random%600*Helper(999999),Fvar(16),300*Helper(999999),Fvar(16)-random%600*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Cho Genkidama Cachos]
type = Helper
triggerall = time = [15,170]
trigger1 = timemod = 1,0
helpertype = normal
name = "Rings"
ID = 3240
stateno = 3240
pos = -25+random%-45,-20+random%-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.3
size.yscale = 1.3
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1,197
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 95
helpertype = Normal
name = "S1 Activado"
ID = 848
stateno = 848
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
; Super Sonic Intro
[Statedef 11190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 800
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 11190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 11190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 11190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 11190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 11190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 11190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 11190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 11190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 11190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 11190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,67
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 870
ID = 870
pos = 0,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 871
ID = 870
pos = -15,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 872
ID = 870
pos = 15,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 873
ID = 870
pos = -25,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 874
ID = 870
pos = 25,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 875
ID = 870
pos = -15,-21
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 876
ID = 870
pos = 15,-21
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,12
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,12
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 1,250
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1,197
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999

[State 0, Luz FX]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Luz FX"
ID = 850
stateno = 850
pos = 0,-50
postype = p1
facing = -1
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999
supermove = 999
pausemovetime = 999

[State 0, Full Power - Aura BG]
type = Helper
trigger1 = time = 85
name = "Full Power - Aura BG"
ID = 550
stateno = 885
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Full Power - Aura]
type = Helper
trigger1 = time = 85
name = "Full Power - Aura"
ID = 550
stateno = 886
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
supermovetime = 99999999
pausemovetime = 99999999

[State 0, VarSet]
type = VarSet
trigger1 = time = 86
v = 2    ;fv = 10
value = 2
ignorehitpause = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 85
anim = 703
ID = 703
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 85
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Vs S.Shadow)
;-------------------------------------------------------------------------------
[Statedef 11191]
type = S
ctrl = 0
anim = 11191
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 11191
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 11191
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 11191
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 11191
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 11191
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 11191
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 11191
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 11191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 11191
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 11191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 2    ;fv = 10
value = 2

[State 0, Explosion]
type = Explod
trigger1 = time = 153
anim = 9500
ID = 9500
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S1,1408
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S1,1408
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 150
value = S1,1408
volume = 100

[State 0, Explod]
type = Explod
triggerall = time = [0,150]
trigger1 = timemod = 5,0
anim = 111915
ID = 111915
pos = 120*Helper(999999),Fvar(16)-random%240*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)-random%120*Helper(999999),Fvar(16)
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 3
ontop = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [0,150]
trigger1 = timemod = 13,0
value = S5,10
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Animelem = 2
value = S180,48
volume = 999

[State 0, Speed FX]
type = Explod
trigger1 = Animelem = 2
anim = 580
ID = 580
pos = 50*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999
[State 0, Run FWD Air y BACK]
type = PlaySnd
trigger1 = animelem = 2
value = S6,10
volume = 999

[State 0, Explod]
type = Explod
trigger1 = animelem = 5
anim = 7022
ID = 1051
pos = -5*Helper(999999),Fvar(16),5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = -1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 275
value = S180,72
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 275
value = S180,72
volume = 999

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===============================================================================
; Intro (Vs Seelkadoom 1)
;-------------------------------------------------------------------------------
[Statedef 11192]
type = S
ctrl = 0
anim = 11192
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 11192
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 11192
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 11192
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 11192
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 11192
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 11192
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 11192
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 11192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 11192
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 11192
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S180,35
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S180,35
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 91
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1= time = 91
value = S5,35
channel = 2

[State 0, Explod]
type = Explod
trigger1 = time = 91
anim = 4151
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 95
v = 2    ;fv = 10
value = 2

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 91
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
; Hyper Sonic Intro
[Statedef 13190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 802
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 13190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 13190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 13190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 13190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 13190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 13190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 13190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 13190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 13190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 13190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,67
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 85
value = S5,67
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 85
value = S5,67
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 884
ID = 870
pos = 0,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 877
ID = 870
pos = 0,15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1.1,1.1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 878
ID = 870
pos = -25,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 879
ID = 870
pos = 25,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 880
ID = 870
pos = -40,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 881
ID = 870
pos = 40,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 882
ID = 870
pos = -25,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 85
anim = 883
ID = 870
pos = 25,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
pausemovetime = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 870
ID = 870
pos = 0,15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 871
ID = 870
pos = -25,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 872
ID = 870
pos = 25,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 873
ID = 870
pos = -40,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 874
ID = 870
pos = 40,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 875
ID = 870
pos = -25,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 876
ID = 870
pos = 25,-35
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 85
pausemovetime = 0
scale = 1,1
sprpriority = 2
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0||time = 85
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 12,0
value = S5,28
volumescale = 50

[State 0, FX Raio]
type = Explod
triggerall = time = [0,250]
trigger1 = timemod = 8,0
anim = 7052+random%3
ID = 7052
pos = -100+random%200,20-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, FX Raio]
type = Explod
triggerall = time = [250,400]
trigger1 = timemod = 8,0
anim = 7058+random%3
ID = 7052
pos = -100+random%200,20-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, EnvShake]
type = EnvShake
triggerall = time = [85,175]
trigger1 = time%5 = 0
time = 4
ampl = -3

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [180,360]
trigger1 = timemod = 12,0
value = S5,29
volume = 999

[State 0, Luz FX]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Luz FX Hyper"
ID = 851
stateno = 851
pos = 0,-50
postype = p1
facing = -1
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999
pausemovetime = 999

[State 0, Explosion]
type = Explod
trigger1 = time = 260
anim = 704
ID = 704
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 250
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 250
helpertype = Normal
name = "Hyper Activado"
ID = 844
stateno = 844
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [70,120]
trigger1 = timemod = 10,0
value = 802
elem = 5

[State 0, VelSet]
type = VelSet
triggerall = time = [70,95]
trigger1 = timemod = 1,0
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = 96
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [175,240]
trigger1 = timemod = 10,0
value = 802
elem = 8

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [240,260]
trigger1 = timemod = 10,0
value = 802
elem = 9

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [260,360]
trigger1 = timemod = 10,0
value = 802
elem = 10

[State 0, VelSet]
type = VelSet
triggerall = time = [335,360]
trigger1 = timemod = 1,0
y = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time = [360,390]
trigger1 = timemod = 10,0
value = 802
elem = 11

[State 0, VelSet]
type = VelSet
trigger1 = time = 361
y = 0

[State 0, Full Power - Aura BG]
type = Helper
trigger1 = time = 260
name = "Full Power - Aura BG"
ID = 550
stateno = 889
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Full Power - Aura]
type = Helper
trigger1 = time = 260
name = "Full Power - Aura"
ID = 550
stateno = 890
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion]
type = Explod
trigger1 = time = 400
anim = 704
ID = 704
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 400
anim = 7022
ID = 1051
pos = 15,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .75,.75
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 400
anim = 7022
ID = 1051
pos = -15,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .75,.75
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 190, 4]
type = ChangeState
trigger1 = Time = 400
value = 0
;===============================================================================
; Intro (Vs Seelkadoom 2)
;-------------------------------------------------------------------------------
[Statedef 13191]
type = S
ctrl = 0
anim = 13191
velset = 0,0
sprpriority = 2

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 13191
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 13191
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 13191
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 13191
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 13191
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 13191
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 13191
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 13191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 13191
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 13191
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 170
v = 2    ;fv = 10
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 325
v = 2    ;fv = 10
value = 4

[State 190, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, FX Raio]
type = Explod
triggerall = time = [170,220]
trigger1 = timemod = 8,0
anim = 7055+random%3
ID = 7052
pos = -100+random%200,20-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [170,220]
trigger1 = timemod = 12,0
value = S5,28
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 170
anim = 4151
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 340
value = S180,57

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S500,1
channel = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 170
value = S500,1
channel = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 170||time = 340
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion]
type = Explod
trigger1 = time = 340
anim = 9105
ID = 9105
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 80
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 340
time = 80

[State 0, Explod]
type = Explod
trigger1 = Time = 110
anim = 7036
ID = 7036
pos = 12,-5
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .05*Helper(999999),Fvar(16),.05*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 310
anim = 7000
ID = 7036
pos = 11,-12
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .05*Helper(999999),Fvar(16),.05*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 110
value = S1,7030
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 420
value = S5,71
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50||time = 310
value = S52,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50||time = 310
value = S52,1
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 270
value = S5,15
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 270
value = S5,15
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 290
anim = 7032
ID = 7032
pos = 10,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
vel = -1,0

[State 0, Explod]
type = Explod
trigger1 = time = 270
anim = 889
ID = 870
pos = 50,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 1.2,1.2
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 270
value = S5,67
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 270
value = S5,67
volume = 999

[State 0, Power Charge - Aura BG]
type = Helper
trigger1 = time = 420
name = "Power Charge - Aura BG"
ID = 550
stateno = 131911
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .40
size.yscale = .40
[State 0, Power Charge - Aura]
type = Helper
trigger1 = time = 420
name = "Power Charge - Aura"
ID = 550
stateno = 131912
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45
size.yscale = .45

[State 190, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 131911]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 537
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno != 13191

[State 200, End]
type = Changestate
trigger1 = root,stateno != 13191
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 131912]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 552
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Rayos SS2]
type = Explod
triggerall = var(2) = 3
trigger1 = timemod = 10,0
anim = 9030+(RANDOM%3)
ID = 9030
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.8*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 12,0
value = S5,28
volumescale = 50

[State 0, FX Raio]
type = Explod
trigger1 = timemod = 8,0
anim = 7058+random%3
ID = 7052
pos = -100+random%200,20-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno != 13191

[State 200, End]
type = Changestate
trigger1 = root,stateno != 13191
value = 555
;-------------------------------------------------------------------------------
;===========================================================================
; Darkspine Sonic Intro
[Statedef 15190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 804
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 15190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 15190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 15190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 15190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 15190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 15190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 15190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 15190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 15190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 15190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11
;---------------------------------

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 1,250
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,67
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 886
ID = 870
pos = 25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
pausemovetime = 0
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 887
ID = 870
pos = -25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
pausemovetime = 0
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 888
ID = 870
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
pausemovetime = 0
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1,197
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999

[State 0, Luz FX]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Luz FX"
ID = 850
stateno = 852
pos = 0,-50
postype = p1
facing = -1
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999
supermove = 999
pausemovetime = 999

[State 0, Full Power - Aura BG]
type = Helper
trigger1 = time = 60
name = "Full Power - Aura BG"
ID = 550
stateno = 895
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Full Power - Aura]
type = Helper
trigger1 = time = 60
name = "Full Power - Aura"
ID = 550
stateno = 896
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45
size.yscale = .45
supermovetime = 99999999
pausemovetime = 99999999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 60
helpertype = Normal
name = "S1 Activado"
ID = 845
stateno = 845
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 60
anim = 705
ID = 705
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 60||time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
;Excalibur Sonic Intro
[Statedef 17190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 805
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = intro

;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 17190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 17190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 17190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 17190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 17190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 17190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 17190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 17190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 17190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 17190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 1,250
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1,197
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999

[State 0, Luz FX]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Luz FX"
ID = 850
stateno = 850
pos = 0,-50
postype = p1
facing = -1
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999
supermove = 999
pausemovetime = 999

[State 0, Full Power - Aura BG]
type = Helper
trigger1 = time = 0
name = "Full Power - Aura BG"
ID = 550
stateno = 897
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Full Power - Aura]
type = Helper
trigger1 = time = 0
name = "Full Power - Aura"
ID = 550
stateno = 898
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
supermovetime = 99999999
pausemovetime = 99999999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "S1 Activado"
ID = 846
stateno = 846
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 173
anim = 703
ID = 703
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 85
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;===========================================================================
;Werehog Sonic Intro
[Statedef 19190]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 806
poweradd = 0
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1

[State 190, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Intro
;------------------------------------
; Change Pallete
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 18
value = 0
persistent = 1

[State 0]
type = PlaySnd
trigger1 = command = "fwd"
trigger2 = command = "back"
value = 1,1306

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 14
trigger1 = command = "fwd"
v = 18
value = -1

[State 0, VarSet]
type = VarSet
triggerall = var(18) = 0
trigger1 = command = "back"
v = 18
value = 15

[State 0, Varadd]
type = Varadd
trigger1 = command = "fwd"
v = 18
value = 1
persistent = 1

[State 0, Varadd]
type = Varadd
trigger1 = command = "back"
v = 18
value = -1
persistent = 1

[State 0, Bar]
type = Explod
trigger1 = Stateno = 19190
anim = 9066
ID = 9050
pos = 0,-57
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1
[State 0, Bar]
type = Explod
trigger1 = Stateno = 19190
anim = 9065
ID = 9050
pos = 0,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 1||var(18) = 6
trigger1 = Stateno = 19190
anim = 9062
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 0||var(18) = 2
trigger1 = Stateno = 19190
anim = 9061
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Bar]
type = Explod
triggerall = var(18) = 3||var(18) = 4||var(18) = 5||var(18) = 7||var(18) = 8||var(18) = 9||var(18) = 10||var(18) = 11||var(18) = 12||var(18) = 13||var(18) = 14
trigger1 = Stateno = 19190
anim = 9063
ID = 9050
pos = -1-(teamside=2)*-2,-60
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 1]
type = Explod
trigger1 = Stateno = 19190
anim = 9001
ID = 9050
pos = -38-(teamside=2)*-76,-52
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 2]
type = Explod
trigger1 = Stateno = 19190
anim = 9000
ID = 9050
pos = -10-(teamside=2)*-20,-51
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .45,.45
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) < 9
trigger1 = Stateno = 19190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 19190
anim = 9002
ID = 9050
pos = 29-(teamside=2)*58,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, 3]
type = Explod
triggerall = var(18) = [9,18]
trigger1 = Stateno = 19190
anim = 9002 +(var(18)%10)
ID = 9050
pos = 38-(teamside=2)*75,-50
postype = p1  ;p2,front,back,left,right
facing = 1-(teamside=2)*2
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 0
scale = .55,.55
sprpriority = 3
ontop = 1
ownpal = 1
;---------------------------------

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =time = 30
value = S5,30
volume = 999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 0
helpertype = Normal
name = "S1 Activado"
ID = 847
stateno = 847
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = time = 30
trigger1 = numexplod(8015) = 0
anim = 8015
ID = 8015
pos = 0,-100
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = 0.7,0.7
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
supermovetime = 999
pausemovetime = 999

[State 0, Explosion]
type = Explod
trigger1 = time = 30
anim = 703
ID = 703
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999
trans = Sub

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 30
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID > partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 0

[State 0, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = ID > enemy,ID
trigger1 = !time
v = 18   ;fv = 10
value = 14

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 1
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 5

[State 0, VarSet]
type = VarSet
triggerall = TeamMode = Simul
triggerall = teamside = 2
triggerall = ID < partner,ID
trigger1 = !time
v = 18   ;fv = 10
value = 11

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;-------------------------------------------------------------------------------
; A - 1
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 200
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 2
attr = S, NA
damage = 5
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 5
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -15

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 330

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 2
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 210
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 2
attr = S, NA
damage = 5
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,21
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 5
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -15

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 220

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 310

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 3
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 220
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,14
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 4051
ID = 4051
pos = 5,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.1,0.1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -20

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = var(6) = 1
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 250

[State 200, End]
type = ChangeState
Triggerall = var(6) = 0
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 230

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 3,5
[Statedef 250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 250
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6003
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 230

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 4
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 230
poweradd = 40
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 2
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,22
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9100
ID = 9100
pos = 11,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -27

[State 200, End]
type = ChangeState
Triggerall = var(6) = 1
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 260

[State 200, End]
type = ChangeState
Triggerall = var(6) = 0
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 240

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 4,5
[Statedef 260]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 260
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6003
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 240

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 5
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 240
poweradd = 40
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 11
anim = 4051
ID = 4051
pos = 5,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.12,0.1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -65

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 18

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = animelem = 5

[State 0, Explod]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 10,22
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,0
Envshake.time = 15
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 245

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 6
[Statedef 245]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 245
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,52
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 9100
ID = 9100
pos = 11,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .12,.12
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -27

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 15
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,-4
Fall = 1
EnvShake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 1
[Statedef 300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 300
poweradd = 40
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 4051
ID = 4051
pos = 1,-22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.12,0.12
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -50

[State 0, VelSet]
type = VelSet
triggerall = prevstateno = 240
trigger1 = time = 0
x = 9

[State 0, VelSet]
type = VelSet
triggerall = prevstateno != 240
trigger1 = time = 0
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 2
attr = S, NA
damage = 5
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 310

[State 200, End]
type = ChangeState
Triggerall = prevstateno != 220
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 210

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 2
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 310
poweradd = 40
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 4051
ID = 4051
pos = 1,-22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.12,0.12
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 320

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 3
[Statedef 320]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 1619
ID = 9000
pos = 0,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
scale = .15,.35
sprpriority = 3
ontop = 1
removeongethit = 1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 3,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2.5,-4

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 45
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 330

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 45
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 240

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 4
[Statedef 330]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 2
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,16
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9100
ID = 9100
pos = 11,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -27

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)


[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 340

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 5
[Statedef 340]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 340
poweradd = 40
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = animelem = 5

[State 0, Explod]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 5
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 1,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,0
air.velocity = -3,0
Envshake.time = 15

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = power >= 1000
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "SPECIAL 1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1000

[State 200, End]
type = ChangeState
Triggerall = power >= 1000
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "SPECIAL 2"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1100

[State 200, End]
type = ChangeState
Triggerall = power >= 1000
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1200

[State 200, End]
type = ChangeState
Triggerall = power >= 1500
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "SPECIAL 4"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1300

[State 200, End]
type = ChangeState
Triggerall = var(6) = 1
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 360

[State 200, End]
type = ChangeState
Triggerall = var(6) = 0
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 350

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 240

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 5,4
[Statedef 360]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 360
poweradd = 40
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9100
ID = 9100
pos = 15,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.15
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6003
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 370

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 5,8
[Statedef 370]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 370
poweradd = 40
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9100
ID = 9100
pos = 25,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.15
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6003
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 350

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 6
[Statedef 350]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 350
poweradd = 40
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 9100
ID = 9100
pos = 10,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-6
air.velocity = -3,-6
Envshake.time = 15
fall = 1
fall.recover = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 355

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;B - 7
[Statedef 355]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 603
poweradd = 0
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.3
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = 10,8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.3
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Super Jump]
type = PlaySnd
trigger1 = Time = 0
value = S60,1
volume = 999
channel = -1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 1
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N 

[State 0, VelSet]
type = VelSet
trigger1 = !time
x = 3
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%5 = 0
trigger2 = time = 0
value = S1,260
volume = 100

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = 610
ctrl = 1

;---------------------------------------------------------------------------
; Tornado Kick - Start
[Statedef 380]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 320
poweradd = -200
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

;[State 0, Explod]
;type = Explod
;trigger1 = time = 0
;anim = 1619
;ID = 9000
;pos = 0,-15
;postype = p1  ;p2,front,back,left,right
;facing = 1
;vfacing = 1
;bindtime = -1
;vel = 0,0
;accel = 0,0
;random = 0,0
;removetime = -1
;scale = .15,.35
;sprpriority = 3
;ontop = 1
;removeongethit = 1
;ownpal = 1
;pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 3,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2.5,-4

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

;[State 0, RemoveExplod]
;type = RemoveExplod
;trigger1 = stateno != 380
;trigger2 = command = "down"
;id = 9000

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 45
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 390

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Tornado Kick - End
[Statedef 390]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 330
poweradd = -300
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 2
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,16
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9100
ID = 9100
pos = 11,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -27

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = stateno = 390||stateno = 10||stateno = 11||stateno = 0
trigger2 = command = "down"
id = 9000

[State 0, TargetState]
type = TargetState
triggerall = var(2) = 0||var(2) = 5
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100


[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
; C:
;-------------------------------------------------------------------------------
[Statedef 400]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 400
velset = 0,0
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 16
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Wind]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Wind"
ID = 405
stateno = 405
pos = 3*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .28*Helper(999999),Fvar(16)
size.yscale = .23*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Sonic Wave Helper
[Statedef 405]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 6,0
ctrl = 0
anim = 410
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim = 7022
ID = 1051
pos = 0,-2
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 410
time = 999

[State 200, 1]
type = HitDef
Triggerall = !moveguarded
triggerall = hitcount < 10
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 8,4
guardflag = MA
pausetime = 6,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-0
air.velocity = -3,-0
Envshake.time = 20
Sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = movecontact
anim = 415
ID = 415
pos = 30,-30
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .08,.08
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State 200, End]
type = changestate
trigger1 = hitcount > 4
trigger2 = frontedgebodydist < -100
trigger3 = frontedgebodydist < -25
trigger4 = time = 500
value = 410

[State 200, End]
type = changestate
trigger1 = moveguarded
trigger2 = time = 500
value = 410
;-------------------------------------------------------------------------------
; Ki Blast -  Fin
[Statedef 410]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20*Helper(999999),Fvar(16)
y = 0

[State 0, Explod]
type = Explod
trigger1 = 1
anim = 415
ID = 415
pos = 0,-10
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .10,.10
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;---------------------------------------------------------------------------
; Spin Dash
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 205+var(11)
poweradd = -500
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
persistent = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 9
trigger2 = time > 9 && time%10 = 0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 0||var(2) = 2
trigger1 = time = 35||time = 50||time = 65
anim = 7051
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 120
scale = .15,.15
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 9
trigger1 = time = 35||time = 50||time = 65
anim = 7050
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 120
scale = .15,.15
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 4
trigger1 = time = 35||time = 50||time = 65
anim = 28350
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 120
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = var(2) = 5||var(2) = 1||var(2) = 9||var(2) = 8||var(2) = 6||var(6) = 1
triggerall = time = 30
trigger1 = command != "hold_b"
value = 206

[State 200, End]
type = ChangeState
triggerall = var(2) = 1||var(2) = 5||var(2) = 6||var(2) = 7||var(2) = 8
trigger1 = time = 30
value = 206

[State 200, End]
type = ChangeState
triggerall = var(6) = 1
trigger1 = time = 30
value = 206

[State 200, End]
type = ChangeState
triggerall = var(2) = 0||var(2) = 2||var(2) = 4||var(2) = 9
triggerall = time = [30,69]
trigger1 = command != "hold_b"
value = 206

[State 200, End]
type = ChangeState
triggerall = var(2) = 0||var(2) = 2||var(2) = 4||var(2) = 9
triggerall = time = [70,80]
trigger1 = time >= 80
value = 470
;---------------------------------------------------------------------------
; Spin Dash Continue
[Statedef 206]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 206+var(11)
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
persistent = 1
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 0||var(2) = 8
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2070
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 8
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2070
ID = 2070
pos = 0,7
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 1
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2072
ID = 2070
pos = -2,4
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 2
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2071
ID = 2070
pos = -1,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 9
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2073
ID = 2070
pos = 0,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 5
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2073
ID = 2070
pos = -1,3
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 7051
ignorehitpause = 1
persistent = 1

[State 0, SS1 Activado]
type = Helper
triggerall = prevstateno = 205
trigger1 = time = 0
helpertype = Normal
name = "Spindash Activado"
ID = 450
stateno = 450
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Helper]
type = Helper
triggerall = numhelper(209) = 0
triggerall = var(2) = 0||var(2) = 8
trigger1 = time = 0
helpertype = normal 
name = "girando"
ID = 209
stateno = 209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
triggerall = numhelper(209) = 0
triggerall = var(2) = 1
trigger1 = time = 0
helpertype = normal 
name = "girando"
ID = 209
stateno = 2209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
triggerall = numhelper(209) = 0
triggerall = var(2) = 2||var(2) = 9
trigger1 = time = 0
helpertype = normal 
name = "girando"
ID = 209
stateno = 11209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
triggerall = numhelper(209) = 0
triggerall = var(2) = 4
trigger1 = time = 0
helpertype = normal 
name = "girando"
ID = 209
stateno = 14054
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
size.xscale = .3*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)

[State 0, VelSet]
type = VelSet
triggerall = var(2) = 0
trigger1 = time > 0
x = 10
[State 0, VelSet]
type = VelSet
triggerall = var(2) = 1
trigger1 = time > 0
x = 12
[State 0, VelSet]
type = VelSet
triggerall = var(2) = 5
trigger1 = time > 0
x = 13
[State 0, VelSet]
type = VelSet
triggerall = var(2) = 2
trigger1 = time > 0
x = 15
[State 0, VelSet]
type = VelSet
triggerall = var(2) = 3||var(2) = 9
trigger1 = time > 0
x = 18
[State 0, VelSet]
type = VelSet
triggerall = var(2) = 8
trigger1 = time > 0
x = 20
[State 0, VelSet]
type = VelSet
triggerall = var(2) = 4
trigger1 = time > 0
x = 22

[State 0, Explod]
type = Explod
triggerall = vel x != 0
trigger1 = timemod = 4,0 && time > 5 && pos y = 0
anim = 7022
ID = 7022
pos = -5,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = 0
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1

[State 200, 1]
type = HitDef
triggerall = hitcount < 10
trigger1 = 1
attr = S, SA
animtype = light
damage = 10,1
HITFLAG = MAFDE
guardflag = MA
pausetime = 7,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-7
air.velocity = -5,-7
Fall = 1
Envshake.time = 10

[State 0, Hit Spark]
type = Explod
trigger1 = movehit = 1
anim = 7010
ID = 7010
pos = 2,-2
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0

[State 200, 5]
type = ChangeState
trigger1 = command = "holdup"
value = 211
ctrl = 0

[State 200, 5]
type = ChangeState
trigger1 = command = "holdback"
value = 207
ctrl = 0

[State 200, 5]
type = ChangeState
trigger1 = numhelper(450) = 0
value = 208
ctrl = 0
;---------------------------------------------------------------------------
; Spin Dash Back
[Statedef 207]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 205+var(11)
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
persistent = 1
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, Veladd]
type = Veladd
trigger1 = time < 3
x = -3

[State 0, Veladd]
type = Veladd
trigger1 = time = 8
x = 0

[State 200, 5]
type = ChangeState
trigger1 = time = 13
value = 206
ctrl = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 2070
ignorehitpause = 1
persistent = 1

[State 200, 5]
type = ChangeState
trigger1 = numhelper(450) = 0
value = 208
ctrl = 0
;---------------------------------------------------------------------------
; Spin Dash End
[Statedef 208]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 207+var(11)
sprpriority = 2


[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0
persistent = 1
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 2070
ignorehitpause = 1
persistent = 1

[State 250, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Rolling FX
[Statedef 209]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
anim = 1509
sprpriority = -1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 190,256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-10
ignorehitpause = 352

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .020,.020
ignorehitpause = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 206 && root,stateno != 611 && root,stateno != 1303 && root,stateno != 211
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Spin Dash
[Statedef 211]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 206+var(11)
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = vel x = 0
x = 6

[State 0, Explod]
type = Explod
triggerall = var(2) = 0||var(2) = 8
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2070
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 1
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2072
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 2
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2071
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 5
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2073
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100

[State 0, Gravity]
type = Gravity
trigger1 = 1
;ignorehitpause = 
;persistent = 

[State 200, 1]
type = HitDef
triggerall = hitcount < 10
trigger1 = 1
attr = S, SA
animtype = light
damage = 10,1
HITFLAG = MAFDE
guardflag = MA
pausetime = 7,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-7
air.velocity = -5,-7
Fall = 1
Envshake.time = 10

[State 0, Hit Spark]
type = Explod
trigger1 = movehit = 1
anim = 7010
ID = 7010
pos = 2,-2
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermove
pausemove
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -8
ignorehitpause = 1

[State 200, End]
type = ChangeState
triggerall = time >= 5
trigger1 = pos y >= -5
value = 206
ctrl = 1
;---------------------------------------------------------------------------
;Rolling FX
[Statedef 2209]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
anim = 1508
sprpriority = -1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-10
ignorehitpause = 352

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .020,.020
ignorehitpause = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 206 && root,stateno != 611
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
;Rolling FX
[Statedef 11209]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1507
sprpriority = -3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 190,256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-10
ignorehitpause = 352

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .020,.020
ignorehitpause = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 206 && root,stateno != 611 && root,stateno != 25304 && root,stateno != 211
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
;Rolling FX
[Statedef 15209]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1509
sprpriority = -3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 190,256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-10
ignorehitpause = 352

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .1,.1
ignorehitpause = 999
value = 1-time%90

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 206 && root,stateno != 611 && root,stateno != 211
trigger2 = root,movetype = H
;===============================================================================
;Counter [Start]
;-------------------------------------------------------------------------------
[Statedef 301]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 301
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time >= 5
reversal.attr = SCA,NA,SA,ST,HT,NP        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,10
sparkno = S9999
p1stateno = 303

[State 200, End]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Counter [Successfull]
[Statedef 303]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 302
poweradd = -150
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 7
x = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 10
movetime = 10

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = time = 6

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;===============================================================================
; Teleport
;-------------------------------------------------------------------------------
[Statedef 305]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 305+var(11)
poweradd = -500
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23308
ignorehitpause = 1
persistent = 1

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 10
time = 25
movetime = 25
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 10
v = 1
value = 256

[State 0, VarAdd]
type = VarAdd
trigger1 = time < 30
v = 1
value = 256

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = [10,30]
time = 1
invertall = 0
color = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,22
volume = 50

[State 0, PosSet]
type = Posadd
trigger1 = time = 10
x = p2bodydist x + 80

[State 0, Turn]
type = Turn
trigger1 = time = 10

[State 0, PosSet]
type = PosSet
trigger1 = time = 11
y = ifelse(enemy,pos y >= 0,0,enemy,pos y+ifelse(enemy,pos y < -60,60,0))

[State 0, Air Dash Wave]
type = Explod
triggerall = var(2) = 2||var(2) = 3
trigger1 = time = 9||time = 20
anim = 107
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Supermove = 999999

[State 0, Air Dash Wave]
type = Explod
triggerall = var(2) = 1
trigger1 = time = 9||time = 20
anim = 107
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Supermove = 999999
trans = Sub

[State 0, Air Dash Wave]
type = Explod
triggerall = var(2) = 8
trigger1 = time = 9||time = 20
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Supermove = 999999

[State 0, Air Dash Wave]
type = Explod
triggerall = var(2) = 0||var(2) = 4
trigger1 = time = 9||time = 20
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Supermove = 999999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;---------------------------------------------------------------------------
; Spindash - Activado
[Statedef 450]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = time = 200
;-------------------------------------------------------------------------------
; CHARGED UP! - Start
[Statedef 470]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 470
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 0
triggerall = time = [0,100]
trigger1 = timemod = 5,0
value = 470
elem = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2
triggerall = time = [0,100]
trigger1 = timemod = 5,0
value = 11470
elem = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
triggerall = time = [0,100]
trigger1 = timemod = 5,0
value = 13470
elem = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
triggerall = time = [0,100]
trigger1 = timemod = 5,0
value = 23470
elem = 1
persistent = 1

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 2||var(2) = 0
trigger1 = time = 10
anim = 7051
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 120
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 2||var(2) = 0
trigger1 = time = 5
anim = 7051
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 125
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -45

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 4
trigger1 = time = 10
anim = 28350
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 120
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 4
trigger1 = time = 5
anim = 28350
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 125
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -45

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 9
trigger1 = time = 10
anim = 7050
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 120
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 9
trigger1 = time = 5
anim = 7050
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 125
scale = .3,.3
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -45

[State 0, Punch FX]
type = Explod
triggerall = var(2) = 4
trigger1 = time = 5
anim = 28350
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 125
scale = .5,.5
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -45

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 9
trigger1 = time = 120
value = S180,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 9
trigger1 = time = 120
value = S180,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 9
trigger1 = time = 120
value = S180,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 9
trigger1 = time = 120
value = S180,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 9
trigger1 = time = 120
value = S180,78
volume = 999
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 9
trigger1 = time = 120
value = S180,78
volume = 999

[State 0, Light Speed]
type = Helper
triggerall = numhelper(1350) = 0
trigger1 = time = 100
helpertype = normal
name = "Light Speed"
ID = 460
stateno = 460
pos = 0,0
postype = left
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
freq = 60
ampl = -4
time = 10

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 120
movetime = 120
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time < 30
time = 1
add = Var(12),Var(12),Var(12)

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; CHARGED UP! - Fin
[Statedef 475]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
poweradd = 0
sprpriority = -1

[State 0, Changeanim]
type = ChangeState
trigger1 = time = 0
value = 476+random%3
;-------------------------------------------------------------------------------
; CHARGED UP! - Override 1
[Statedef 476]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 471+var(11)
poweradd = -100
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 11471

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23471

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13471

[State 0, VelSet]
type = VelSet
trigger1 = time < 5 
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 
x = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,ST,HT
time = 15

[State 0, Teleport]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Teleport"
ID = 581
stateno = 581
pos = 0,-25
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .2

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; CHARGED UP! - Override 2
[Statedef 477]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 472+var(11)
poweradd = -100
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 11472

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23472

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13472

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -2

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 15
trans = Add
length = 2
timegap = 2
framegap = 2
palbright = 0 , 0 , 0
palcontrast = 180, 200, 230
paladd = 0,0,1
palmul = .50, .50, 1.10

[State 0, VelSet]
type = VelSet
trigger1 = time < 5 
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time > 5 
x = -2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,ST,HT
time = 15

[State 0, Teleport]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Teleport"
ID = 581
stateno = 581
pos = 0,-25
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .2

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; CHARGED UP! - Override 3
[Statedef 478]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 473+var(11)
poweradd = -100
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 11473

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23473

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13473

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,ST,HT
time = 15

[State 0, Teleport]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Teleport"
ID = 580
stateno = 580
pos = 0,-25
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .2

[State 200, End]
type = ChangeState
trigger1 = Time = 15
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
; CHARGED UP! - ON
[Statedef 460]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 9

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 6
value = 1

[State 200, End]
type = Changestate
trigger1 = time = 2000;1500
trigger2 = roundstate != 2
value = 461
;-------------------------------------------------------------------------------
; CHARGED UP! - Desactivado
[Statedef 461]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 6
value = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Air Combo 1-1
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 600

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype = Medium
damage = 10
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-4
Fall = 0
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movehit
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 610

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; Air Combo 2-1
[Statedef 601]
type    = A
movetype= A
physics = A
juggle  = 3
poweradd= 20
ctrl = 0
anim = 601

[State 0, AngleDraw]
type = AngleDraw
triggerall = var(2) = 5
trigger1 = time > 8
value = -45

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13661
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23661
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 15601
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 604
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 607
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = ifelse(vel X <= 0, -2, 2)
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
x = 8
y = 6

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 9
trigger1 = time = 0
value = S0,230
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 15
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Fall = 1

[State 0, TargetState]
type = TargetState
triggerall = var(2) = 0||var(2) = 5
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,-3
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = var(2) = 0||var(2) = 5
trigger1 = movecontact
value = 603

[State 200, End]
type = ChangeState
triggerall = var(2) = 1
trigger1 = movecontact
value = 607

[State 200, End]
type = ChangeState
triggerall = var(2) = 2||var(2) = 3
trigger1 = movecontact
value = 604

[State 200, End]
type = ChangeState
triggerall = var(2) = 8
trigger1 = movecontact
trigger1 = !moveguarded
value = 606

[State 200, End]
type = ChangeState
triggerall = var(2) = 4
trigger1 = movecontact
trigger1 = !moveguarded
value = 13662

[State 200, End]
type = ChangeState
triggerall = var(2) = 9
trigger1 = movecontact
trigger1 = !moveguarded
value = 23662

[State 200, End]
type = ChangeState
trigger1 = pos y >= -10
value = 602
;---------------------------------------------------------------------------
; Air Combo 2-1 End
[Statedef 23662]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 5,0
ctrl = 0
anim = 23662
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9103
ID = 9100
pos = 19,-6
postype = p1  ;p2,front,back,left,right
facing = -1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .18,.18
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, TargetBind]
type = TargetBind
trigger1 = !time
time = 1
pos = 20,0
ignorehitpause = 1
persistent = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.5,-6
air.velocity = -2.5,-6
EnvShake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 6
y = -5

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 23612
ctrl = 1
;---------------------------------------------------------------------------
; Air Combo 2-1 End
[Statedef 13662]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 13662
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0||time = 1
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = 999999
supermovetime = 999999
Supermove = 999999
supertime = 999999

[State 0, Posadd]
type = Posadd
trigger1 = time = 1
x = p2bodydist x +25
y = p2bodydist y +45

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 25
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = -6
y = -4

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Air Combo 2-1 End
[Statedef 602]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 5,0
ctrl = 0
anim = 602
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 11006
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13006
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23006
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 15006
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 2006
ignorehitpause = 1
persistent = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Spin Dash Boost FX
[Statedef 14054]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 13285
sprpriority = 5

[State 0, Turn]
type = Turn
trigger1 = root,stateno = 207

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -25,-10
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0.9*Helper(999999),Fvar(16),0.9*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1
persistent = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 190,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 206 && 207 && root,stateno != 211
;---------------------------------------------------------------------------
[Statedef 603]
type    = A
movetype= I
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 603
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 2603
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 15603
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23663
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13652
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 7281
ignorehitpause = 1
persistent = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%7 = 0
trigger2 = time = 0
value = S1,260
volume = 100

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 604]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 605
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2
x = 1
y = 0.3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 2
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-0
air.velocity = -0,-0

[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = movecontact
x = 0
y = 0

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = time = 30
value = 605
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 605]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 606
poweradd = 40
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 15
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Fall = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4055
ID = 4055
pos = 10,-10
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = -5,-5
removetime = -2
pausemovetime = 9999
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999
angle = -45

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8300
trigger1 = movehit = 1
value = 8300

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 606]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,1
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 14

[State 0, VelSet]
type = VelSet
trigger1 = pos y <= -10
y = 9

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= -10
y = 0

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
time = 2
pos = 10,20

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 40
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S9999,9999
guardsound = S9999,9999
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
Fall = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 70
value = 8100

[State 0, TargetState]
type = TargetState
trigger1 = time < 69
value = 5000

[State 0, PlaySnd]
type = PlaySnd
triggerall = pos y >= -10
trigger1 = timemod = 8,0
value = S100,3
volume = 50

[State 0, EnvShake]
type = EnvShake
triggerall = pos y >= -10
trigger1 = timemod = 8,0
time = 21
freq = 60
ampl = -14

[State 0, Tierra Impact]
type = Explod
triggerall = pos y >= -10
trigger1 = timemod = 8,0
anim = 8260
ID = 8260
pos = -10*Helper(999999),Fvar(16),-0*Helper(999999),Fvar(16)
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .6*Helper(999999),Fvar(16),.70*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Roto]
type = Explod
triggerall = pos y >= -10
trigger1 = timemod = 6,0
anim = 7040
ID = 7040
pos = -20*Helper(999999),Fvar(16),2
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Humo Suelo]
type = Explod
triggerall = pos y >= -10
trigger1 = timemod = 5,0
anim = 8245
ID = 8245
pos = -20*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Estellas]
type = Explod
trigger1 = timemod = 12,0
trigger2 = numhelper(849) = 1
anim = 1617
ID = 1617
pos = -40,-50
postype = p1
bindtime = -1
vel = 0,0
removetime = 35
scale = .25,.25
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = 140

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 603
ctrl = 0
;---------------------------------------------------------------------------
[Statedef 607]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 608
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 2352
ID = 2352
pos = 5,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
scale = .5,.5
supermovetime = 999
pausemovetime = 999
trans = sub
angle = -45
ontop = 1

[State 200, 1]
type = HitDef
triggerall = animelem = 1
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 15
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6010
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Fall = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Air Combo 1-2
[Statedef 610]
type = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 610
poweradd = 30
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -1
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,220
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 15
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6004
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5
EnvShake.time = 12

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; C Aire:
;-------------------------------------------------------------------------------
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 620
velset = 0,0
poweradd = -500
sprpriority = 2

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,-10
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 16
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = -2
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50

[State 0, Chaos Spear]
type = Helper
trigger1 = time = 15
helpertype = normal
name = "Wind"
ID = 405
stateno = 625
pos = 5*Helper(999999),Fvar(16),5*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25*Helper(999999),Fvar(16)
size.yscale = .20*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Sonic Wave Helper
[Statedef 625]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 410
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 410
time = 999

[State 200, 1]
type = HitDef
Triggerall = !moveguarded
triggerall = hitcount < 10
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 8,4
guardflag = MA
pausetime = 6,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-0
air.velocity = -3,-0
Envshake.time = 20
Sprpriority = 3

[State 0, Explod]
type = Explod
triggerall = numexplod(415) = 0
trigger1 = movecontact
anim = 415
ID = 415
pos = 0,-10
postype = p2 
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .10,.10
sprpriority = 10
ontop = 0
ownpal = 1
removeongethit = 0

[State 200, End]
type = Changestate
trigger1 = frontedgebodydist < 0
trigger2 = time = 500
trigger3 = pos y >= 25
trigger4 = hitcount > 4
value = 410
;-------------------------------------------------------------------------------
; Ondas
[Statedef 616]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7410
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5+time*.2,.5+time*.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time >= 10
;-----------------------------------------------------------------------
; Holling attack
[Statedef 611]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 611
poweradd = -200
velset = 0,0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 614
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 617
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 2611
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23651
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13651
ignorehitpause = 1
persistent = 1

[State 0]
type = Helper
trigger1 = time =3
helpertype = normal
name = "Effect"
ID = 615
stateno = 615
pos = 0,0
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
triggerall = var(2) = 0||var(2) = 8||var(2) = 4
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2070
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 1
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2072
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 2
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2071
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 5
triggerall = numexplod(2070) = 0
trigger1 = 1
anim = 2073
ID = 2070
pos = 0,1
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .85,.85
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 5700
scale = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S1,300
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 60
length = 20
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Helper]
type = Helper
triggerall = var(2) = 0||var(2) = 8
trigger1 = time = 8
helpertype = normal 
name = "girando"
ID = 209
stateno = 209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 0, Helper]
type = Helper
triggerall = var(2) = 1
trigger1 = time = 8
helpertype = normal 
name = "girando"
ID = 209
stateno = 2209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 0, Helper]
type = Helper
triggerall = var(2) = 2||var(2) = 9
trigger1 = time = 0
helpertype = normal 
name = "girando"
ID = 209
stateno = 11209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = 999

[State 0, TargetState]
type = TargetState
triggerall = var(2) = 8||var(2) = 4
trigger1 = movecontact
value = 7000

[State Null]
type = Null
trigger1 = (!Time)
trigger1 = (FVar(16) := (P2Dist X * 15) / (Exp(0.5*ln((P2Dist X * P2Dist X) + (P2Dist Y * P2Dist Y)))))
trigger1 = (FVar(17) := (P2Dist Y * 15) / (Exp(0.5*ln((P2Dist X * P2Dist x) + (P2Dist Y * P2Dist Y)))))
trigger1 = (FVar(18) := (P2Dist X * 20) / (Exp(0.5*ln((P2Dist X * P2Dist X) + (P2Dist Y * P2Dist Y)))))
trigger1 = (FVar(19) := (P2Dist Y * 20) / (Exp(0.5*ln((P2Dist X * P2Dist x) + (P2Dist Y * P2Dist Y)))))
  
[State  VelSet]
type = VelSet
triggerall = var(2) = 0
trigger1 = time = [20,30]
x = FVar(16)
y = FVar(17)

[State  VelSet]
type = VelSet
triggerall = var(2) != 0
trigger1 = time = [20,30]
x = FVar(18)
y = FVar(19)

[State 200, 1]
type = HitDef
trigger1 = !movecontact 
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-2
air.velocity = -5,-2

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 612
ctrl = 0

[State 200, End]
type = ChangeState
triggerall = time > 20
trigger1 = frontedgebodydist < 5
value = 613
ctrl = 0

[State 200, End]
type = ChangeState
triggerall = time > 20
trigger1 = pos y >= -5
value = 622
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = time = 60
value = 50
ctrl = 1
;---------------------------------------------------------------------
;Holling attack end wall
[Statedef 613]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 613
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 616
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13613
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 619
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 2613
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23653
ignorehitpause = 1
persistent = 1

[State 0,Roca 1]
type=Helper
triggerall = var(2) != 0 
trigger1 = time = 0
helpertype=normal
name="Roca 1"
ID=8415
stateno=8415
pos=20,-10
postype=p1
ownpal=1
Size.Xscale = .3
Size.Yscale = .3

[State 0,Roca 2]
type=Helper
triggerall = var(2) != 0 
trigger1 = time = 0
helpertype=normal
name="Roca 2"
ID=8415
stateno=8416
pos=25,20
postype=p1
ownpal=1
Size.Xscale=.3
Size.Yscale=.3
Facing=-1

[State 0,Roca 3]
type=Helper
triggerall = var(2) != 0 
trigger1 = time = 0
helpertype=normal
name="Roca 3"
ID=8415
stateno=8417
pos=35,5
postype=p1
ownpal=1
Size.Xscale=.25
Size.Yscale=.25

[State 0,Tierra Pared]
type=Explod
trigger1= Time = 0
anim=4050
ID=4050
pos = 30,0
postype=p1
facing=1
vfacing=1
bindtime=1
removetime=-2
scale=.2,.2
sprpriority=2
ontop=1
ownpal=1
supermovetime=9999
pausemovetime=9999
removeongethit=0
ignorehitpause=0
angle=90

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 999      

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = -4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;Holling attack end contact
[Statedef 612]
type    = A
movetype= A
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 612
velset = 0,0
sprpriority = 2

[State 0, TargetState]
type = TargetState
trigger1 = prevstateno = 3608
value = 7000

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 615
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 618
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13652
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 2612
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23652
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -4
y = -5

[State 200, End]
type = ChangeState
trigger1 = time = 25
value = 50
ctrl = 1
;-----------------------------------------------------------------------
;Spin Dash Air
[Statedef 621]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 621
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 15625
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13621
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23621
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 623
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 625
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 80
value = 1
scale = 1-time*(.01),1

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 5700
scale = 0,0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
y = 2+time*(1)

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = -7

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = 7

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 9
trigger1 = time = 4
value = S0,230
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 7
value = S1,265
volume = 999

[State 0, Explod]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = animelem = 5
anim = 7032
ID = 7032
pos = -0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
angle = -90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
triggerall = var(2) = 2||var(2) = 9
trigger1 = animelem = 5
anim = 7033
ID = 7033
pos = 0,-5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
angle = -90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, 1]
type = HitDef
triggerall = !movecontact 
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 8,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,15
air.velocity = -0,15
Fall = 1
fall.recover = 0
Envshake.time = 12

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 9
time = 6
freq = 10

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 30
trans = Add
length = 6
timegap = 1
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 200, 200, 200
paladd = 0,0,1
palmul = .50,.50,.50

[State 0, Changestate]
type = ChangeState
trigger1 = movehit = 1
value = 603
ctrl = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Changestate]
type = ChangeState
trigger1 = pos y >= -20
value = 622
;---------------------------------------------------------------------
;Spin Dash Air end
[Statedef 622]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
anim = 622
sprpriority = 3

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13622
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 5
trigger1 = time = 0
value = 15626
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2||var(2) = 3||var(2) = 8
trigger1 = time = 0
value = 624
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 1
trigger1 = time = 0
value = 626
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 9
trigger1 = time = 0
value = 23622
ignorehitpause = 1
persistent = 1

[State 0, Roto]
type = Explod
trigger1 = time = 0
anim = 7040
ID = 7040
pos = -0*Helper(999999),Fvar(16),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Humo Suelo]
type = Explod
trigger1 = time = 0
anim = 8245
ID = 8245
pos = -0*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact 
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 20
guardflag = MA
pausetime = 0,2
Hitflag = MAFDE
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-4
air.velocity = -1,-4
Fall = 1
Envshake.time = 12

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 999      

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------
; FX
[StateDef 615]
type = S
movetype= A
physics = N
ctrl = 0
sprpriority = 5
anim = 715

[State 0, RemapPal]
type = RemapPal
triggerall = root,var(2) = 0
trigger1 = timemod = 3,0
source = 820,0
dest = 820,0
ignorehitpause = 1
persistent = 1

[State 0, RemapPal]
type = RemapPal
triggerall = root,var(2) = 5
trigger1 = timemod = 3,0
source = 820,0
dest = 820,2
ignorehitpause = 1
persistent = 1

[State 0, RemapPal]
type = RemapPal
triggerall = root,var(2) = 2||root,var(2) = 9
trigger1 = timemod = 3,0
source = 820,0
dest = 820,1
ignorehitpause = 1
persistent = 1

[State 0, RemapPal]
type = RemapPal
triggerall = root,var(2) = 4
trigger1 = timemod = 3,0
source = 820,0
dest = 820,0+(random%6)
ignorehitpause = 1
persistent = 1

[state 0]
type = bindtoroot
trigger1 = 1
pos = 0,-8

[State 251, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 99999999
length = 30
palinvertall = 0
palbright = 0,0,0
palcontrast = 0,80,80
paladd = 0,0,0
palmul = .90, .90,.90
timegap = 1
framegap = 1
trans = Add

[state 0]
type = angledraw
trigger1 = 1
scale = 0.35,0.35

[State 0, Trans]
type = Trans
trigger1 = var(2) = 1
trans = Sub

[State 0, Trans]
type = Trans
trigger1 = var(2) =! 1
trans = add
alpha = 256,256

[State 0]
type = Destroyself
trigger1 = Time = 115
trigger2 = parent,stateno != 611
;-----------------------------------------------------------------------
;===============================================================================
; Power Charge
[Statedef 500]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500+var(11)
sprpriority = 2

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = I
physics = S
;---------------------

[State 0, VelSet]
type = VelSet
trigger1 = pos y < 0
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, PalFXWiz]
type = PalFX
triggerall = var(6) = 0
triggerall = var(2) = 7
trigger1 = time > 4
time = 1
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 100

[State 0, PalFXWiz]
type = PalFX
triggerall = var(6) = 0
triggerall = var(2) = 0
trigger1 = time > 4
time = 1
add = 0,30,100

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = [0,8]
trigger1 = time = 0
value = S0,230
volume = 100

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 4
triggerall = time >= 0
trigger1 = timemod = 170,0
value = S1,195
volume = 100

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) = 4
trigger1 = time = 3
value = S5,35
volume = 100

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 0
trigger1 = timemod = 100,0
value = S1,197
volume = 100

[State 0, EnvShake]
type = EnvShake
triggerall = var(2) != 4
triggerall = time >= 4
trigger1 = time%5 = 0
time = 4
ampl = -3

[State 0, EnvShake]
type = EnvShake
triggerall = var(2) = 4
triggerall = var(2) = 8
triggerall = time > 4
trigger1 = time%5 = 0
time = 4
ampl = -15

[State 0, PowerAdd]
type = PowerAdd
triggerall = time >= 4
trigger1 = 1
value = 10

[State 0, Base Star FX]
type = Explod
triggerall = var(3) = 0
triggerall = var(2) = 0
triggerall = time >= 4
trigger1 = timemod = 2,0
anim = 557
ID = 557
pos = -15*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),0-random%20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 0,-1.5*Helper(999999),Fvar(16)
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 1
triggerall = var(3) = 0
trigger1 = time = 8
name = "Power Charge - Aura BG"
ID = 550
stateno = 540
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .23
size.yscale = .23
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 1
triggerall = var(3) = 0
trigger1 = time = 8
name = "Power Charge - Aura"
ID = 550
stateno = 550
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .23
size.yscale = .23

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 1
triggerall = var(3) = 1
trigger1 = time = 8
name = "Power Charge - Aura BG"
ID = 550
stateno = 540
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3
size.yscale = .3
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 1
triggerall = var(3) = 1
trigger1 = time = 8
name = "Power Charge - Aura"
ID = 550
stateno = 550
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 2
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 2
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .15
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 570
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .28
size.yscale = .28

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 2
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 2
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .17
size.yscale = .17
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .22
size.yscale = .22
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 570
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 4
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 542
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 4
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 552
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(3) = 1
triggerall = var(2) = 4
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 542
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(3) = 1
triggerall = var(2) = 4
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 552
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .40
size.yscale = .40

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 5
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 560
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 5
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 561
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20
[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 5
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 560
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .10
size.yscale = .10
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 5
triggerall = var(3) = 1
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 561
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25


[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 6
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 6
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Aura]
type = Helper
triggerall = var(2) = 8
triggerall = var(3) = 0
trigger1 = time = 7
helpertype = normal
name = "Power Charge - Aura"
ID = 563
stateno = 563
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .8*Helper(999999),Fvar(16)
size.yscale = .8*Helper(999999),Fvar(16)
[State 0, Aura]
type = Helper
triggerall = var(2) = 8
triggerall = var(3) = 1
trigger1 = time = 7
helpertype = normal
name = "Power Charge - Aura"
ID = 563
stateno = 563
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 8
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 562
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20

[State 0, Excalibur]
type = Explod
triggerall = var(2) = 6
trigger1 = timemod = 1,0
anim = 9998
ID = 7020
pos = -16,3
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Dark Star FX]
type = Explod
triggerall = var(2) = 1
triggerall = time >= 4
trigger1 = timemod = 2,0
anim = 557
ID = 557
pos = -15*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),0-random%20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 0,-1.5*Helper(999999),Fvar(16)
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub

[State 0, Super Star FX]
type = Explod
triggerall = var(3) = 0
triggerall = var(2) = 2
triggerall = time >= 4
trigger1 = timemod = 2,0
anim = 9050
ID = 557
pos = -15*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),0-random%20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 0,-1.5*Helper(999999),Fvar(16)
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1


[State 0, Viento]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = time = 7
trigger2 = time > 7 && time%10 = 0
anim = 7022
ID = 550
pos = 5,-3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = -2,0
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Viento]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = time = 7
trigger2 = time > 7 && time%10 = 0
anim = 7022
ID = 550
pos = -0,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = 2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Aura]
type = Helper
triggerall = var(3) = 1
triggerall = var(2) = 0
trigger1 = time = 7
helpertype = normal
name = "Aura"
ID = 550
stateno = 565
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
triggerall = var(3) = 0
triggerall = var(2) = 0
trigger1 = numexplod(520) = 0
anim = 520
ID = 520
pos = 0,-30*Helper(999999),Fvar(16)
postype = p1
bindtime = -1
removetime = -1
scale = .12*Helper(999999),Fvar(16),.12*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
trans = add

[State 0, Explod]
type = Explod
triggerall = var(3) = 1
triggerall = var(2) = 0
trigger1 = numexplod(520) = 0
anim = 520
ID = 520
pos = 0,-25*Helper(999999),Fvar(16)
postype = p1
bindtime = -1
removetime = -1
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
trans = add

[State 0, Dark Star FX]
type = Explod
triggerall = var(2) = 7
triggerall = time >= 4
trigger1 = timemod = 2,0
anim = 9052
ID = 9052
pos = -15*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),0-random%20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 0,-1.5*Helper(999999),Fvar(16)
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub

[State 0, Explod]
type = Explod
triggerall = var(3) = 0
triggerall = var(2) = 7
trigger1 = numexplod(520) = 0
anim = 19550
ID = 520
pos = 0,-35*Helper(999999),Fvar(16)
postype = p1
bindtime = -1
removetime = -1
scale = .30*Helper(999999),Fvar(16),.30*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
trans = sub

[State 0, Explod]
type = Explod
triggerall = var(3) = 1
triggerall = var(2) = 7
trigger1 = numexplod(520) = 0
anim = 19550
ID = 520
pos = 0,-35*Helper(999999),Fvar(16)
postype = p1
bindtime = -1
removetime = -1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
trans = sub

[State 200, End]
type = ChangeState
Triggerall = ailevel = 0
triggerall = time >= 12
trigger1 = command != "hold_s"
trigger2 = power = 3000
value = ifelse(pos y < 0,50,501)
;---------------------------------------------------------------------------
; Power Charge End
[Statedef 501]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 501+var(11)
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 520

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 7020

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = -1

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Power Charge - Full Power
;-------------------------------------------------------------------------------
[Statedef 520]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 500+var(11)
sprpriority = 2

[State 0, Aura]
type = Helper
triggerall = var(2) = 8
triggerall = var(3) = 0
trigger1 = time = 7
helpertype = normal
name = "Power Charge - Aura"
ID = 563
stateno = 563
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .8*Helper(999999),Fvar(16)
size.yscale = .8*Helper(999999),Fvar(16)
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 8
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 562
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .15
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 9
triggerall = var(3) = 0
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 570
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .28
size.yscale = .28

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 5
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 560
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .10
size.yscale = .10
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 5
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 561
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 1
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 540
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 1
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 550
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 2
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 2
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 6
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 541
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 6
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 551
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 7
name = "Power Charge - Aura BG"
ID = 550
stateno = 542
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 552
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .40
size.yscale = .40

[State 0, Viento]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = time = 0
trigger2 = time > 0 && time%10 = 0
anim = 7022
ID = 550
pos = 5,-3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = -2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Viento]
type = Explod
triggerall = var(2) = 0||var(2) = 7
trigger1 = time = 0
trigger2 = time > 0 && time%10 = 0
anim = 7022
ID = 550
pos = -0,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = 2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Excalibur]
type = Explod
triggerall = var(2) = 6
trigger1 = timemod = 1,0
anim = 9998
ID = 7020
pos = -16,3
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = 1.2,1.2
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
triggerall = var(2) != 4
triggerall = time >= 0
trigger1 = time%5 = 0
time = 4
ampl = -3

[State 0, EnvShake]
type = EnvShake
triggerall = var(2) = 4
triggerall = var(2) = 8
triggerall = time > 0
trigger1 = time%5 = 0
time = 4
ampl = -15

[State 0, PalFXWiz]
type = PalFX
triggerall = var(6) = 0
triggerall = var(2) = 0
trigger1 = time > 4
time = 1
add = 0,30,100

[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) != 4
triggerall = time >= 0
trigger1 = timemod = 170,0
value = S1,195
volume = 100

[State 0, Base Star FX]
type = Explod
triggerall = var(3) = 0
triggerall = var(2) = 0
triggerall = time >= 4
trigger1 = timemod = 2,0
anim = 557
ID = 557
pos = -15*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),0-random%20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 0,-1.5*Helper(999999),Fvar(16)
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
triggerall = var(3) = 0
triggerall = var(2) = 7
trigger1 = numexplod(9055) = 0
anim = 19550
ID = 9055
pos = 0,-35*Helper(999999),Fvar(16)
postype = p1
bindtime = -1
removetime = -1
scale = .30*Helper(999999),Fvar(16),.30*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
trans = sub

[State 0, Dark Star FX]
type = Explod
triggerall = var(2) = 7
triggerall = time >= 4
trigger1 = timemod = 2,0
anim = 9052
ID = 9052
pos = -15*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),0-random%20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 0,-1.5*Helper(999999),Fvar(16)
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
trans = sub
;
;[State 0, Explod]
;type = Explod
;triggerall = var(3) = 0
;triggerall = var(2) = 0
;trigger1 = numexplod(520) = 0
;anim = 520
;ID = 520
;pos = 0,-30*Helper(999999),Fvar(16)
;postype = p1
;bindtime = -1
;removetime = -2
;scale = .12*Helper(999999),Fvar(16),.12*Helper(999999),Fvar(16)
;sprpriority = 1
;ontop = 0
;ownpal = 1
;removeongethit = 1
;trans = add

[State 200, End]
type = ChangeState
triggerall = ailevel = 0
triggerall = time >= 18
trigger1 = command != "hold_s"
value = 501

[State 200, End]
type = ChangeState
triggerall = time >= 18
trigger1 = Cond(PrevStateNo = 500, time = 80, time = 100)
value = 803
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 550]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 550
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Rayos FX]
type = Explod
Triggerall = Root,Var(2) = 2
trigger1 = timemod = 10,0
anim = 9030+(RANDOM%4)
ID = 9030
pos = -10+random%40,-10-random%60
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .45,.45
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,0
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 50 || root,stateno = 803

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501|| root,stateno = 50 || root,stateno = 803
value = 555
;-------------------------------------------------------------------------------
;Dark Sonic Aura
; Power Charge - Aura BG
[Statedef 540]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 535
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 50 || root,stateno = 803

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 803
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 541]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 536
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 0
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 551]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 551
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Rayos SS2]
type = Explod
triggerall = var(2) = 3
trigger1 = timemod = 10,0
anim = 9030+(RANDOM%3)
ID = 9030
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.8*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,0
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 0
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 541]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 536
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 803
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 570]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 567
sprpriority = 5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Rayos SS2]
type = Explod
triggerall = var(2) = 2
triggerall = var(3) = 1
trigger1 = timemod = 10,0
anim = 9030+(RANDOM%3)
ID = 9030
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.8*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Rayos SS2]
type = Explod
triggerall = var(2) = 9
triggerall = var(3) = 1
trigger1 = timemod = 10,0
anim = 9042+(RANDOM%3)
ID = 9030
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.8*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,0
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 0
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 571]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 536
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 542]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 537
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 803

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50|| root,stateno = 803
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 552]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 552
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Rayos SS2]
type = Explod
triggerall = var(2) = 3
trigger1 = timemod = 10,0
anim = 9030+(RANDOM%3)
ID = 9030
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.8*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 12,0
value = S5,28
volumescale = 50

[State 0, FX Raio]
type = Explod
trigger1 = timemod = 8,0
anim = 7058+random%3
ID = 7052
pos = -100+random%200,20-Random%20
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = 1
bindtime = -1
removetime = -2
sprpriority = 2
scale = .5,.5
ontop = ifelse(random < 500,1,-1)
ownpal = 1
removeongethit = 1
supermovetime = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 553
ID = 550
pos = 0,10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1.2,2
sprpriority = 0
ontop = 0
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,0
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 803

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 803
value = 555
;-------------------------------------------------------------------------------
; Aura - Fin
[Statedef 551]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3


[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Power Charge - Aura End
[Statedef 555]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 550

[State 0, Trans]
type = Trans
triggerall = var(2) = 1
trigger1 = 1
trans = Sub
alpha = 200-(time*30),256

[State 0, Trans]
type = Trans
triggerall = var(2) > 1
trigger1 = 1
trans = add
alpha = 200-(time*30),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
triggerall = root,var(2) = 1
trigger1 = time = 0
trigger2 = root,movetype = H

[State 200, End]
type = Destroyself
triggerall = root,stateno = 50
trigger1 = time = 0
trigger2 = root,movetype = H

[State 200, End]
type = Destroyself
trigger1 = time = 5
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 560]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 562
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 561]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 561
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,-53

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,55
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,53
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,56
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,50
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = destroyself
trigger1 = root,stateno = 501 || root,stateno = 50
;-------------------------------------------------------------------------------
; Power Charge - Aura BG
[Statedef 563]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 559
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 0

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50|| root,stateno = 0
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 562]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 558
sprpriority = 4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 556
ID = 550
pos = 0,100
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removeongethit = 1
removetime = -1
scale = 1.5,2
sprpriority = 0
ontop = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,-53

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,55
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,53
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,56
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,50
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 0

[State 200, End]
type = destroyself
trigger1 = root,stateno = 501 || root,stateno = 50|| root,stateno = 50
;-------------------------------------------------------------------------------
; Aura - Start
[Statedef 565]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 565
sprpriority = 3

[State 0, Stars]
type = Explod
trigger1 = timemod = 5,0
anim = 566
ID = 566
pos = -10*Helper(999999),Fvar(16)+random%20*Helper(999999),Fvar(16),30*Helper(999999),Fvar(16)-random%20*Helper(999999),Fvar(16)
postype = p1
scale = .18,.18
sprpriority = -9
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H|| root,stateno = 0

[State 200, End]
type = Changestate
trigger1 = root,stateno != 500 && root,stateno != 803|| root,stateno = 50|| root,stateno = 0
value = 555
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 570]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 567
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Rayos SS2]
type = Explod
triggerall = var(2) = 3
trigger1 = timemod = 10,0
anim = 9042+(RANDOM%3)
ID = 9030
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.8*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Land]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time%20 = 0
anim = 7014
ID = 550
pos = -1,1
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Aura Lines FX]
type = Explod
trigger1 = time = 0
Anim = 590
ID = 550
pos = 0,0
sprpriority = 5
removeongethit = 1
removetime = -1
bindtime = -1
ownpal = 1
scale = .3,.45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno = 501 || root,stateno = 50 || root,stateno = 803
value = 555
;-------------------------------------------------------------------------------
; Shock Wave FX
[Statedef 281]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 8235
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.25,1+time*.25
value = -1-time*25

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 10
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 30
;---------------------------------------------------------------------------
;-------------------------------------------------------------------------------
; Teleport FX
[Statedef 580]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 580
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.5,.8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Teleport FX 2
[Statedef 581]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 580
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Teleport FX 3
[Statedef 582]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 580
sprpriority = 3



[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Hispark - Hyper
[Statedef 583]
type    = A
movetype= I
physics = N
anim = 8013
sprpriority = 3

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
trigger1 = timemod = 1,0
source = 150,1
dest = 150,1+(random%5)
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0+random%180
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
; Camara Lenta
[Statedef 590]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, Pause]
type = Pause
trigger1 = time = [5,10]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Camara Lenta 2
[Statedef 591]
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, Pause]
type = Pause
trigger1 = time = [0,5]
time = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;===============================================================================
; Aura Permanente Super sonic
;-------------------------------------------------------------------------------
[Statedef 2575]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Estellas]
type = Explod
trigger1 = timemod = 3,0
anim = 9050
ID = 561
pos = -10*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),5-random%20*Helper(999999),Fvar(16)
postype = p1
bindtime = 1
vel = 0,-2
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
trans = Sub

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,life = 0
trigger3 = root,var(2) = 4
trigger4 = root,var(2) = 0
;---------------------------------------------------------------------------
; Hit Spark NEW
[Statedef 275]
type    = A
movetype= I
physics = N
anim = 7003
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.2,1+time*.2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; Slash Spark New
[Statedef 276]
type    = A
movetype= I
physics = N
anim = 7006
sprpriority = 7

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;===========================================================================
; Fusion
[Statedef 750]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 825
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = 180,56
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = 180,56
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = 180,56
volume = 100

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = time = 0
value = 11825

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13825

[State 200, End]
type = ChangeState
trigger1 = partner,name = "Shadow The Hedgehog"
trigger1 = partner,stateno = 750
value = 751

[State 200, End]
type = ChangeState
trigger1 = partner,name = "Shadow The Hedgehog"
trigger1 = partner,stateno = 751
value = 751

[State 200, End]
type = ChangeState
trigger1 = Time = 60
value = 0
ctrl = 1
;===========================================================================
; Fusion
[Statedef 751]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 826
poweradd = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 2
trigger1 = time = 0
value = 11826

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) = 4
trigger1 = time = 0
value = 13500

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,27
volumescale = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,27
volumescale = 999

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
x = partner,pos x+150
y = -50

[State 0, VelSet]
type = VelSet
trigger1 = time = [40,100]
x = -.85

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,40]
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,67
volume = 999

[State 0, Turn]
type = Turn
triggerall = facing = -1
trigger1 = time = 0

[State 200, End]
type = ChangeState
trigger1 = Time = 100
value = 752
ctrl = 0
;===========================================================================
; Fusion
[Statedef 752]
type    = L
movetype= H
physics = N
juggle  = 1
velset = 0,0
anim = 9999
poweradd = 0
sprpriority = 2
ctrl = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = 1
value = 0
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0
ignorehitpause = 1
persistent = 1

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = 1

[State 0, LifeSet]
type = LifeSet
trigger1 = 1
value = partner,life

[State 0, PosAdd]
type = Posset
trigger1 = 1
x = partner,pos x-0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = partner,numhelper(950) = 0
value = 753
ignorehitpause = 1
persistent = 1
;===========================================================================
; Fusion - End
[Statedef 753]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 828
poweradd = 0
sprpriority = 2

[State 0, PosAdd]
type = Posset
trigger1 = time = 0
x = partner,pos x+30

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2    ;fv = 10
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;===========================================================================

;---------------------------------------------------------------------------
; Aura:
;-------------------------------------------------------------------------------
; Alante
[Statedef 1]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = 3

[State 0, Auritas]
type = Explod
trigger1 = timemod = 20,0
anim = 5700
ID = 5700
pos = 0*Helper(999999),Fvar(16),40*Helper(999999),Fvar(16)
postype = p1
scale = .6*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 0
ownpal = 1
Bindtime = -1
Removeongethit = 1
Removetime = -2
Supermovetime = 9999999
Pausemovetime = 999999999
Supermove = 99999999
Pausemove = 99999999

[State 0, Humo]
type = Explod
trigger1 = timemod = 308,0
anim = 5702
ID = 21572
pos = 0,15
postype = p1
scale = .11,.11
sprpriority = -1
ontop = 0
ownpal = 1
Bindtime = -1
Removetime = -2
Supermovetime = 9999999
Pausemovetime = 999999999
Supermove = 99999999
Pausemove = 99999999
trans = add

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 7601
id = 5700

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 0||root,stateno = 50
ID = 21572
pos = 0,15
postype = p1
scale = .11,.11
trans = add

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numhelper(450) = 1
ID = 21572
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 7260||root,stateno = 7601||root,stateno = 611||root,stateno = 621
ID = 21572
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,var(2) = 0
ID = 21572
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 7260||root,stateno = 7601||root,stateno = 621||root,stateno = 611
ID = 5700
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numhelper(450) = 1
ID = 5700
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numhelper(450) = 0
ID = 5700
scale = .6,.6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .4,.45

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,life = 0
trigger3 = root,var(2) = 4
trigger4 = root,var(2) = 0
trigger5 = root,stateno = 7260||root,stateno = 611||root,stateno = 621

[State 200, End]
type = ChangeState
trigger1 = root,life = 0
trigger2 = root,stateno = 170
trigger3 = root,stateno = 181 && root,animelemtime(3) = 15
value = 3
;-------------------------------------------------------------------------------
; Atras
[Statedef 2]
type    = A
movetype= I
physics = N
anim = 9999
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = root,stateno = 330 && root,time = [2,7]
trigger2 = root,stateno = 611 && root,time = [5,15]
trigger3 = root,stateno = 1103 && root,time = [8,19]
trigger4 = root,stateno = 1200 && root,time = [30,35]
trigger5 = root,stateno = 1204 && root,time = [9,13]
trigger6 = numhelper(1550) > 0
trigger7 = root,stateno = 3001
flag = Invisible

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0,0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = 1
ID = 5700
scale = 0,0

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,life = 0
trigger3 = root,var(2) = 4
trigger4 = root,var(2) = 0

[State 200, End]
type = ChangeState
trigger1 = root,life = 0
trigger2 = root,stateno = 170
trigger3 = root,stateno = 181 && root,animelemtime(3) = 15
value = 3
;-------------------------------------------------------------------------------
; Fin
[Statedef 3]
type    = A
movetype= I
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = .4,.45

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 100-time*10,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,life = 0
trigger3 = root,var(2) = 4
trigger4 = root,var(2) = 0
;===============================================================================
;  DarkSpine sonic After image - 2
;-------------------------------------------------------------------------------
[Statedef 2596]
movetype = I
anim = 9999
sprpriority = -1
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 22
value = .088
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 23
value = .041
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(22),1+fvar(23)
ignorehitpause = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = selfanimexist(root,anim)
value = (root,anim)
elem = (root,animelemno(0))

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
facing = 1
pos = 0,0.5
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 40,256
ignorehitpause = 1


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 2
add = 200,200,200
mul = 256,256,100
sinadd = 0,0,100,1
invertall = 0
color = 256
ignorehitpause = 1



[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 3200

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 11620
;-------------------------------------------------------------------------------
[Statedef 2597]
movetype = I
anim = 9999
sprpriority = -1
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 22
value = .084
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 23
value = .037
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(22),1+fvar(23)
ignorehitpause = 1




[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = selfanimexist(root,anim)
value = (root,anim)
elem = (root,animelemno(0))

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
facing = 1
pos = 0,0.5
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 40,256
ignorehitpause = 1


[State 0, PalFXWiz]
type = PalFX
triggerall = var(2) = 2
trigger1 = 1
time = 2
add = 150,70,0
mul = 256,256,100
sinadd = 0,0,100,1
invertall = 0
color = 256
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
triggerall = var(3) = 1
trigger1 = 1
time = 2
add = 100,0,100
mul = 100,0,124
sinadd = 0,0,100,1
invertall = 0
color = 256
ignorehitpause = 1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 3100

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 11620
trigger4 = root,stateno = 21002
;===========================================================================
; ULTRA Sonic
;===========================================================================
[Statedef 808]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 808
poweradd = -1500
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0

[State 0, Cho Genkidama Cachos]
type = Helper
triggerall = time = [15,170]
trigger1 = timemod = 1,0
helpertype = normal
name = "Rings"
ID = 3235
stateno = 3235
pos = -300*Helper(999999),Fvar(16)+random%600*Helper(999999),Fvar(16),300*Helper(999999),Fvar(16)-random%600*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Cho Genkidama Cachos]
type = Helper
triggerall = time = [15,170]
trigger1 = timemod = 1,0
helpertype = normal
name = "Rings"
ID = 3240
stateno = 3240
pos = -25+random%-45,-20+random%-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.3
size.yscale = 1.3
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1,197
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 180
movetime = 180
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 0

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 95
helpertype = Normal
name = "S1 Activado"
ID = 848
stateno = 848
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1


[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; A - 1
;-------------------------------------------------------------------------------
[Statedef 7200]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7200
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 
x = 7.5

[State 0, Speed FX]
type = Explod
trigger1 = time = 3
anim = 580
ID = 580
pos = 0*Helper(999999),Fvar(16),-15*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6*Helper(999999),Fvar(16),.1*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
vel = 5,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -90

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 3
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = -15

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = ifelse(var(2) = 3,7,9),9
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
ignorehitpause = 1


[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7210

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7310

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 2
[Statedef 7210]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7210
poweradd = 100
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 9100
ID = 9100
pos = 11,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 4051
ID = 4051
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.12,0.1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 17

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = animelem = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 8,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,0
Envshake.time = 15

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7220

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7320

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 3
[Statedef 7220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7220
poweradd = 100
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 9100
ID = 9100
pos = 11,-7
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .1,.1
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -27

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 17

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 4051
ID = 4051
pos = 5,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.12,0.1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -25

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = animelem = 5

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 8,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,0
Envshake.time = 15

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7230

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7330

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 4
[Statedef 7230]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7230
poweradd = 100
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 9072
ID = 9055
pos = 3,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 2
ontop = 0
ownpal = 1
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
trigger1 = 1
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 10
ground.velocity = -2,-0
air.velocity = -2.5,-4

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 45
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7240

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 5
[Statedef 7240]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7240
poweradd = 50
velset = 0,0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, VelSet]
type = velset
trigger1 = time = [5,10]
x = 20

[State 0, VelSet]
type = velset
trigger1 = time = 10
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 0
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S5,10
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Golpes]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Golpes"
ID = 7245
stateno = 7245
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
Size.xscale = .3*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Turn]
type = Turn
triggerall = time > 50
trigger1 = command = "SPECIAL 1"

[State 0, Turn]
type = Turn
triggerall = time > 50
trigger1 = command = "SPECIAL 3"

[State 0, Turn]
type = Turn
triggerall = time > 50
trigger1 = command = "SPECIAL 5"

[State 200, End]
type = ChangeState
Triggerall = power >= 1000
triggerall = time > 50
trigger1 = ailevel = 0 && command = "SPECIAL 1"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 71000

[State 200, End]
type = ChangeState
Triggerall = power >= 1500
triggerall = time > 50
trigger1 = ailevel = 0 && command = "SPECIAL 3"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 71200

[State 200, End]
type = ChangeState
Triggerall = power >= 1500
triggerall = time > 50
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 71400

[State 200, End]
type = ChangeState
Triggerall = power >= 3000
triggerall = time > 70
trigger1 = ailevel = 0 && command = "holddown" && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 3400

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = time > 70
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7250

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = time > 70
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7340

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Golpes
[Statedef 7245]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 236
sprpriority = 3

[State 0, Hits Falsos]
type = Helper
trigger1 = timemod = 2,0
helpertype = normal
name = "Hits"
ID = 7246
stateno = 7246
pos = -20*Helper(999999),Fvar(16)+random%60*Helper(999999),Fvar(16),30*Helper(999999),Fvar(16)-random%80*Helper(999999),Fvar(16)
postype = p1
facing = ifelse(random < 500,1,-1)
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 2,0
attr = A, SP
animtype  = Heavy
damage    = 1,1
Hitflag = MAFDE
guardflag = MA
pausetime = 2,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,6007
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
kill = 1
Sprpriority = 3
Envshake.time = 20
Getpower = 0
numhits = 4

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7010
ID = 7005
postype = P2
pos = -20*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),-15*Helper(999999),Fvar(16)-random%40*Helper(999999),Fvar(16)
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = time = 30

;-------------------------------------------------------------------------------
; Hits Helper
[Statedef 7246]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 235
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0+random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0

;-------------------------------------------------------------------------------
; A - 6
[Statedef 7250]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7250
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = p2bodydist x +5

[State 0, Speed FX]
type = Explod
trigger1 = time = 0
anim = 106
ID = 106
pos = 10*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .75*Helper(999999),Fvar(16),.1*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
vel = 5,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -90

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,1
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,8
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 4051
ID = 4051
pos = 1,-22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.12,0.12
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 0
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6005
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-10
air.velocity = -2,-10
Fall = 1
Envshake.time = 5

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7260

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; A - 7
[Statedef 7260]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7260
poweradd = 100
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x -0
y = p2bodydist y -0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, Golpes]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Golpes"
ID = 7265
stateno = 7265
pos = 0,0
postype = p1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(1550) > 0
value = anim
elem = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,4
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4

[State 200, 1]
type = HitDef
trigger1 = 1
attr = A, HA
animtype  = Heavy
damage    = 0,0
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
Fall = 1
Fall.recover = 0
Envshake.time = 20
Getpower = 0,0
Kill = 0
Numhits = 0
Kill = 0

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = time > 100
trigger1 = ailevel = 0 && command = "holddown" && command = "a" 
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 601

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = time > 100
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7270

[State 200, End]
type = ChangeState
Triggerall = movecontact
triggerall = prevstateno != 7330
triggerall = time > 100
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7330

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; A - 8
[Statedef 7270]
type    = A
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7270
poweradd = 30
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 9100
ID = 9100
pos = 10,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 90

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A
movetype = I
physics = A

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time >= 12
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -25
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-6.5
air.velocity = -2,-6.5
Fall = 1
Fall.recover = 0
Envshake.time = 7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 7280
;-------------------------------------------------------------------------------
; A - 9
[Statedef 7280]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7280
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 1
x = -8

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time < 10
value = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
movetype = A
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 45
y = p2bodydist y / 10

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = animelemtime(3) < 1
triggerall = p2bodydist x < 25
trigger1 = time = [10,20]
value = 7280
elem = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [15,30]
x = 6

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = A
movetype = A
physics = N

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 21
time = 5
id = -1
pos = 35,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 35
ground.velocity = -15,-2
air.velocity = -15,-2
Fall = 1
Envshake.time = 20

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
time = 5
ampl = -4

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 7000
trigger1 = movehit = 1
value = 7000

[State 200, End]
type = ChangeState
trigger1 = movecontact
value = 7281
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = time = 30
trigger2 = pos y > -5
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Golpes
[Statedef 7265]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7265

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)

[State 0, Ondas]
type = Helper
trigger1 = 1
helpertype = normal
name = "Ondas"
ID = 616
stateno = 616
pos = -10*Helper(999999),Fvar(16)+random%60*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)-random%50*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .125*Helper(999999),Fvar(16)
size.yscale = .125*Helper(999999),Fvar(16)
Pausemovetime = 999

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = A, HP
animtype  = Medium
damage    = 1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 10

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7010
ID = 7001
postype = P2
pos = -20+random%40,0-random%60
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
Pausemovetime = 9999

[State 200, End]
type = Destroyself
trigger1 = time = 90
;-------------------------------------------------------------------------------
; Air Combo 2-1 Hit Finish
[Statedef 7281]
type    = A
movetype= I
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 7281
sprpriority = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
triggerall = prevstateno = 71006
trigger1 = time = 0
x = -7
y = -9

[State 0, VelSet]
type = VelSet
triggerall = prevstateno != 71006
trigger1 = time = 0
x = -2
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%7 = 0
trigger2 = time = 0
value = S1,260
volume = 100

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7620

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "SPECIAL 6"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 71510

[State 200, End]
type = ChangeState
trigger1 = ailevel = 0 && command = "SPECIAL 5"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 71600

[State 200, End]
type = ChangeState
trigger1 = Time = 50
value = 50
ctrl = 1
;===============================================================================
; B - 1
;-------------------------------------------------------------------------------
[Statedef 7300]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 7300
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Turn]
type = Turn
triggerall = prevstateno = 7240
trigger1 = time = 0

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 116
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
x = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 115

[State 0, VelSet]
type = VelSet
trigger1 = time = [19,28]
x = .75

[State 0, Explod]
type = Explod
trigger1 = animelem = 4
anim = 106
ID = 106
pos = -30,-25
postype = p1 
angle = 90
facing = 1
vfacing = 1
bindtime = -1
removetime = 16
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S5,9
volume = 50

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -0,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, EnvShake]
type = EnvShake
trigger1 = animelem = 3
time = 14

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,22
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S5,6
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 10
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,14
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-1
Fall = 0
envshake.time = 25

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7310

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 2
[Statedef 7310]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7310
poweradd = 100
sprpriority = 2

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 5
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7220

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7320

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 3
[Statedef 7320]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7320
poweradd = 100
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 9100
ID = 9100
pos = 10,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 90

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = !movecontact
x = -7
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 15
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-5
air.velocity = -2.5,-5
fall = 1

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = time >15 
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7330

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; B - 4
[Statedef 7330]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7330
poweradd = 100
sprpriority = 2

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Supermove = 999999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9070
ID = 9055
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
ownpal = 1
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1
y = -.5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x -20
y = p2bodydist y -0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 2
trigger1 = 1
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,1
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2.5,-1
numhits = 3

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 39
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7340

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 39
triggerall = prevstateno != 7260
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7260

[State 200, End]
type = ChangeState
trigger1 = Time = 59
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; B - 5
[Statedef 7340]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7340
poweradd = 100
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,3
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-5
air.velocity = -2.5,-5
fall = 1

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7350

[State 200, End]
type = ChangeState
trigger1 = Time = 59
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; B - 6
[Statedef 7350]
type = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 7350
poweradd = 100
sprpriority = 2

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = 999999
supermovetime = 999999
Supermove = 999999
supertime = 999999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x -0
Y = P2bodydist y -45
[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 15
movetime = 0

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -1
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,220
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 20
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [8300,8305]
trigger1 = movehit = 1
value = 8300

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 7281
ctrl = 1
;---------------------------------------------------------------------------
;===============================================================================
; C - Wind Punch full Speed
;-------------------------------------------------------------------------------
[Statedef 7400]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
poweradd = -200
sprpriority = 2

[State 0, VarSet]
type = VarSet
triggerall = prevstateno != 7400
trigger1 = time = 0
v = 13
value = 0

[State 0, VarAdd]
type = VarAdd
triggerall = prevstateno = 7400
trigger1 = time = 0
v = 13
value = 1

[State 0, Changeanim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(var(13) = 1||var(13) = 3||var(13) = 5,7400,7401)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 6
time = 5
ampl = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,9
volume = 50

[State 0, Lanzar FX]
type = Helper
trigger1 = Anim = 7400 && time = 6
helpertype = normal
name = "Lanzar FX"
ID = 7415
stateno = 7415
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Lanzar FX]
type = Helper
trigger1 = Anim = 7401 && time = 6
helpertype = normal
name = "Lanzar FX"
ID = 7415
stateno = 7415
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Ki Blast]
type = Helper
trigger1 = Anim = 7400 && time = 6
helpertype = normal
name = "Ki Blast"
ID = 7405
stateno = 7405
pos = 4*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
 
[State 0, Ki Blast]
type = Helper
trigger1 = Anim = 7401 && time = 6
helpertype = normal
name = "Ki Blast"
ID = 7405
stateno = 7405
pos = 4*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(13) = 4
trigger1 = time = [7,30]
value = anim
elem = 4

[State 200, Combo]
type = ChangeState
triggerall = power >= 200
triggerall = var(13) < 4
triggerall = time > 8
trigger1 = command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7400

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Wind - Start
[Statedef 7405]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 7405
sprpriority = 3

[State 0, Sorus]
type = Explod
trigger1 = timemod = 5,0
anim = 580
ID = 580
pos = -25*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 4
trans = add
ontop = 1
ownpal = 1
angle = -90

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 7410
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 16

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Heavy
damage    = 20,10
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,0)
air.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,-2)
Fall = ifelse(root,var(13) > 3,1,0)
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 7410
;-------------------------------------------------------------------------------
; Wind -  Fin
[Statedef 7410]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20*Helper(999999),Fvar(16)
y = 2

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 7415
ID = 7415
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Lanzar FX
[Statedef 7415]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7032
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;---------------------------------------------------------------------------
; A Air Combo 1
[Statedef 7600]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 100
ctrl = 0
anim = 7600

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = 999999
supermovetime = 999999
Supermove = 999999
supertime = 999999

[State 0, PosAdd]
type = PosAdd
triggerall = p2bodydist x < 50
trigger1 = time = 0
x = p2bodydist x -10
y = p2bodydist y -5

[State 0, PosAdd]
type = PosAdd
triggerall = p2bodydist x >= 50
trigger1 = time = 0
x = 80
y = -25

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype = Medium
damage = 10
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-4
Fall = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movehit
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7601

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; A Air Combo 2
[Statedef 7601]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7601
poweradd = 100
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 5700

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
trigger1 = timemod = 2,0
trigger1 = 1
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,3
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 10
ground.velocity = -2,-1
air.velocity = -2.5,-1

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 45
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7602

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 50
ctrl = 0
;---------------------------------------------------------------------------
; A Air Combo 3
[Statedef 7602]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7602
poweradd = 100
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 15
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,3
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 10
ground.velocity = -2,-1
air.velocity = -2.5,-1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
time = 5
ampl = -4

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 7000
trigger1 = movehit = 1
value = 7000

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;---------------------------------------------------------------------------
; B Air Combo 1
[Statedef 7610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 100
ctrl = 0
anim = 7610

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 9100
ID = 9100
pos = 10,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 9

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype = Medium
damage = 10
guardflag = MA
pausetime = 10,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8
Fall = 1
fall.recover = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movehit
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7611

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; B Air Combo 2
[Statedef 7611]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7611
poweradd = 100
sprpriority = 2

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = 999999
supermovetime = 999999
Supermove = 999999
supertime = 999999

[State 0, PosAdd]
type = PosAdd
triggerall = p2bodydist x < 50
trigger1 = time = 0
x = p2bodydist x -10
y = p2bodydist y -5

[State 0, PosAdd]
type = PosAdd
triggerall = p2bodydist x >= 50
trigger1 = time = 0
x = 80
y = -25

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
trigger1 = timemod = 2,0
trigger1 = 1
attr = S, NA
damage = 2
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,3
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 10
ground.velocity = -2,-1
air.velocity = -2.5,-1

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 45
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7612

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 50
ctrl = 0
;---------------------------------------------------------------------------
; B Air Combo 2
[Statedef 7612]
type = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 7612
poweradd = 50
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -1
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,220
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 15
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8300
trigger1 = movehit = 1
value = 8300

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;===============================================================================
; C - Wind Punch full Speed
;-------------------------------------------------------------------------------
[Statedef 7620]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
poweradd = -200
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -15

[State 0, VarSet]
type = VarSet
triggerall = prevstateno != 7620
trigger1 = time = 0
v = 13
value = 0

[State 0, VarAdd]
type = VarAdd
triggerall = prevstateno = 7620
trigger1 = time = 0
v = 13
value = 1

[State 0, Changeanim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(var(13) = 1||var(13) = 3||var(13) = 5,7400,7401)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 6
time = 5
ampl = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S5,9
volume = 50

[State 0, Lanzar FX]
type = Helper
trigger1 = Anim = 7400 && time = 6
helpertype = normal
name = "Lanzar FX"
ID = 7415
stateno = 7415
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Lanzar FX]
type = Helper
trigger1 = Anim = 7401 && time = 6
helpertype = normal
name = "Lanzar FX"
ID = 7415
stateno = 7415
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Ki Blast]
type = Helper
trigger1 = Anim = 7400 && time = 6
helpertype = normal
name = "Ki Blast"
ID = 7625
stateno = 7625
pos = 4*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
 
[State 0, Ki Blast]
type = Helper
trigger1 = Anim = 7401 && time = 6
helpertype = normal
name = "Ki Blast"
ID = 7625
stateno = 7625
pos = 4*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(13) = 4
trigger1 = time = [7,30]
value = anim
elem = 4

[State 200, Combo]
type = ChangeState
triggerall = power >= 200
triggerall = var(13) < 4
triggerall = time > 8
trigger1 = command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 7620

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Wind - Start
[Statedef 7625]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 7405
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30

[State 0, Sorus]
type = Explod
trigger1 = timemod = 5,0
anim = 580
ID = 580
pos = -25*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 4
trans = add
ontop = 1
ownpal = 1
angle = -120

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 7626
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Heavy
damage    = 20,10
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,0)
air.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,-2)
Fall = ifelse(root,var(13) > 3,1,0)
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 7626
;-------------------------------------------------------------------------------
; Wind -  Fin
[Statedef 7626]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20*Helper(999999),Fvar(16)
y = 2

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 7415
ID = 7415
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Lanzar FX
[Statedef 7415]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7032
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Lanzar FX
[Statedef 7416]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 7037
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;------------------------------SPECIALS-----------------------------------------
; Super Sonic Combo 1
[Statedef 71000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71000
poweradd = -500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [30,70]
x = 18
y = 0 

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 30
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S60,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S60,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S60,1
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =1
value = S180,53
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =1
value = S180,53
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =1
value = S180,53
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 30
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [30,70]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, Combo]
type = ChangeState
trigger1 = time >= 30 && p2bodydist x <= 60
value = 71001

[State 200, End]
type = ChangeState
trigger1 = Time = 70
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Combo 2
[Statedef 71001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71001
poweradd = -500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 18
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = movehit
x = 0
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 10,15
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6005
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -12,0
air.velocity = -12,-4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 15
value = 71002

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Combo 3
[Statedef 71002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71002
poweradd = 0
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = timemod = 10,0
helpertype = normal ;player
name = "honda"
ID = 71050
stateno = 71050
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 71003
;---------------------------------------------------------------------------
; Super Sonic Combo 4
[Statedef 71003]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71003
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 5

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 5||time = 15
anim = 106
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S5,22
volume = 50

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x -60

[State 0, VelSet]
type = VelSet
trigger1 = time >15
x = 6

[State 0, Explod]
type = Explod
trigger1 = time = 15
anim = 9072
ID = 9055
pos = 3,-5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 2
ontop = 0
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, 1]
type = HitDef
triggerall = time > 15
trigger1 = timemod = 3,0
attr = S, NA
animtype  = Light
damage    = 1
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -0,-1
Fall = 0
Envshake.time = 5
numhits = 2

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit && time = 70
value = 71004
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Combo 5
[Statedef 71004]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71004
poweradd = 0
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 2||time = 7
anim = 106
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,22
volume = 50

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 7
x = p2bodydist x -60

[State 0, VelSet]
type = VelSet
trigger1 = time >15
x = 6

[State 0, Explod]
type = Explod
trigger1 = time = 8
anim = 9071
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 2
ontop = 0
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, 1]
type = HitDef
triggerall = time > 8
trigger1 = timemod = 3,0
attr = S, NA
animtype  = Light
damage    = 1
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -0,-1
Fall = 0
Envshake.time = 5
numhits = 2

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit && time = 70
value = 71005
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Combo 6
[Statedef 71005]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7320
poweradd = 0
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A

[State 0, VelSet]
type = VelSet
trigger1 = !movecontact
x = -8
y = -5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-12
air.velocity = -3,-12
fall = 1
fall.recover = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit && animtime = 0
value = 71006
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Combo 5
[Statedef 71006]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71006
poweradd = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, Sonic Boost FX]
type = Explod
trigger1 = time = 18
anim = 1205
ID = 1205
pos = 0*Helper(999999),Fvar(16),-40*Helper(999999),Fvar(16)
postype = p1
angle = -90
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
scale = 1.2*Helper(999999),Fvar(16),1.2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 13||time = 18
anim = 106
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 13
value = S5,22
volume = 50

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 18
y = p2bodydist y -0
x = p2bodydist x -0

[State 0, VelSet]
type = VelSet
trigger1 = time > 18
x = 6
y = 6

[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0-0
air.velocity = -0,-0
Fall = 1
Envshake.time = 5
fall.recover = 0
numhits = 0

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Roto]
type = Explod
trigger1 = numexplod(7040) = 0
trigger1 = pos y > -10
anim = 7040
ID = 7040
pos = -20*Helper(999999),Fvar(16),20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .8*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Humo Suelo]
type = Explod
trigger1 = pos y > -10
anim = 8245
ID = 8245
pos = 0*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Tierra Impact]
type = Explod
trigger1 = pos y > -10
anim = 8260
ID = 8260
pos = -0*Helper(999999),Fvar(16),-30*Helper(999999),Fvar(16)
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.80*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = pos y > -10
value = S5,25

[State 0, BindToTarget]
type = BindToTarget
trigger1 = movecontact
pos = 0,20,Head

[State 0, TargetState]
type = TargetState
trigger1 = pos y > -10
value = 8105
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y > -10
value = 7281
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 71050]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71050
poweradd = 0
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 5
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 15,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S5,10
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 8,0
air.velocity = 8,-4

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;--------------------------------------------------------------------------
; Sonic Tornado
[Statedef 71100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1500
ctrl = 0
velset = 0,0
anim = 71100

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,29
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 71120
ID = 9055
pos = -1,-53
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 210
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = -8
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,1200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,3000
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
triggerall = numhelper(1350) = 0
trigger1 = time = 0
time = 40
movetime = 40
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7000
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [40,237]
trigger1 = timemod = 7,0
trigger2 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 71105
stateno = 71105
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "Sonic Tornado Helper"
ID = 71110
stateno = 71110
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1.5*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = time = 210
value = 71101
;-------------------------------------------------------------------------
; Sonic Tornado End
[Statedef 71101]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 71101

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;Sonic Tornado Helper
[Statedef 71105]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 71105
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0+random%0
y = -8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 40
;-------------------------------------------------------------------------
;Sonic Tornado Helper
[Statedef 71110]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 71110
sprpriority = 3

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 0,25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 3000-time*15,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1206
volume = 100

[State 200, 1]
type = HitDef
trigger1 = timemod = 10,0
attr = S, SP
animtype  = Medium
damage = 15
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound = S1,1209
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-4
air.velocity = 0,-4
Fall = 1
Fall.recover = 0
Sprpriority = 3

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
anim = 71116
ID = 71116
postype = P2
pos = -10,5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .7*Helper(999999),Fvar(16),.7*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
persistent = 5
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Run Fwd FX]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 15,0
anim = 71115
ID = 7020
pos = 3,-17
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Run Fwd FX]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 10,0
anim = 7022
ID = 7020
pos = 3,-17
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Run Fwd FX]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 15,0
anim = 71115
ID = 7020
pos = -15*Helper(999999),Fvar(16),-23
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Run Fwd FX]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 10,0
anim = 7022
ID = 7020
pos = -5*Helper(999999),Fvar(16),-23
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 8
ampl = -5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 210
trigger2 = root,stateno != 71100
;---------------------------------------------------------------------------
; Sonic Boost
[Statedef 71200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71200
poweradd = -1500
sprpriority = 2

[State 0, Helper]
type = Helper
triggerall = Numexplod(125000) = 1
trigger1 = time = 30
helpertype = normal ;player
name = "Boost Clash ON"
ID = 15000000
stateno = 15000000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 9999
pausemovetime = 9999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 30
time = 15
ampl = -8

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 30
time = 50
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 0
trigger1 = time = 30
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 30
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 30
x = 38
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S0,230
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5||animelem = 8
value = S1,20
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
value = S1,1405
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,20
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype = Heavy
damage = 50,25
guardflag = MA
pausetime = 2,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6002
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-0
air.velocity = -0,-0
Envshake.time = 20

[State 0, Boost FX]
type = Explod
triggerall = numexplod(1250) = 0
trigger1 = time = 30
anim = 1250
ID = 1250
pos = -40,-5
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .5,.5
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Sonic Boost FX]
type = Explod
trigger1 = time = 30
anim = 1205
ID = 25250
pos = -32*Helper(999999),Fvar(16),-13*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = 1.2*Helper(999999),Fvar(16),1.2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Vientecillos]
type = Explod
trigger1 = time = 30
anim = 1210
ID = 25250
pos = -35*Helper(999999),Fvar(16),-5*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -1
scale = .9*Helper(999999),Fvar(16),.9*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
trigger1 = p2bodydist X <= 5 && movecontact
helpertype = normal ;player
name = "honda"
ID = 71220
stateno = 71220
pos = 0,0
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 3,1
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 7022
ID = 7022
pos = -5,7
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 30 && pos y = 0
anim = 7022
ID = 7022
pos = -5,6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 0
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7000
pos = 11,28
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
triggerall = time >= 30
triggerall = pos y <= -10
trigger1 = command = "holdup"
y = -7

[State 0, VelSet]
type = VelSet
triggerall = time >= 30
triggerall = pos y <= -10
trigger1 = command = "holddown"
y = 7

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= -10
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,numhelper(15000002) = 1
trigger1 = numhelper(15000002) = 1 
value = 1202
ctrl = 0

[State 200, End]
type = ChangeState
triggerall = time >= 50
trigger1 = pos y <= -10
trigger1 = ailevel = 0 && command != "hold_b"
trigger2 = ailevel > 0 && p2bodydist x < 50
trigger3 = ailevel > 0 && time = 30+random%90
trigger4 = time = 90
value = 50

[State 200, End]
type = ChangeState
trigger1 = pos y >= -10
trigger1 = Time = 50
value = 25201
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = p2bodydist X <= 5 && movecontact
value = 71201
;---------------------------------------------------------------------------
; Sonic Boost End
[statedef 71201]
type    = A
movetype= I
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 7281
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1250

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 33
statetype = S       ;S,A,C,L
movetype = A        ;I,A,H
physics = S         ;A,C,S,N

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y >= -10
trigger1 = time = 33
value = 11020
ignorehitpause = 1 

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = pos y <= -10
trigger1 = time = 33
value = 71202
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 32
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 11020
trigger1 = pos y >= -10
x = 1
y = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 71202
trigger1 = pos y <= -10
x = 1
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 1
x = 1
y = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 25250

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -3
y = -7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time%7 = 0
trigger2 = time = 0
triggerall = anim = 7281
value = S1,260
volume = 100

[State 200, End]
type = ChangeState
triggerall = p2bodydist X <= 5
trigger1 = time >= 40
value = 71202
;---------------------------------------------------------------------------
; Sonic Boost End
[statedef 71202]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 71201
sprpriority = 2

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype = Heavy
damage = 25,10
guardflag = MA
pausetime = 2,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-0
air.velocity = -0,-0
Fall.recover = 0
Fall = 1
Envshake.time = 20

[State 0, Explod]
type = Explod 
trigger1 = time = 0
anim = 2351
ID = 2351
pos = 18,-21
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
scale = 0.75,0.75
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = 0

[State 200, End]
type = ChangeState
trigger1 = pos y <= -10
trigger1 = animtime = 0
value = 50
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = pos y >= -10
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
[Statedef 71220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71220
poweradd = 0
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movecontact
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = -0*Helper(999999),Fvar(16)+random%60*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)-random%50*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999
persistent = 3 

[State 200, 1]
type = HitDef
triggerall = timemod = 2,0
trigger1 = 1
attr = S, NA
damage = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 15,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S5,10
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,-0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
;Polar Sonic
[Statedef 71300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71300
poweradd = -1000
sprpriority = -1

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,29
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 71310
ID = 9055
pos = -1,-53
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 150
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = -8
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = 1,28
volume = 999



[State 3000, SuperPause]
type = SuperPause
triggerall = numhelper(1350) = 0
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7000
pos = 0*Helper(999999),Fvar(16),-24*Helper(999999),Fvar(16)
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fuegos]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "ICE"
ID = 71320
stateno = 71320
pos = -5,0
postype = p1
facing = 1
ownpal = 1
size.xscale = .7*Helper(999999),Fvar(16)
size.yscale = .7*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = movehit = 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fuegos
[Statedef 71320]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71320
sprpriority = -999

[State 0, Estellas]
type = Explod
trigger1 = timemod = 4,0
anim = 7062
ID = 7062
pos = -80+random%180,10-random%75
postype = p1
bindtime = 1
vel = 0,-2
removetime = -2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = light
damage    = 100
Hitflag = MAFDE
guardflag = MA
pausetime = 0,25
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
sprpriority = -999
Fall = 1
fall.recover = 0
palfx.time = 225
palfx.add = 100,91,205
palfx.mul = 229,253,241
palfx.sinadd = -60,-66,-86,1
palfx.invertall
Envshake.time = 80


[State 0, Hit Spark]
type = Explod
triggerall = numexplod(1460) = 0
trigger1 = movecontact
anim = 1460
ID = 1460
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .75*Helper(999999),Fvar(16),.75*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 0
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 71360

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S5,66
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,64
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,64
volume = 999

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = time >= 500
;-------------------------------------------------------------------------------
; P2
[Statedef 71360]
type    = S
movetype= H
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 0
Facep2 = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 20
add = 50,60,120

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5005+var(10)+ifelse(authorname = "Mikel8888",var(10),0)
elem = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, HitFallSet]
type = HitFallSet
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 200
y = -0

[State 200, End]
type = Selfstate
trigger1 = time >= 200
value = 5050
;-------------------------------------------------------------------------------
; Super Sonic Wave
[Statedef 71400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71400
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,17
volume = 50
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S180,9
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sonic Wave Helper"
ID = 71410
stateno = 71410
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45*Helper(999999),Fvar(16)
size.yscale = .45*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sonic Wave Helper"
ID = 71410
stateno = 71411
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45*Helper(999999),Fvar(16)
size.yscale = .45*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7001
ID = 7001
pos = 5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Wave - Honda FX]
type = Helper
trigger1 = time = 80
name = "Honda FX"
ID = 25425
facing = 1
stateno = 25425
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = time = [50,80]
trigger1 = command != "hold_c"
value = 71401

[State 200, End]
type = ChangeState
triggerall = time = [80,110]
trigger1 = command != "hold_c"
value = 71402

[State 200, End]
type = ChangeState
triggerall = time = [110,120]
trigger1 = time >= 120
value = 71402
;===============================================================================
;Wave Fire 1
;-------------------------------------------------------------------------------
[Statedef 71401]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71401
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
triggerall = time = [5,251]
trigger1 = timemod = 7,0 
anim = 7032
ID = 7032
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
sprpriority = 2
supermove = 1
removetime = -2
ownpal = 1
scale = .2,.2
vel = -5,0
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 71430
ID = 71430
pos = 100*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 230
scale = .45*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 236
anim = 71431
ID = 71431
pos = 100*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .45*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Shadow FX]
type = Explod
triggerall = time > 6
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-0-Random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Sonic Wave Helper"
ID = 71450
stateno = 71450
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fumaça leve atras]
type = Explod
triggerall = time = [0,251]
trigger1 = timemod = 12,0 
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [10,260]
trigger1 = timemod = 7,0
trigger2 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 25465
stateno = 25465
pos = 50,-10
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Burst Waves FX]
type = Explod
TriggerAll = (GameTime % 7) = 0
trigger1 = 1
anim = 71470
ID = 71470
pos = 275*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
bindtime = 0
RemoveTime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
Vel = 2,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Angle = -90

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 260 
value = 0 
ctrl = 1
;===============================================================================
;Wave Fire 2
;-------------------------------------------------------------------------------
[Statedef 71402]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71401
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
triggerall = time = [5,251]
trigger1 = timemod = 7,0 
anim = 7032
ID = 7032
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
sprpriority = 2
supermove = 1
removetime = -2
ownpal = 1
scale = .2,.2
vel = -5,0
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 71430
ID = 71430
pos = 100*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 230
scale = .45*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 236
anim = 71431
ID = 71431
pos = 100*Helper(999999),Fvar(16),-35*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .45*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Power Charge - Aura]
type = Helper
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 71415
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Shadow FX]
type = Explod
triggerall = time > 6
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-0-Random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Sonic Wave Helper"
ID = 71451
stateno = 71451
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fumaça leve atras]
type = Explod
triggerall = time = [0,251]
trigger1 = timemod = 12,0 
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [10,260]
trigger1 = timemod = 7,0
trigger2 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 25465
stateno = 25465
pos = 50,-10
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Burst Waves FX]
type = Explod
TriggerAll = (GameTime % 7) = 0
trigger1 = 1
anim = 71470
ID = 71470
pos = 275*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
bindtime = 0
RemoveTime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
Vel = 2,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Angle = -90

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 260 
value = 0 
ctrl = 1
;------------------------------------------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 71410]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 25430
sprpriority = 4

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 55
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = [5,120]
pos = -17,-22

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 71400
trigger2 = root,movetype = H
trigger3 = root,time = 60
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 71400
trigger2 = root,movetype = H
trigger3 = root,time = 120
trigger4 = numhelper(71450) = 1
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 71411]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 28436
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = [5,120]
pos = -17,-22

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 71400
trigger2 = root,movetype = H
trigger3 = root,time = 63
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 71400
trigger2 = root,movetype = H
trigger3 = root,time = 120
trigger4 = numhelper(71450) = 1
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 71415]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 558
sprpriority = 4

[State 0, Angledraw]
type = Angledraw
trigger1 = 1
value = 90
ignorehitpause = 1
persistent = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -15,-15

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,Stateno != 71402

[State 200, End]
type = Changestate
trigger1 = root,Stateno != 71402
value = 555
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 71450]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71450
sprpriority = 3

[State 0, Burst Waves FX]
type = Explod
TriggerAll = (GameTime % 7) = 0
trigger1 = 1
anim = 71470
ID = 71470
pos = 275*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
bindtime = 0
RemoveTime = -2
scale = .5*Helper(999999),Fvar(16),1.5*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
Vel = 2,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Angle = -90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 20*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 3
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,1305
guardsound = S1,1305
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5,2
Fall = 0
kill = 0
Getpower = 0,0
sprpriority = 3
Envshake.time = 100

[State 200, Final Flash - Hit]
type = Explod
trigger1 = Movehit = 1
anim = 71460
ID = 71460
postype = P2
pos = 20,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)



[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 71401

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 71455
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 71451]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71450
sprpriority = 3

[State 0, Burst Waves FX]
type = Explod
TriggerAll = (GameTime % 7) = 0
trigger1 = 1
anim = 71470
ID = 71470
pos = 275*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
bindtime = 0
RemoveTime = -2
scale = .5*Helper(999999),Fvar(16),1.5*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
Vel = 2,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Angle = -90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 20*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 4,0
attr = A, SP
animtype  = Heavy
damage    = 3
Hitflag = MAFDE
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,1305
guardsound = S1,1305
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -5,2
Fall = 0
kill = 0
Getpower = 0,0
sprpriority = 3
Envshake.time = 100

[State 200, Final Flash - Hit]
type = Explod
trigger1 = Movehit = 1
anim = 71460
ID = 71460
postype = P2
pos = 20,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)



[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 71402

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 71455
;-------------------------------------------------------------------------------
; Final Flash - Explosion
[Statedef 71455]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, Explosion Final]
type = Helper
trigger1 = movehit = 1 && numhelper(28480) = 0
helpertype = normal
name = "Explosion Final"
ID = 71480
stateno = 71480
pos = 0,-30
postype = p2
facing = -1
ownpal = 1
sprpriority = 3
size.xscale = 1.2*Helper(999999),Fvar(16)
size.yscale = 1.2*Helper(999999),Fvar(16)
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
v = 2
value = 25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 27,13
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Final Flash - Explosion Final
[Statedef 71480]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 71480
velset = 0,0
sprpriority = -1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PosAdd]
type = PosSet
trigger1 = time = 0
y = -30

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0,FX]
type=Explod
trigger1 = time = 0
anim=25070
ID=25070
pos = 0,30*Helper(999999),Fvar(16)
Scale=3,.20
sprpriority=-9
ontop=0
ownpal=1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1526
ID = 1526
Pos = 0,-10
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1525
ID = 1525
Pos = 0,-10
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -4
OwnPal = 1
RemoveOnGetHit = 0
IgnoreHitPause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
; Solar Sonic
[Statedef 71500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71500
poweradd = -1000
sprpriority = 2

;-----------------------Clash------------------------------------------------
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(75250) = 1
value = 71501

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 71501
trigger1 = enemy,stateno = [0,190]
value = 0
ctrl = 0

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 71501
trigger1 = enemy,stateno = [0,500]
trigger1 = enemy,stateno = [5000,5300]
trigger1 = enemy,anim = [5000+var(10),5300+var(10)]
value = 0
ctrl = 1
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 25    ;fv = 10
value = 0

[State 0, playsnd]
type = playsnd
triggerall = anim = 71501
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/8
value = S5,7
volume = 50

[State 0, VarAdd]
type = VarAdd
triggerall = anim = 71501
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/8
v =  25   
value = 1

[State 0, Explod]
type = Explod
triggerall = anim = 71501
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/8
anim = 7037
ID = 7032
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
sprpriority = 2
supermove = 1
removetime = -2
ownpal = 1
scale = .2,.2
vel = -5,0
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fumaça leve atras]
type = Explod
triggerall = anim = 71501
trigger1 = timemod = 12,0 
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fumaça leve atras]
type = Explod
triggerall = anim = 71501
trigger1 = command = "a"
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Shadow FX]
type = Explod
triggerall = anim = 71501
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-0-Random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
;----------------------------------------------------------------------------

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1526
ID = 1526
Pos = 0,-40
postype = P1
RemoveTime = -2
SuperMoveTime = -1
Scale = .75,.75
SprPriority = -4
OwnPal = 1
trans = Add
RemoveOnGetHit = 0
IgnoreHitPause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1525
ID = 1525
Pos = 0,-40
postype = P1
RemoveTime = -2
SuperMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,29
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 561
ID = 9055
pos = -1,-53
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -1
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = -8
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S180,9
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
triggerall = numhelper(1350) = 0
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 30
helpertype = normal
name = "Fire Ball Charge"
ID = 71530
stateno = 71530
pos = -10,-20
postype = p1
ownpal = 1
size.xscale = .4*Helper(999999),Fvar(16)
size.yscale = .4*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "Fire Ball"
ID = 71550
stateno = 71550
pos =  0,-100
postype = p1
ownpal = 1
size.xscale = .15*Helper(999999),Fvar(16)
size.yscale = .15*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7001
pos = 5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = numhelper(71550) = 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Fire ball - Charge
[Statedef 71530]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 71550
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1= 1
pos = 0,-100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = .1+time*.01,.1+time*.01
value = -1-time*25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 30
scale = .4,.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,62
volume = 50
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,62
volume = 50
channel = 4

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 71500
trigger2 = root,movetype = H
trigger3 = root,animelem = 4
channel = 3

[State 0, StopSnd] 
type = StopSnd
trigger1 = root,stateno != 71500
trigger2 = root,movetype = H
trigger3 = root,animelem = 4
channel = 4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 71500
trigger2 = root,movetype = H
trigger3 = root,animelem = 5
;-------------------------------------------------------------------------------
; Mini Cruel Sun - Projectil
[Statedef 71550]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,63
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time > 10
x = 8
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time < 10
x = 5
y = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = Unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 120,60
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,1305
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Clash]
type = Helper
triggerall = enemy,Numexplod(8597515) = 1
trigger1 = time = 0
helpertype = normal
name = "Clash"
ID = 859751575
stateno = 859751575
pos = 15,0
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 71555
ignorehitpause = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = Numhelper(859751575) = 1 && enemy,Numhelper(859751575) = 1 
Trigger1 = movecontact
value = 71570
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = Numhelper(859751575) = 1 && enemy,Numhelper(859751575) = 1 
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 71570
time = 999999999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time = 500
trigger3 = movecontact = 1
value = 71555
;-------------------------------------------------------------------------------
;Clash
[Statedef 71570]
type = S
movetype = A
physics = S
sprpriority = 3
ctrl = 0
poweradd = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 3,3

[State 0, EnvShake]
type = EnvShake
triggerall = time > 0
trigger1 = time%5 = 0
time = 4
ampl = -9

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "clash on"
ID = 75250
stateno = 75250
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = root,var(25) > enemy,var(25)
x = 1.5
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = root,var(25) < enemy,var(25)
x = -1.5
y = 0
[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 200, 1]
type = HitDef
trigger1 = 1
attr = A, SP
damage = 120,50
animtype = Light
guardflag = MA
hitflag = MAFde
priority = 3, Hit
pausetime = 0,8
sparkno = -1
guard.sparkno = s7030
hitsound = S5,60
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -12,0
air.hittime = 12
fall.recover=0
ground.cornerpush.veloff=0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 0||root,stateno = 20||root,stateno = 100||root,stateno = 500||root,stateno = 101

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = [5000,5300]

[State 200, End]
type = changestate
Trigger1 = movecontact
trigger2 = frontedgebodydist < -50
value = 71555
;---------------------------------------------------------------------------
; Mini Cruel Sun - Projectil Roto
[Statedef 71555]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 71555
ID = 71555
pos = 0,0
postype = p1
scale = .7,.7
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Solar Sonic Air
[Statedef 71510]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71510
poweradd = -1000
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 70
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30

[State 0, VelSet]
type = VelSet
trigger1 = time = 70
x = -6
y = -7

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,29
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 561
ID = 9055
pos = -1,-53
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 50
pausemovetime = 9999
supermovetime = 9999
scale = .2,.2
sprpriority = -8
ownpal = 1
removeongethit = 1
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
value = S180,9
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
triggerall = numhelper(1350) = 0
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Fire Ball Charge"
ID = 71535
stateno = 71535
pos = -10,-20
postype = p1
ownpal = 1
size.xscale = .4*Helper(999999),Fvar(16)
size.yscale = .4*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 70
helpertype = normal
name = "Fire Ball"
ID = 71560
stateno = 71560
pos = 50,10
postype = p1
ownpal = 1
size.xscale = .15*Helper(999999),Fvar(16)
size.yscale = .15*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7001
pos = 5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 80 
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Fire ball - Charge
[Statedef 71535]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 71550
sprpriority = 3

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 9999
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1= 1
pos = 50,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = .1+time*.01,.1+time*.01
value = -1-time*25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 30
scale = .4,.4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,62
volume = 50
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2
value = S5,62
volume = 50
channel = 4

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 71510
trigger2 = root,movetype = H
trigger3 = root,animelem = 4
channel = 3

[State 0, StopSnd] 
type = StopSnd
trigger1 = root,stateno != 71510
trigger2 = root,movetype = H
trigger3 = root,animelem = 4
channel = 4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 71510
trigger2 = root,movetype = H
trigger3 = root,numhelper(71560) = 1
;-------------------------------------------------------------------------------
; Mini Cruel Sun - Projectil
[Statedef 71560]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,63
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time < 2
x = 5
y = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 5,0
time = 5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
flag2 = Unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SP
animtype  = Heavy
damage    = 120,60
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,1305
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
PalFX.time = 60
PalFX.add = -100,-100,-100
PalFX.mul = 100,100,100
PalFX.sinadd = -100,-100,-100,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 0
trigger2 = time = 500
trigger3 = movecontact = 1
trigger4 = pos y >= 25
value = 71555
;-------------------------------------------------------------------------------
; Fuego en P2
[Statedef 480]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger2 = timemod = 30,0
value = S5,62
volume = 999

[State 0, Fire FX]
type = Explod
trigger1 = timemod = 2,0
anim = 480
ID = 480
pos = -10+(random%20),-10-(random%40)
postype = p2
facing = -1
vfacing = 1
bindtime = 5
removetime = -2
scale = .2,.2
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, End]
type = Destroyself
trigger1 = time = 80
trigger2 = p2movetype != H
;-------------------------------------------------------------------------------
; Ultra Sonic Wave
[Statedef 71600]
type    = A
movetype= A
physics = S
juggle  = 1
velset = 0,.2
ctrl = 0
anim = 71600
poweradd = -1500
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, Wave - Honda FX]
type = Helper
trigger1 = time = 80
name = "Honda FX"
ID = 25425
facing = 1
stateno = 25425
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,17
volume = 50
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sonic Wave Helper"
ID = 71610
stateno = 71610
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4*Helper(999999),Fvar(16)
size.yscale = .4*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 5
helpertype = normal
name = "Sonic Wave Helper"
ID = 71611
stateno = 71611
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4*Helper(999999),Fvar(16)
size.yscale = .4*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7000
ID = 7001
pos = 5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
triggerall = time = [50,80]
trigger1 = command != "hold_c"
value = 71601

[State 200, End]
type = ChangeState
triggerall = time = [80,110]
trigger1 = command != "hold_c"
value = 71602

[State 200, End]
type = ChangeState
triggerall = time = [110,120]
trigger1 = time >= 120
value = 71602
;===============================================================================
; Wave Fire 1
;-------------------------------------------------------------------------------
[Statedef 71601]
type    = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71601
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 71430
ID = 71430
pos = 70*Helper(999999),Fvar(16),45*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 230
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -40

[State 0, Explod]
type = Explod
trigger1 = time = 236
anim = 71431
ID = 71431
pos = 70*Helper(999999),Fvar(16),45*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -40

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Sonic Wave Helper"
ID = 71650
stateno = 71650
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [10,260]
trigger1 = timemod = 7,0
trigger2 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 25475
stateno = 25475
pos = 50,20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, Shadow FX]
type = Explod
triggerall = time > 0
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-30-Random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = -130
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -.4
y = -.5
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 260 
value = 50 
ctrl = 1
;===============================================================================
; Wave Fire 2
;-------------------------------------------------------------------------------
[Statedef 71602]
type    = A
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71601
poweradd = 0
sprpriority = 2

[State 0, Power Charge - Aura]
type = Helper
trigger1 = time = 7
name = "Power Charge - Aura"
ID = 550
stateno = 71615
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 71430
ID = 71430
pos = 70*Helper(999999),Fvar(16),45*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 230
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -40

[State 0, Explod]
type = Explod
trigger1 = time = 236
anim = 71431
ID = 71431
pos = 70*Helper(999999),Fvar(16),45*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -40

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Sonic Wave Helper"
ID = 71650
stateno = 71651
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [10,260]
trigger1 = timemod = 7,0
trigger2 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 25475
stateno = 25475
pos = 50,20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, Shadow FX]
type = Explod
triggerall = time > 0
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-30-Random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = -130
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -.4
y = -.5
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 260 
value = 50 
ctrl = 1
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 71615]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 558
sprpriority = 4

[State 0, Angledraw]
type = Angledraw
trigger1 = 1
value = 40
ignorehitpause = 1
persistent = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 11,-30

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = Cond(Root,StateNo = 500,-1,-2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 500
trigger1 = Root,StateNo != 520
id = 550

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,Stateno != 71602

[State 200, End]
type = Changestate
trigger1 = root,Stateno != 71602
value = 555
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 71650]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71650
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, Burst Waves FX]
type = Explod
TriggerAll = (GameTime % 7) = 0
trigger1 = 1
anim = 71470
ID = 71470
pos = 265*Helper(999999),Fvar(16),200*Helper(999999),Fvar(16)
postype = p1
bindtime = 0
RemoveTime = -2
scale = .5*Helper(999999),Fvar(16),1.5*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermovetime = 999
Vel = 2,0
Angle = -130

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 0*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 3
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,1305
guardsound = S1,1305
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,4
Fall = 0
kill = 0
Getpower = 0,0
sprpriority = 3
Envshake.time = 100


[State 200, Final Flash - Hit]
type = Explod
trigger1 = Movehit = 1
anim = 71460
ID = 71460
postype = P2
pos = 20,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 71601

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 25466
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 71651]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71650
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 0*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 4,0
attr = A, SP
animtype  = Heavy
damage    = 3
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,1305
guardsound = S1,1305
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,4
Fall = 0
kill = 0
Getpower = 0,0
sprpriority = 3
Envshake.time = 100


[State 200, Final Flash - Hit]
type = Explod
trigger1 = Movehit = 1
anim = 71460
ID = 71460
postype = P2
pos = 20,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 71602

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 25466
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 71610]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 25430
sprpriority = 4

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 50
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -13,-30

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 71600
trigger2 = root,movetype = H
trigger3 = root,time = 63
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 71600
trigger2 = root,movetype = H
trigger3 = root,time = 120
trigger4 = numhelper(71650) = 1
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 71611]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 28436
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -13,-30

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 55
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 71600
trigger2 = root,movetype = H
trigger3 = root,time = 63
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 71600
trigger2 = root,movetype = H
trigger3 = root,time = 120
trigger4 = numhelper(71650) = 1
;-------------------------------------------------------------------------------
; Shock Wave FX
[Statedef 1060]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7410
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.25,1+time*.25
value = -1-time*25

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 10
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 30
;---------------------------------------------------------------------------
; Slash Spark
[Statedef 900]
type    = A
movetype= I
physics = N
anim = 7007
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, RemapPal]
type = RemapPal
triggerall = root,var(2) = 4
trigger1 = timemod = 1,0
source = 200,0
dest = 200,0+(random%6)
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
; Slash Spark
[Statedef 901]
type    = A
movetype= I
physics = N
anim = 7008
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, RemapPal]
type = RemapPal
triggerall = root,var(2) = 4
trigger1 = timemod = 1,0
source = 200,0
dest = 200,0+(random%6)
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0
;---------------------------------------------------------------------------
; Slash Spark
[Statedef 902]
type    = A
movetype= I
physics = N
anim = 9252
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.1,1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = AnimTime = 0

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;===============================================================================
; CHARGED UP! Aura Permenate
;-------------------------------------------------------------------------------
[Statedef 2564]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Rayos SS2]
type = Explod
;triggerall = var(6) = 1
;trigger1 = numhelper(2560) = 1
trigger1 = timemod = 25,0;30,0
anim = 9030+(random%4)
ID = 9030
pos = -7*Helper(999999),Fvar(16)+random%15*Helper(999999),Fvar(16),0-random%40*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999


[State 0, Estellas]
type = Explod
trigger1 = root,stateno != 1101
trigger1 = timemod = 35,0
anim = 699
ID = 701
pos = 0,-10;-5,-5
postype = p1
bindtime = -1
vel = 0,0
removetime = -2
scale = .12,.1
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999


[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = root,stateno = 1101
id = 701

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 100
ID = 701
postype = p1
Pos = 15,-20
scale = .1,.13
bindtime = -1
angle = 90
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 101
ID = 701
bindtime = -1
postype = p1
Pos = -15,-20
scale = .1,.13
angle = -90
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 0||root,stateno = 11
ID = 701
bindtime = -1
postype = p1
Pos = 9,-10;0
angle = -0
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 810||root,stateno = 11615||root,stateno = 25200||root,var(6) = 0||root,numhelper(450) = 1||root,stateno = 611||root,stateno = 621
ID = 701
bindtime = -1
postype = p1
Pos = 0,0
angle = -0
sprpriority = -3
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numhelper(450) = 1
ID = 701
bindtime = -1
postype = p1
Pos = 0,0
angle = -0
sprpriority = -3
scale = 0,0

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,life = 0
trigger3 = root,var(6) = 0
;-------------------------------------------------------------------------------
[Statedef 940]
type    = A
movetype= H
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2
y = -2

[State ,0]
Type = Lifeadd
triggerall = time = 0
Value = 1
Trigger1 = 1
ignorehitpause = 1

[State 5050, 1] ;Change anim when done with transition
type = ChangeAnim
trigger1 = AnimTime = 0
trigger1 = Anim = 5035
trigger2 = Time = 0     ;If no transition anim
trigger2 = Anim != 5035
trigger2 = (Anim != [5051, 5059]) && (Anim != [5061, 5069])
trigger2 = Anim != 5090 ;Not if hit off ground anim
value = 5050

[State 5050, 2] ;Coming down anim
type = ChangeAnim
trigger1 = (anim = [5050,5059])
trigger1 = Vel Y >= cond(anim = 5050, 1, -2)
trigger1 = SelfAnimExist(anim+10)
value = anim+10
persistent = 0

[State 5050, 3] ;Gravity
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5050, 6]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= cond((anim = [5051,5059]) || (anim = [5061,5069]), 0, 25)
value = 941 ;HIT_BOUNCE
;-------------------------------------------------------------------------------
[Statedef 941]
type    = L
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1

[State 5100, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5051,5059])+var(10) && (anim != [5061,5069])+var(10)
trigger2 = !SelfAnimExist(5100 + (anim % 10))
value = 5100+var(10)

[State 5100, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
trigger1 = time = 0
trigger1 = (anim = [5051,5059])+var(10) || (anim = [5061,5069])+var(10)
trigger1 = SelfAnimExist(5100 + (anim % 10))
value = (5100+var(10)) + (anim % 10)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 7]
type = ChangeState
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
value = 943 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 1
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = -5, 0
under = sysvar(1) <= 14

[State 5100, 9]
type = HitFallDamage
trigger1 = Time = 3

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 942

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20
;-------------------------------------------------------------------------------
[Statedef 942]
type    = L
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim != [5101,5109])+var(10)
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160+var(10)

[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = (anim = [5101,5109])+var(10)
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = (5160+var(10)) + (anim % 10)

[State 5101, 3]
type = HitFallVel
trigger1 = Time = 0

[State 5101, 4]
type = PosSet
trigger1 = Time = 0
y = 20

[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .4

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 12
type = ChangeState
value = 943
;-------------------------------------------------------------------------------
[Statedef 943]
type    = L
movetype= H
physics = N

[State 5110, EnvShake]
type = FallEnvShake
trigger1 = Time = 0

[State 5110, 1] ;For hit up/up-diag type (from state 5081)
type = ChangeAnim
persistent = 0
trigger1 = SelfAnimExist(5110 + (anim % 10))
trigger1 = (anim = [5081,5089])+var(10)
value = (5110+var(10)) + (anim % 10)

[State 5110, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
triggerall = (anim != [5110,5119])+var(10) ;Not already changed anim
trigger1 = (anim != [5161,5169])+var(10)
trigger2 = !SelfAnimExist(5170 + (anim % 10))
value = 5170+var(10)

[State 5110, 3] ;Hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
triggerall = (anim != [5110,5119])+var(10) ;Not already changed anim
trigger1 = (anim = [5161,5169])+var(10)
trigger1 = SelfAnimExist(5170 + (anim % 10))
value = (5170+var(10)) + (anim % 10)

[State 5110, 4]
type = HitFallDamage
trigger1 = Time = 0

[State 5110, 5]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5110, Var] ;Get fall velocity
type = VarSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) != 0
sysvar(1) = floor(vel y)

[State 5110, 6]
type = PlaySnd
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = F7, (sysvar(1) > 5) + (sysvar(1) > 14)

[State 5110, 7]
type = GameMakeAnim
trigger1 = Time = 0
trigger1 = !SysVar(0)
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = -5, 0
under = sysvar(1) <= 14

[State 5110, 8]
type = VelSet
trigger1 = Time = 0
y = 0

[State 5110, 9] ;For hit up type
type = ChangeAnim
persistent = 0
triggerall = (anim = [5171,5179])+var(10)
triggerall = SelfAnimExist(5110 + (anim % 10))
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground anim
value = (5110+var(10)) + (anim % 10)

[State 5110, 10] ;For normal
type = ChangeAnim
persistent = 0
triggerall = (Anim != [5111,5119])+var(10)
trigger1 = AnimTime = 0
trigger2 = SysVar(0) ;SysVar(0) = 1 avoids hit ground frame
value = 5110+var(10)


[State 5110, 12]
type = VarSet
trigger1 = SysVar(0)
trigger1 = Time = 0
sysvar(0) = 0

[State 5110, 13] ;Friction
type = VelMul
trigger1 = 1
x = 0.85

[State 5110, 14]
type = ForceFeedback
trigger1 = alive
trigger1 = Time = 0
time = 8
ampl = 240
waveform = sine

[State 5110, 15]
type = ForceFeedback
trigger1 = !alive
trigger1 = Time = 0
ampl = 200, 7, -.467
time = 30
waveform = sine

[State 7500]
Type = ChangeState
Trigger1 = animtime = 0
Value = 950
ignorehitpause=1
;-------------------------------------------------------------------------------
; Super Fleetway Transformation
[Statedef 950]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 950
sprpriority = -1
poweradd = -3000

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NOKO
ignorehitpause = 1
persistent = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = [135,185]
trigger1 = time%5 = 0
time = 4
ampl = -3

[State 0, Roto]
type = Explod
trigger1 = time = 55
anim = 7041
ID = 7040
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = -5
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S180,11
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S180,11
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S180,11
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 330
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 330
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 330
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 330
value = S180,85
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 55
value = S1,10
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 135
value = S5,34
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 135
anim = 4150
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 120
scale = 1,1
sprpriority = -2
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 255
anim = 4151
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = -3
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 135
anim = 951
ID = 4150
pos = 0,30
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 120
scale = 1.5,1.5
sprpriority = -4
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 255
anim = 952
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = -3
removeongethit = 1
ownpal = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = lifemax/2
kill = 1
absolute = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 135
v = 2    ;fv = 10
value = 9

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 470
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Super Tails - Activado
[Statedef 848]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v =  2   ;fv = 
value = 8
;ignorehitpause = 
;persistent = 

[State 200, End]
type = Destroyself
trigger1 = ifelse(root,ailevel > 0,time >= 1000,time >= 1)
;-------------------------------------------------------------------------------
; Rings
[Statedef 3235]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 3210
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = parentdist x/10*Helper(999999),Fvar(16)
y = parentdist y/10*Helper(999999),Fvar(16)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; Charge Helper
[Statedef 3240]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 3211
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,58
volume = 50
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
;===============================================================================
;----------------------Misc-----------------------------------------------------
;===============================================================================
;-------------------------------------------------------------------------------
; Hold FX
[Statedef 7420]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7410
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,61
volume = 500

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+time*.1,1+time*.1
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 3*Helper(999999),Fvar(16),-15*Helper(999999),Fvar(16)

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;===============================================================================
; P2 - Towards the Wall
[Statedef 7000]
type    = A
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5000+var(10)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 0
trigger1 = 1
x = -20
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 5
trigger1 = 1
x = -24
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 6
trigger1 = 1
x = -25
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 7
trigger1 = 1
x = -26
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 2
trigger1 = 1
x = -27
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 3
trigger1 = 1
x = -30
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 1
trigger1 = 1
x = -23
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 8||enemy,var(2) = 9
trigger1 = 1
x = -30
[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 4
trigger1 = 1
x = -32

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 7001
;---------------------------------------------------------------------------
; P2 - Empotrado en la Pared
[Statedef 7001]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; Helper - P2 Contra la Pared
[Statedef 7050]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 50

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 1110
ID = 1110
pos = -20,0
postype = p1
vel = -2,-2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .7,.7
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = time = 1
;---------------------------------------------------------------------------
; P2 dust
[Statedef 7075]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = 7020
ID = 7020
pos = 0,7
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
trigger2 = time = 0
anim = 900
ID = 900
pos = 0,-25
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
vel = -.5,0
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = 999

[State 0, Speed FX]
type = Explod
triggerall = time >= 10
trigger1 = timemod = 2,0
anim = 580
id = 580
pos = (15-random%-15)*Helper(999999),Fvar(16),(0-random%-20)*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
vel = -2,0
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = 270
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 7000
;-------------------------------------------------------------------------------
; P2 - Launched
[Statedef 8000]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -15
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5020+var(10)+Cond(authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0)
elem = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - Launched 2
[Statedef 8001]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -20,-8
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5020+var(10)+Cond(authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0)
elem = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - Crash in Wall
[Statedef 8005]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
sprpriority = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -10

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;-------------------------------------------------------------------------------
; P2 - Thrown
[Statedef 8050]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S100,0
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Shockwave]
type = Explod
triggerall = time >= 10
trigger1 = timemod = 5,0
trigger2 = time = 10
anim = 7046
ID = 7046
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -.5,-.5
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Speed FX]
type = Explod
triggerall = time >= 10
trigger1 = timemod = 2,0
anim = 580
id = 580
pos = (10-random%25)*Helper(999999),Fvar(16),(-5-random%30)*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
vel = -2,0
bindtime = 1
removetime = -2
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = 90
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8000
;-------------------------------------------------------------------------------
; P2 - Crash In Wall Impact
[Statedef 8060]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,2
volume = 50

[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -7

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8250
ID = 8250
pos = 135*Helper(999999),Fvar(16),60*Helper(999999),Fvar(16)
postype = p1
vel = -2,-2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = -10*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
angle = 90
ontop = 1
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8261
ID = 8261
pos = 0,20*Helper(999999),Fvar(16)
postype = p2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; P2 - Down Launched
[Statedef 8100]
type    = S
movetype= H
physics = N
juggle  = 1
velset = -8,10
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5100+var(10)+Cond(authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = pos y > 0
value = 8105

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - In Floor
[Statedef 8105]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time < 15
value = -1
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = -4
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 15
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time < 15
value = 5100+var(10)+Cond(authorname = "Salah Uchiha",var(10),0)
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 15
value = 5110+var(10)+Cond(authorname = "Salah Uchiha",var(10),0)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = ifelse(alive,5120,5150)

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - Fall in Ground
[Statedef 8150]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,1
volume = 50

[State 0, Speed FX]
type = Explod
triggerall = time = [0,15]
trigger1 = timemod = 2,0
anim = 580
id = 580
pos = (10-random%30)*Helper(999999),Fvar(16),(-5-random%35)*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = -45
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 50
;-------------------------------------------------------------------------------
; P2 - Slidding in Floor
[Statedef 8160]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,3
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 4,0
anim = 7022
ID = 1051
pos = -15*Helper(999999),Fvar(16),7*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 2,0
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Roto]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 8,0
anim = 7040
ID = 7040
pos = -20*Helper(999999),Fvar(16),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Humo Suelo]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 5,0
anim = 8245
ID = 8245
pos = -20*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8105
;-------------------------------------------------------------------------------
; P2 - Down Launched
[Statedef 8200]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,10
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) = 0
triggerall = enemy,var(2) != 1||enemy,var(2) != 2||enemy,var(2) != 3||enemy,var(2) != 4
trigger1 = 1
y = 10

[State 0, VelSet]
type = VelSet
triggerall = enemy,var(2) != 0
triggerall = enemy,var(2) = 1||enemy,var(2) = 2||enemy,var(2) = 3||enemy,var(2) = 4
trigger1 = 1
y = 20

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5100+Cond(authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = pos y > 0
value = 8205
;-------------------------------------------------------------------------------
; P2 - In Floor
[Statedef 8205]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, EnvShake]
type = EnvShake
triggerall = enemy,var(2) = 1||enemy,var(2) = 2||enemy,var(2) = 3||enemy,var(2) = 4
trigger1 = time = 0
time = 21
freq = 60
ampl = -24

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time < 15
value = -1
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time < 15
value = 5100+var(10)+Cond(authorname = "Salah Uchiha",var(10),0)
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 15
value = 5110+var(10)+Cond(authorname = "Salah Uchiha",var(10),0)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = ifelse(alive,5120,5150)
;-------------------------------------------------------------------------------
; P2 - Fall in Ground
[Statedef 8250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,1
volume = 50

[State 0, Speed FX]
type = Explod
triggerall = time = [0,15]
trigger1 = timemod = 2,0
anim = 580
id = 580
pos = (10-random%30)*Helper(999999),Fvar(16),(-5-random%35)*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 50
;-------------------------------------------------------------------------------
; P2 - Slidding in Floor
[Statedef 8260]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 21
freq = 60
ampl = -24

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8261
ID = 8261
pos = 0,20*Helper(999999),Fvar(16)
postype = p2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,3
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 4,0
anim = 7022
ID = 1051
pos = -15*Helper(999999),Fvar(16),7*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 2,0
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Roto]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 8,0
anim = 7040
ID = 7040
pos = -20*Helper(999999),Fvar(16),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Humo Suelo]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 5,0
anim = 8245
ID = 8245
pos = -20*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8205
;-------------------------------------------------------------------------------
; P2 - Down Launched
[Statedef 8300]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,10
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -16
y = 20

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5100+var(10)+Cond(authorname = "Andrew55",var(10),0)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = pos y > 0
value = 8305
;-------------------------------------------------------------------------------
; P2 - In Floor
[Statedef 8305]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time < 15
value = -1
kill = 1

[State 0, VelSet]
type = VelSet
trigger1 = time < 15
x = -4
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 15
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time < 15
value = 5100+var(10)+Cond(authorname = "Salah Uchiha",var(10),0)
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 15
value = 5110+var(10)+Cond(authorname = "Salah Uchiha",var(10),0)
elem = 1

[State 200, End]
type = Selfstate
trigger1 = time = 50
value = ifelse(alive,5120,5150)

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8005
;-------------------------------------------------------------------------------
; P2 - Fall in Ground
[Statedef 8350]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,1
volume = 50

[State 0, Speed FX]
type = Explod
triggerall = time = [0,15]
trigger1 = timemod = 2,0
anim = 580
id = 580
pos = (10-random%30)*Helper(999999),Fvar(16),(-5-random%35)*Helper(999999),Fvar(16)
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = -45
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 50
;-------------------------------------------------------------------------------
; P2 - Slidding in Floor
[Statedef 8360]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)
[State 0, Rocas]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Rocas"
ID = 8375
stateno = 8375
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time > 24
id =  8260

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 21
freq = 60
ampl = -24

[State 0, Tierra Impact]
type = Explod
trigger1 = time = 0
anim = 8260
ID = 8260
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8261
ID = 8261
pos = 0,20*Helper(999999),Fvar(16)
postype = p2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S100,3
volume = 50

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, Explod]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 4,0
anim = 7022
ID = 1051
pos = -15*Helper(999999),Fvar(16),7*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 2,0
removetime = -2
scale = .3*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Roto]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 8,0
anim = 7040
ID = 7040
pos = -20*Helper(999999),Fvar(16),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Humo Suelo]
type = Explod
triggerall = time < 15
triggerall = pos y = 0
trigger1 = timemod = 5,0
anim = 8245
ID = 8245
pos = -20*Helper(999999),Fvar(16),6*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 8305
;----------------------------------------------------------------------------
; B Aire - Rocas
[Statedef 8375]
type    = A
movetype= I
physics = A
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2+random%5
y = -4-random%4

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 4
value = ifelse(vel x >= 0,-10-random%5,10+random%5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(4)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 7145+(random%4)

[State 200, End]
type = Changestate
trigger1 = time > 5 && pos y >= -10
value = 8376
;-------------------------------------------------------------------------------
; B Aire - Rocas Fin
[Statedef 8376]
type    = S
movetype= I
physics = S

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(4)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 256-(time*5),0+(time*5)

[State 200, End]
type = Destroyself
trigger1 = time = 75
;-------------------------------------------------------------------------------
[Statedef 8400]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
v = 5    ;fv = 10
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1205
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1205
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1205
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1205

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 25250
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 25250
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 25250
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 25250

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1305
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1305
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1305
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1305

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1405
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1405
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1405
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1405

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -25
y = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5020+var(10)+ifelse(authorname="Mikel8888",var(10),0)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 8401
;-------------------------------------------------------------------------------
[Statedef 8401]
type = A
movetype = H
physics = N
juggle = 1
velset = 0,0
ctrl = 0
sprpriority = 0
Facep2 = 1

[State 0,LifeAdd]
type=LifeAdd
trigger1 = !Time
value = -80

[State 0,ChangeAnim]
type=ChangeAnim
trigger1 = 1
value = 5021+var(10)+ifelse(authorname="Mikel8888",var(10),0)
elem = 1

[State 0,PlayerPush]
type=PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 200,End]
type=Selfstate
trigger1 = time >= 75
value = 5050
;-------------------------------------------------------------------------------
[Statedef 8410]
type=A
movetype=I
physics=N
anim=9999

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S1,10
volume=9999

[State 0,EnvShake]
type=EnvShake
trigger1=!Time
time=40
Ampl=-10

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S3,2
volume=50

[State 0,Roca 1]
type=Helper
trigger1=!Time
helpertype=normal
name="Roca 1"
ID=8415
stateno=8415
pos=20,-10
postype=p1
ownpal=1
Size.Xscale=.3
Size.Yscale=.3

[State 0,Roca 2]
type=Helper
trigger1=!Time
helpertype=normal
name="Roca 2"
ID=8415
stateno=8416
pos=25,20
postype=p1
ownpal=1
Size.Xscale=.3
Size.Yscale=.3
Facing=-1

[State 0,Roca 3]
type=Helper
trigger1=!Time
helpertype=normal
name="Roca 3"
ID=8415
stateno=8417
pos=35,5
postype=p1
ownpal=1
Size.Xscale=.25
Size.Yscale=.25

[State 0,Tierra Pared]
type=Explod
trigger1=!Time
anim=4050
ID=4050
pos=-30,10
postype=p1
facing=-1
vfacing=1
bindtime=1
removetime=-2
scale=.4,.4
sprpriority=2
ontop=1
ownpal=1
supermovetime=9999
pausemovetime=9999
removeongethit=0
ignorehitpause=0
angle=90

[State 200,End]
type=Destroyself
trigger1=time>=75
;-------------------------------------------------------------------------------
[Statedef 8415]
type=A
movetype=I
physics=N
anim=8265
sprpriority=-1

[State 0,VarSet]
type=VarSet
trigger1=!Time
v=1
value=90

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=var(1)

[State 200,End]
type=ChangeState
trigger1=time>=75
value=8420
;-------------------------------------------------------------------------------
[Statedef 8416]
type=A
movetype=I
physics=N
anim=8265
sprpriority=-1

[State 0,VarSet]
type=VarSet
trigger1=!Time
v=1
value=-70

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=var(1)

[State 200,End]
type=ChangeState
trigger1=time>=75
value=8420
;-------------------------------------------------------------------------------
[Statedef 8417]
type=A
movetype=I
physics=N
anim=8265
sprpriority=4

[State 0,VarSet]
type=VarSet
trigger1=!Time
v=1
value=120

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=var(1)

[State 200,End]
type=ChangeState
trigger1=time>=75
value=8420
;-------------------------------------------------------------------------------
[Statedef 8420]
type=A
movetype=I
physics=N
anim=8266

[State 0,AngleDraw]
type=AngleDraw
trigger1=time>0
value=var(1)

[State 200,End]
type=Destroyself
trigger1=!AnimTime
;-------------------------------------------------------------------------------
; Normal Clash
;-------------------------------------------------------------------------------
; Normal Clash
[Statedef 50000]
type    = S
physics = N



[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = root,movetype = I 
movetype = I        
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = root,movetype = A
movetype = A       
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = root, anim
elem = root, animelemNo(0)
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1 

[State 0, ReversalDef]
type = ReversalDef
trigger1 = 1
reversal.attr = SCA,NA           ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,0
sparkno = -1
hitsound = S1,0
p1stateno = 50001
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateNo != [206,207]
trigger1 = root,stateNo != [200,650]
trigger1 = root,stateNo != [2200,2650]
trigger1 = root,stateNo != [7200,7650]
trigger1 = root,stateNo != [11200,11650]
trigger1 = root,stateNo != [13200,13650]
trigger1 = root,stateNo != [15200,15650]
trigger1 = root,stateNo != [17200,17650]
trigger1 = root,stateNo != [19200,19650]
trigger1 = root,stateNo != [23200,23650]
ignorehitpause = 1
;-------------------------------------------------------------------------------
; Normal Clash Activated
[Statedef 50001]
type    = S
physics = N

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = !time
anim = 7760
ID = 7760
postype = P1
pos = 20,-20
facing = -1
sprpriority = 5
supermove = 1
removetime = -2
scale = .25,.25
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = 99999

[State 0, Explod]
type = Explod
triggerall = numexplod(134441355513666) = 0
triggerall = numexplod(131111322213333) = 0
trigger1 = time = 2
anim = 9999
ID = 131111322213333
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
supermove = 999999
pausemove = 999999
supermovetime = 999999
pausemovetime = 999999
removetime = -1

[State 0, Explod]
type = Explod
triggerall = numexplod(131111322213333) = 1
triggerall = numexplod(134441355513666) = 0
trigger1 = time = 1
anim = 9999
ID = 134441355513666
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
supermove = 999999
pausemove = 999999
supermovetime = 999999
pausemovetime = 999999
removetime = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6004
volume = 100

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = 1
movetype = I        
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = root, anim
elem = root, animelemNo(0)
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1
ignorehitpause = 1 

[State 0, Pause]
type = Pause
trigger1 = !time
time = 20
ignorehitpause = 1

[State 0, Helper]
type = Helper
triggerall = numexplod(134441355513666) = 0
trigger1 = time = 0
helpertype = normal ;player
name = "clash on"
ID = 55000
stateno = 55000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
triggerall = numexplod(134441355513666) = 1
trigger1 = time = 0
helpertype = normal ;player
name = "clash on"
ID = 55001
stateno = 55000
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, BGPalFX]
type = BGPalFX
trigger1 = !time
time = 20
add = -128,-128,-128
mul = 256,256,256

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 5
ignorehitpause = 1
;-------------------------------------------------------------------------------
;Clash On
[Statedef 55000]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
;OFF
[Statedef 75250]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 200, End]
type = Destroyself
trigger1 = time = 20
;---------------------------------------------------------------------------
; Pos Clash 1
[Statedef 50050]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 910+var(11)
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = prevstateno = 50055
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeState]
type = ChangeState
triggerall = prevstateno != 50250
trigger1 = enemy,stateNo = 50250
value = 50250
ctrl = 0

[State 0, Explod]
type = Explod
triggerall = numexplod(134441355513666) = 0
triggerall = numexplod(131111322213333) = 0
trigger1 = time = 2
anim = 9999
ID = 131111322213333
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
supermove = 999999
pausemove = 999999
supermovetime = 999999
pausemovetime = 999999
removetime = -1

[State 0, Explod]
type = Explod
triggerall = numexplod(131111322213333) = 1
triggerall = numexplod(134441355513666) = 0
trigger1 = time = 1
anim = 9999
ID = 134441355513666
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
supermove = 999999
pausemove = 999999
supermovetime = 999999
pausemovetime = 999999
removetime = -1

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = 7022
ID = 1051
pos = 0,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
triggerall = numexplod(900) = 0
trigger1 = time = 0
anim = 900
ID = 900
pos = 20,-25
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .25,.25
vel = -0,0
sprpriority = 3
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,7
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -10
y = 0

[State 0, Speed FX]
type = Explod
trigger1 = Animelem = 1
anim = 580
ID = 001
pos = 25*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .45*Helper(999999),Fvar(16),.25*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-1

[State 200, 5]
type = ChangeState
trigger1 = Time = 25
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Pos Clash Air
[Statedef 50051]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 603+var(11)
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,7
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -3
y = -8

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x <-1

[State 200, 5]
type = ChangeState
trigger1 = Time = 25
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Pre Clash
[Statedef 50055]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 50055
trigger1 = enemy,numexplod(134441355513666) = 1
trigger1 = numexplod(134441355513666) = 1
value = 50250
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 50055
trigger1 = enemy,numexplod(134441355513666) = 0
trigger1 = numexplod(134441355513666) = 0
value = 50050
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 50250
value = 50250
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 50050
value = 50050
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50050
ctrl = 1
;-------------------------------------------------------------------------------
;Clash Rush Start
[Statedef 50250]
type = S
movetype = A
physics = S
sprpriority = 3
ctrl = 0
anim = 911+var(11)
poweradd = 0
velset = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 131111322213333

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 134441355513666

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 137771388813999

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno =! 50250
trigger1 = !time
value = 50250
ignorehitpause = 1
persistent = 1

[State 0, ChangeState] ;Anti BUG
type = ChangeState
trigger1 = enemy,stateno =! 50250
value = 0
ctrl = 1

[State 0, EnvShake]
type = EnvShake
triggerall = time > 0
trigger1 = time%5 = 0
time = 4
ampl = -6

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Roto]
type = Explod
trigger1 = time = 0
anim = 7041
ID = 7040
pos = -0*Helper(999999),Fvar(16),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .75*Helper(999999),Fvar(16),.75*Helper(999999),Fvar(16)
sprpriority = -3
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 5,0
value = S5,4
volume = 40
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 15,0
value = S5,2
volume = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S1,6030
volume = 50

[State 0, Hit Spark]
type = Explod
trigger1 = timemod = 2,0
anim = 7010
ID = 6001
postype = P1
pos = 20+random%1,30-random%-50
facing = -1
sprpriority = 3
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
persistent = 3
ontop = -1
removeongethit = 1
supermovetime = 9999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
ignorehitpause = 1

[State 0, Speed FX]
type = Explod
persistent = 2
trigger1 = 1
anim = 580
id = 1552
pos = 30-random%-20,-5-random%35
postype = p1
facing = 1
vfacing = 1
vel = -2,0
bindtime = -1
removetime = -2
scale = .15,.15
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
pausemovetime = 99999

[State 0, VarAdd]
type = VarAdd
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/12
v =  25   
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 25
value = 0

[State 0, EnvShake]
type = EnvShake
triggerall = time > 0
trigger1 = time%5 = 0
time = 4
ampl = -2

[State 0, Posadd]
type = Posadd
trigger1 = time = 0
x = p2bodydist x -15

[State 0, VelSet]
type = VelSet
trigger1 = var(25) > enemy,var(25)
x = 1

[State 0, VelSet]
type = VelSet
trigger1 = var(25) < enemy,var(25)
x = -1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
trigger1 = var(25) > enemy,var(25)
value = 50251
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
trigger1 = var(25) < enemy,var(25)
value = 8400
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
trigger1 = var(25) = enemy,var(25)
value = 50050
ctrl = 0
;-------------------------------------------------------------------------------
;Clash Rush End
[Statedef 50251]
type = S
movetype = A
physics = S
sprpriority = 3
ctrl = 0
anim = 912+var(11)
poweradd = 0
velset = 0,0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 6001
ignorehitpause = 1
persistent = 1

[State 0, Pause]
type = Pause
trigger1 = !time
time = 20
movetime = 20

[State 0, BGPalFX]
type = BGPalFX
trigger1 = !time
time = 20
add = -128,-128,-128
mul = 256,256,256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,6004
volume = 100

[State 200, Spark CVS]
type = Explod
trigger1 = !time
anim = 7760
ID = 7760
postype = P1
pos = 20,-20
facing = -1
sprpriority = 5
supermove = 1
removetime = -2
scale = .25,.25
removeongethit = 1
ontop = 0
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = 99999

[State 0, Explod]
type = Explod
triggerall = var(2) = 6
trigger1 = time = 11
anim = 9101
ID = 9100
pos = 13,-27
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .4,.4
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 35

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;Clash Energy
[Statedef 859751575]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 200, End]
type = Destroyself
trigger1 = root,stateno = 0

[State 200, End]
type = Destroyself
trigger1 = root,numhelper(75250) = 1
;-------------------------------------------------------------------------------
;Boost Clash Helper End
[Statedef 15000001]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "clash on"
ID = 15000002
stateno = 15000002
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
;Boost Clash Helper Start
[Statedef 15000000]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 15000000

[State 200, 1]
type = HitDef
trigger1 = movecontact
attr = S, NA
damage = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15000001
time = 999999999
ignorehitpause = 0

[State 200, End]
type = Destroyself
trigger1 = time = 60
;-------------------------------------------------------------------------------
;Boost Clash Helper End
[Statedef 15000001]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "clash on"
ID = 15000002
stateno = 15000002
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
;Clash On
[Statedef 15000002]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999

[State 200, End]
type = Destroyself
trigger1 = time = 90
;-------------------------------------------------------------------------------
; Helper Scalce
[Statedef 999999]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = 1
Fv = 16
value = 1

[State 200, End]
type = Destroyself
trigger1 = time = -1

