;------------------------------SUPER--------------------------------------------
; Sonic Tornado
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -3000
ctrl = 0
velset = 0,0
anim = 3000

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 300
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [107,300]
trigger1 = timemod = 7,0
helpertype = normal
name = "Sonic Tornado Helper"
ID = 3005
stateno = 3005
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 3010
stateno = 3010
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .9*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = time = 300
value = 3001
;-------------------------------------------------------------------------
; Sonic Tornado End
[Statedef 3001]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 3001

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;Sonic Tornado Helper
[Statedef 3005]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 3005
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 40
;-------------------------------------------------------------------------
;Sonic Tornado Helper
[Statedef 3010]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 3010
sprpriority = 3

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 0,5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 3000-time*15,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1206
volume = 100

[State 200, 1]
type = HitDef
trigger1 = timemod = 10,0
attr = S, SP
animtype  = Medium
damage = 20
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound = S1,1209
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-4
air.velocity = 0,-4
Fall = 1
Fall.recover = 0
Sprpriority = 3

[State 0, Slash Spark New]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Slash Spark New"
ID = 276
stateno = 276
pos = -10,5
postype = p2
facing = -1
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = 5

[State 0, Run Fwd FX]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 10,0
anim = 7022
ID = 7020
pos = 3,3
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Run Fwd FX]
type = Explod
triggerall = time >= 0
trigger1 = timemod = 10,0
anim = 7022
ID = 7020
pos = -5*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 8
ampl = -5

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 210
trigger2 = root,stateno != 3000
;------------------------------SUPER--------------------------------------------
; Super Sonic Speed Attack 1
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3100

[State 0, FX]
type = Explod
trigger1 = time = 100
anim = 25310
ID = 25310
pos = 12*Helper(999999),Fvar(16),-22*Helper(999999),Fvar(16)
postype = p1
scale = .60*Helper(999999),Fvar(16),.40*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
bindtime = -1

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 600
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = movecontact = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,5
facing = -1
sprpriority = 2
removetime = -2
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 105
x = 10

[State 0, PosSet]
type = PosAdd
trigger1 = time = 104
x = p2bodydist x -20

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,265
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 110
movetime = 110
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 100||time = 105
anim = 107
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 100
anim = 108
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 4055
ID = 4055
pos = -25,-5
postype = p1 
facing = -1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 9999
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = animelem = 5
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 20,0
pausetime = 10,75
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-1
air.velocity = -4,-1
fall.recover = 0
Envshake.time = 15
kill = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 200, End]
type = ChangeState
trigger1 = movecontact && time = 152
value = 3101
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------------------------
; Super Sonic Speed Attack 2
[Statedef 3101]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3101

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = movecontact = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
removetime = -2
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
triggerall = time = [0,90]
trigger1 = timemod = 2,0
x = 1

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 3,0
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Light          
damage = 2,0
pausetime = 2,20
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-1
air.velocity = -0,-1
fall.recover = 0
kill = 0

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 81
value = 3102

[State 200, End]
type = ChangeState
trigger1 = time = 90
value = 0
ctrl = 1
;------------------------------------------------------------------------------------------------
; Super Sonic Speed Attack 3
[Statedef 3102]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3102

[State 0, Explod]
type = Explod
trigger1 = time <= 0
trigger2 = timemod = 6,0
anim = 900
ID = 900
pos = -5,-25
postype = p1  ;p2,front,back,left,right
vel = -9,-5+random%10
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = movecontact = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
removetime = -2
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
triggerall = time = [0,90]
trigger1 = timemod = 2,0
x = 1

[State 0, HitDef]
type = HitDef
trigger1 = timemod = 1,0
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Light          
damage = 1,0
pausetime = 0,20
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-1
air.velocity = -0,-1
fall.recover = 0
kill = 0

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 98
value = 3103

[State 200, End]
type = ChangeState
trigger1 = time = 108
value = 0
ctrl = 1
;------------------------------------------------------------------------------------------------
; Super Sonic Speed Attack 3
[Statedef 3103]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3103

[State 0, Explod]
type = Explod
trigger1 = time <= 70
trigger2 = timemod = 4,0
anim = 900
ID = 900
pos = -5,-25
postype = p1  ;p2,front,back,left,right
vel = -15,-5+random%10
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9071
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 1

[State 0, HitDef]
type = HitDef
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Light          
damage = 1,0
pausetime = 0,20
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-1
air.velocity = -0,-1
fall.recover = 0
kill = 0

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 90
value = 3104

[State 200, End]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Speed Attack 4
[Statedef 3104]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3104
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 8,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-10
air.velocity = -2,-10
fall.recover = 0
fall = 1
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 18
value = 3105

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Speed Attack 5
[Statedef 3105]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3105
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, HP
animtype  = Heavy
damage = 4
Hitflag = MAFDE
guardflag = MA
pausetime = 0,70
sparkno = -1
guard.sparkno = s6030
sparkxy = -4,2
hitsound = S1,1405
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 1
Fall.recover = 0
Envshake.time = 20
kill = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Hit Spark"
ID = 275
stateno = 275
pos = -15+random%50,10-random%15
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 107
ID = 107
pos = -2,-10
postype = p1 
facing = 1
angle = -45
vfacing = 1
bindtime = 1
vel = 5,-5
removetime = -2
pausemovetime = 999
scale = .5,.5
sprpriority =3
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x - 0
y = p2bodydist y - 0

[State 0, Teleport]
type = Helper
trigger1 = time > 10
triggerall = timemod = 6,0
helpertype = normal
name = "Teleport"
ID = 58122
stateno = 3154+(RANDOM%6)
pos = -0,-25
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = time = 110
value = 3106
ctrl = 1
;---------------------------------------------------------------------------
; Super Sonic Speed Attack 5
[Statedef 3106]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3106
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,17
volume = 100

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x -150

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sonic Wave Helper"
ID = 3130
stateno = 3130
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45*Helper(999999),Fvar(16)
size.yscale = .45*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sonic Wave Helper"
ID = 3131
stateno = 3131
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45*Helper(999999),Fvar(16)
size.yscale = .45*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Shadow FX]
type = Explod
triggerall = numhelper(3150) = 1
Trigger1 = TimeMod = 3,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-5-Random%35)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 0, Helper]
type = Helper
trigger1 = time = 50
helpertype = normal ;player
name = "Wave"
ID = 3150
stateno = 3150
pos = 20,-18
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = .6
size.yscale = 2

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 71430
ID = 71430
pos = 90*Helper(999999),Fvar(16),-15*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 9
scale = .6,.6
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 59
anim = 71431
ID = 71431
pos = 90*Helper(999999),Fvar(16),-15*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6,.6
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = time = 85
value = 612
ctrl = 1
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 3130]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 25430
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = [5,120]
pos = -17,-22

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 3106
trigger2 = root,movetype = H
trigger3 = root,time = 63
channel = 3

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 55
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 3106
trigger2 = root,movetype = H
trigger3 = root,time = 50
trigger4 = numhelper(3150) = 1
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 3131]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 28436
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = [5,120]
pos = -17,-22

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 3106
trigger2 = root,movetype = H
trigger3 = root,time = 63
channel = 3

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 55
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 3106
trigger2 = root,movetype = H
trigger3 = root,time = 50
trigger4 = numhelper(3150) = 1
;-------------------------------------------------------------------------------
;Wave Helper
[Statedef 3150]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3150
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 20,-18
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1
persistent = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 2

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 200, 1]
type = HitDef
triggerall = timemod = 5,0
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 18,10
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-0
air.velocity = -8,-0
Envshake.time = 20
Sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,72

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
triggerall = movehit
trigger1 = time > 25
value = 7000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;---------------------------------------------------------------------------
; FXS
[Statedef 3154]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 40
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS
[Statedef 3155]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -78
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS
[Statedef 3157]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 200
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; FXS
[Statedef 3160]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 20
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS
[Statedef 3159]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS
[Statedef 3158]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -200
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS
[Statedef 3156]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 21404
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------
[Statedef 3200]
type=S
physics=S
movetype=A
ctrl=0
anim=3200
velset=0,0
juggle=3
poweradd=-3000
facep2=1

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 290
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

;---------------------
[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999






[State 33, Explod]
type = Explod
trigger1 = Animelem = 3
anim = 7022
ID = 7022
pos = -10,0
supermovetime = -1
removeongethit = 1
bindtime = -1
removetime = 15
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  time=0
value = S1090,3
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 1
value = S1090,8
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 3
value = S100,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 =  AnimElem = 3
value = S100,0

[State 4101, Helper]
type = Helper
trigger1 =   AnimElem = 4
helpertype = normal
name = "Final Dash Attack"
ID =     3201
stateno =  3201
postype = left
pos = -80,-260
facing = 1
keyctrl = 0
ownpal = 0
sprpriority = 10
size.xscale = .75
size.yscale = .75

[State 4101, Helper]
type = Helper
trigger1 =   AnimElem = 5
helpertype = normal
name = "Final Attack"
ID =     3202
stateno =  3202
postype = left
pos = 150, (p2bodydist y - 50)
facing = 1
keyctrl = 0
ownpal = 0
sprpriority = 10

[State 4101, Helper]
type = Helper
trigger1 =   AnimElem = 5
helpertype = normal
name = "Final Attack Effect"
ID =     3203
stateno =  3203
postype = left
pos = (p2bodydist x - -100), (p2bodydist y - -30)
facing = 1
keyctrl = 0
ownpal = 0
sprpriority = 10

[State 0, PosSet]
type = PosAdd
trigger1 = AnimElem = 6
x = 300

[State 0, VelAdd]
type = VelSet
trigger1 = AnimElem = 6
x = 24

[State 0, VelAdd]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 4200, end]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------

[Statedef 3201]
type=S
physics=s
movetype=a
ctrl=0
anim=14201
sprpriority = 10

[State 4201, 1]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 9
trigger6 = AnimElem = 10
trigger7 = AnimElem = 13
trigger8 = AnimElem = 14
trigger9 = AnimElem = 17
trigger10 = AnimElem = 18
trigger11 = AnimElem = 21
trigger12 = AnimElem = 22
trigger13 = AnimElem = 25
trigger14 = AnimElem = 26
trigger15 = AnimElem = 29
trigger16 = AnimElem = 30
trigger17 = AnimElem = 33
trigger18 = AnimElem = 34
trigger19 = AnimElem = 37
trigger20 = AnimElem = 38
trigger21 = AnimElem = 41
trigger22 = AnimElem = 42
trigger23 = AnimElem = 45
trigger24 = AnimElem = 46
trigger25 = AnimElem = 49
trigger26 = AnimElem = 50
trigger27 = AnimElem = 53
trigger28 = AnimElem = 54
trigger29 = AnimElem = 57
trigger30 = AnimElem = 58
trigger31 = AnimElem = 61
trigger32 = AnimElem = 62
attr = S, HP
animtype  = Hard
damage    = 5
guardflag = MA
pausetime = 0,50
sparkno = -1
guard.sparkno = s60900
sparkxy = -8,-25
hitsound   = S181,21
guardsound = S20, 6
ground.type = Low
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
NUMHITS = 1
kill=0
envshake.time=5
envshake.freq=45
envshake.ampl=7

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 7001
postype = P2
pos = 0,-10
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
trans = sub

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 9
trigger3 = AnimElem = 17
trigger4 = AnimElem = 25
trigger5 = AnimElem = 33
trigger6 = AnimElem = 41
trigger7 = AnimElem = 49
trigger8 = AnimElem = 57
value = 1,6008
volumescale = 70
channel = 10
loop = 0
pan = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;------------------------------------------------------------------

[Statedef 3202]
type=S
physics=s
movetype=a
ctrl=0
anim=14202
sprpriority = 10

[State 4202, 1]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0, EnvShake]
type = EnvShake
trigger1 = AnimElem = 1
time = 30
freq = 160
ampl = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,6006
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,6007
channel = -1
freqmul = 1.0
loop = 0
pan = 0

[State 4202, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = S, HP
animtype  = Hard
damage    = 200
hitflag = MAFDP
guardflag = 
pausetime = 0,18
guard.pausetime = 0,25
sparkno = s7750
hitsound = S181, 23
guardsound = S20, 6
ground.type = Low
air.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -12,-8
air.velocity = -11,-10
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
kill = 1
fall = 1
fall.recover = 0
fall.yvelocity = -.2
NUMHITS = 2
palfx.time = 80
palfx.add = -100,-100,-100
palfx.mul = 150,150,150
palfx.sinadd = -50,-50,-50,10
palfx.color = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[state 4202, 0]
type = Afterimage
trigger1 = 1
time = -1
length = 25
PalBright = 0, 0, 0
PalContrast =50, 50, 50
PalAdd = 0,0,0
PalMul = 0.9,0.9,0.9
framegap=10
Trans = sub

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;----------------------------------------------------------------------

[Statedef 3203]
type=S
physics=s
movetype=a
ctrl=0
anim=14203
sprpriority = 10

[State 4202, 1]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;------------------------------------------------------------------
[Statedef 3300]
type =     A
movetype = A 
physics =  N
juggle = 2
velset = 0,0
ctrl = 0
anim = 3300
poweradd = -3000
sprpriority = 2

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 200
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0,VelSet]
type=VelSet
triggerall=time<25
trigger1=pos y>=0
y=-2

[State 0,VelSet]
type=VelSet
trigger1=time>=25
y=0

[State 0,ScreenBound]
type=ScreenBound
trigger1=time>=100
value=0

[State 3000,SuperPause]
type=SuperPause
trigger1=!Time
time=100
movetime=100
anim=-1
sound=-1
pos=32,-80
darken=0
unhittable=1

[State 3000,VarSet]
type=Varset
trigger1=!Time
v=12
value=-100

[State 3000,VarSet]
type=Varset
trigger1=time=85
v=12
value=0

[State 3000,VarAdd]
type=VarAdd
trigger1=time>=75&&Var(12)<0
v=12
value=6

[State 3000,BGColorFX]
type=BGPalFX
trigger1=Time>0
time=1
add=Var(12),Var(12),Var(12)

[State 0,Planet Burst Charge]
type=Helper
trigger1=time=50
helpertype=normal
name="Planet Burst Charge"
ID=3350
stateno=3350
pos=0,0
postype=p1
facing=1
keyctrl=0
ownpal=1
size.xscale=.0215
size.yscale=.0215
supermovetime=999

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animtime = 0
value = 3301

[State 0, VelSet]
type = VelSet
trigger1=numhelper(3350) = 1
trigger1=numhelper(3355) = 1
trigger1=numhelper(3365) = 1
trigger1=numhelper(3360) = 1
trigger1=numhelper(3370) = 1
trigger1=numhelper(3371) = 1
trigger1=time > 100
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1=numhelper(3350) = 0
trigger1=numhelper(3355) = 0
trigger1=numhelper(3365) = 0
trigger1=numhelper(3360) = 0
trigger1=numhelper(3370) = 0
trigger1=numhelper(3371) = 0
trigger1=time > 100
x = 0
y = .5

[State 0, ChangeState]
type = ChangeState
trigger1=time > 100
trigger1 = pos y >= 0
value = 0
ctrl = 1
;------------------------------------------------------------------
[Statedef 3020]
type=S
movetype=I
physics=S
juggle=1
velset=0,0
ctrl=0
sprpriority=3

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow

[State 0,Trans]
type=Trans
trigger1=1
trans=Sub

[State 0,BindToPARENT]
type=BindToPARENT
trigger1=1
pos=2,10

[State 0,ChangeAnim]
type=ChangeAnim
trigger1=!Time
value=ifelse(random<500,3020,3021)

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=random%360

[State 0,Trans]
type=Trans
trigger1=1
trans=Sub

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 0,Trans]
type=Trans
trigger1=1
trans=Sub

[State 200,End]
type=Destroyself
trigger1=parent,stateno!=3350
trigger2=root,movetype=H
trigger3=!AnimTime
;------------------------------------------------------------------
[Statedef 3021]
type=S
movetype=I
physics=S
juggle=1
velset=0,0
ctrl=0
anim=3022
sprpriority=-1

[State 0,Trans]
type=Trans
trigger1=1
trans=Sub

[State 0,BindToPARENT]
type=BindToPARENT
trigger1=1
pos=2,4

[State 0,VarAdd]
type=VarAdd
trigger1=time<30
Fv=1
value=.15

[State 0,AngleDraw]
type=AngleDraw
trigger1=time>30
scale=1+Fvar(1),1+Fvar(1)

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
value=-1+time*03

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow
ignorehitpause=1

[State 200,End]
type=Destroyself
trigger1=time>=90
;------------------------------------------------------------------
[Statedef 3350]
type=A
movetype=I
physics=N
anim=3050
sprpriority=3

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S5,46
volume=999

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S5,46
volume=999

[State 0,PlaySnd]
type=PlaySnd
trigger1=time=90
value=S5,50
volume=999

[State 0,PlaySnd]
type=PlaySnd
trigger1=time=90
value=S5,50
volume=999

[State 0,Charge FX]
type=Helper
triggerall=time=[0,30]
trigger1=timemod=10,0
helpertype=normal
name="Hondas - Charge FX"
ID=3020
stateno=3020
pos=0,0
postype=p1
facing=1
keyctrl=0
ownpal=1
Size.xscale=.3
size.yscale=.3
Supermovetime=999

[State 0,Planet Burst Charge]
type=Helper
trigger1=!Time
helpertype=normal
name="Planet Burst Charge"
ID=3020
stateno=3021
pos=0,0
postype=p1
facing=1
keyctrl=0
ownpal=1
Size.xscale=.15
size.yscale=.15
supermovetime=999

[State 0,Planet Burst Charge]
type=Helper
trigger1=!Time
helpertype=normal
name="Planet Burst Charge"
ID=3050
stateno=3355
pos=0,0
postype=p1
facing=1
keyctrl=0
ownpal=1
supermovetime=999

[State 0,Rayos]
type=Explod
triggerall=time>=0
trigger1=timemod=20,0
anim=3030
ID=3030
pos = -50+random%50,-50+random%50
postype=p1
facing=ifelse(random<500,1,-1)
vfacing=ifelse(random<500,1,-1)
bindtime=-1
removetime=-2
scale=.7,.7
sprpriority=5
ontop=1
ownpal=1
removeongethit=0
supermove=999
supermovetime=999
pausemove=999
pausemovetime=999

[State 0,BindToRoot]
type=BindToRoot
trigger1=time=[0,90]
pos=0,-155

[State 0,VelSet]
type=VelAdd
trigger1=time>90
x=.25
y=.25

[State 0,EnvShake]
type=EnvShake
trigger1=timemod=20,0
time=20
Ampl=-4

[State 0,VarAdd]
type=VarAdd
trigger1=time<30
Fv=1
value=.5

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
scale=1+Fvar(1),1+Fvar(1)
ignorehitpause=1

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=Noshadow
ignorehitpause=1

[State 0,StateTypeSet]
type=StateTypeSet
trigger1=time=90
statetype=A
movetype=A
physics=N

[State 200,1]
type=HitDef
triggerall=timemod=3,0
trigger1=1
attr=A,ST
Hitflag=MAFDE
animtype=Heavy
damage=10
guardflag=MA
pausetime=2,2
sparkno=-1
guard.sparkno=-1
sparkxy=-8,-25
hitsound=-1
guardsound=-1
ground.type=High
ground.slidetime=12
ground.hittime=15
ground.velocity=-.2,0
air.velocity=-.2,2
numhits=3
Fall=0
Getpower=0,0
sprpriority=3
Kill=0

[State 0,TargetBind]
type=TargetBind
trigger1=movehit=1
pos=60,60

[State 0,DestroySelf]
type=DestroySelf
trigger1=root,stateno!=3300

[State 200,End]
type=ChangeState
trigger1=time>=90&&pos y>-10
value=3356
;------------------------------------------------------------------
[Statedef 3355]
type=A
movetype=A
physics=N
anim=3050
sprpriority=0

[State 0,BindToRoot]
type=BindToParent
trigger1=1
pos=0,0

[State 0,PalFX]
type=PalFX
trigger1=1
time=9999999999
color=0

[State 0,VarAdd]
type=VarAdd
trigger1=time<30
Fv=1
value=.5

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
scale=1+Fvar(1),1+Fvar(1)

[State 0,Trans]
type=Trans
trigger1=1
trans=Sub

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=Noshadow

[State 200,End]
type=Destroyself
trigger1=parent,stateno!=3350
trigger2=parent,stateno=3356
;------------------------------------------------------------------
[Statedef 3356]
type=S
movetype=I
physics=S
juggle=1
velset=0,0
ctrl=0
sprpriority=3

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S5,45
volumescale=120

[State 0,Explosion]
type=Explod
triggerall=Numexplod(9022)=0
trigger1=!Time
anim=9023
ID=9022
pos=0,0
postype=left
facing=1
vfacing=1
bindtime=-1
removetime=-2
scale=999,999
sprpriority=9
ontop=1
ownpal=1
removeongethit=0
ignorehitpause=1
supermove=99999
pausemove=99999
supermovetime=99999
pausemovetime=99999

[State 0,Explosion]
type=Helper
trigger1=!Time
helpertype=normal
name="Explosion"
ID=3360
stateno=3360
pos=10,0
postype=p1
facing=1
keyctrl=0
ownpal=1
size.xscale=3
size.yscale=3

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=invisible

[State 200,End]
type=Destroyself
trigger1=time=1
;------------------------------------------------------------------
[Statedef 3360]
type=S
movetype=A
physics=N
juggle=2
velset=0,0
ctrl=0
anim=3060
sprpriority=3

[State 0,Rocas]
type=Helper
trigger1=timemod=60,0
helpertype=normal
name="Rocas"
ID=3070
stateno=3070
pos=160,-65
postype=left
facing=1
keyctrl=0
ownpal=1
size.xscale=.2
size.yscale=.2
supermovetime=99999
pausemovetime=99999

[State 0,Rocas]
type=Helper
trigger1=timemod=60,0
helpertype=normal
name="Rocas"
ID=3071
stateno=3071
pos=160,-65
postype=left
facing=1
keyctrl=0
ownpal=1
size.xscale=.2
size.yscale=.2
supermovetime=99999
pausemovetime=99999

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S5,47
volume=999

[State 0,PlaySnd]
type=PlaySnd
trigger1=!Time
value=S5,47
volume=999

[State 0,PosSet]
type=PosSet
trigger1=!Time
y=20

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
scale=.1+time*.0025,.1+time*.0025

[State 0,Trans]
type=Trans
trigger1=1
trans=add

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=Noshadow
flag2=unguardable

[State 200,1]
type=HitDef
triggerall=timemod=8,0
trigger1=1
attr=A,ST
animtype=heavy
damage=15
Hitflag=MAFDE
guardflag=MA
pausetime=0,8
sparkno=-1
guard.sparkno=-1
sparkxy=-15,0
hitsound=-1
guardsound=-1
ground.type=High
ground.slidetime=12
ground.hittime=15
ground.velocity=0,-.5
air.velocity=0,-.5
Fall=0
fall.recover=0
numhits=8
getpower=0,0
sprpriority=3

[State 0,EnvShake]
type=EnvShake
trigger1=timemod=20,0
time=20
Ampl=-5

[State 200,End]
type=ChangeState
trigger1=time=170
value=3365
;------------------------------------------------------------------
[Statedef 3365]
type=A
movetype=A
physics=N
juggle=1
velset=0,0
ctrl=0
sprpriority=100

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=invisible

[State 0,Explosion]
type=Explod
triggerall=numhelper(9025)=0
trigger1=!Time
anim=9025
ID=9025
pos=0,0
postype=left
facing=1
vfacing=1
bindtime=-1
removetime=-2
scale=999,999
sprpriority=9
ontop=1
ownpal=1
removeongethit=0
ignorehitpause=1

[State 0,VarAdd]
type=VarAdd
trigger1=1
fv=1
value=3

[State 0,AngleDraw]
type=AngleDraw
trigger1=time>0
scale=1+fvar(1),1+fvar(1)

[State 0,FX]
type=Explod
trigger1=movehit = 1
anim=9011
ID=9011
Pos=20,4
postype=p2
Scale=1.5,.25
sprpriority=-9
ontop=0
ownpal=1

[State 0, Explod]
Type = Explod
trigger1 =movehit = 1
Anim = 1524
ID = 1524
Pos = -0,-40
postype = P2
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = Add
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = movehit = 1
Anim = 1524
ID = 1524
Pos = -0,-40
postype = P2
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0,StateTypeSet]
type=StateTypeSet
trigger1=time=10
statetype=A
movetype=I
physics=N

[State 0,EnvShake]
type=EnvShake
trigger1=!Time
time=30
Ampl=-20

[State 0,VarSet]
type=VarSet
trigger1=!Time
v=2
value=0

[State 0,VarSet]
type=VarAdd
trigger1=time>35
v=2
value=0000000000000005

[State 0,Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=300-var(2),256
ignorehitpause=1

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=Noshadow
flag2=unguardable

[State 200,1]
type=HitDef
trigger1=!movecontact
attr=A,HP
animtype=Heavy
damage=25
Hitflag=MAFDE
guardflag=MA
pausetime=0,10
sparkno=-1
guard.sparkno=-1
sparkxy=-8,-25
hitsound=-1
guardsound=-1
ground.type=High
ground.slidetime=12
ground.hittime=15
ground.velocity=-1
air.velocity=-1
numhits=6
Fall=1
fall.recover=0
Getpower=0,0
ID=88
sprpriority=3

[State 200,End]
type=Destroyself
trigger1=var(2)>=256
;------------------------------SUPER--------------------------------------------
; Ultra Sonic Ultimate Combo 1
[Statedef 3400]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3400

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 650
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = movecontact = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,5
facing = -1
sprpriority = 2
removetime = -2
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 155
x = 10

[State 0, PosSet]
type = PosAdd
trigger1 = time = 150
x = p2bodydist x -20

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,54
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,54
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,54
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,54
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,54
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,265
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 150
movetime = 150
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 150||time = 155
anim = 106
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 150
anim = 116
ID = 110
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, Explod]
type = Explod
trigger1 = time = 150
anim = 4055
ID = 4055
pos = -25,-5
postype = p1 
facing = -1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 9999
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 20,0
pausetime = 10,75
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-0
air.velocity = -0,-0
fall.recover = 0
Envshake.time = 15
kill = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3401
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 2
[Statedef 3401]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3401
poweradd = -2000
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13

[State 0, Turn]
type = Turn
trigger1 = animelem = 8

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3402
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 3
[Statedef 3402]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3402
poweradd = 0
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13

[State 0, Turn]
type = Turn
trigger1 = animelem = 8

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3403
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 4
[Statedef 3403]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3403
poweradd = 0
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13

[State 0, Turn]
type = Turn
trigger1 = animelem = 8

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3404
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 5
[Statedef 3404]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3404
poweradd = 0
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 13

[State 0, Turn]
type = Turn
trigger1 = animelem = 8

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,5
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S5,10
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -12,0
air.velocity = -12,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3405
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;------------------------------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 6
[Statedef 3405]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3405

[State 0, Hit Spark]
type = Helper
trigger1 = movecontact
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0*Helper(999999),Fvar(16)+random%30*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)-random%1*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999
persistent = 3 

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 3
anim = 106
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x -10

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9071
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = -10+random%-20,10-random%-20
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 1

[State 0, HitDef]
type = HitDef
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Light          
damage = 1,0
pausetime = 0,20
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-1
air.velocity = -0,-1
kill = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 5
ampl = -15

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 90
value = 3406

[State 200, End]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 7
[Statedef 3406]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3406
poweradd = 0
sprpriority = 2

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,0
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -19,0
air.velocity = -19,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3407
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Ultra Sonic Ultimate Combo 8
[Statedef 3407]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3407
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S5,22
volume = 50
[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 32||time = 35
anim = 106
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 34
x = p2bodydist x -10

[State 0, Explod]
type = Explod
triggerall = time > 40 && numhelper(3450) > 0
Trigger1 = TimeMod = 6,0
anim = 3005
ID = 3005
pos = 50,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 60
scale = .6,.6
sprpriority = 2
vel = 10,-10
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = -40

[State 0, Explod]
type = Explod
trigger1 = time = 40
anim = 71430
ID = 71430
pos = 75*Helper(999999),Fvar(16),-70*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 230
scale = .45*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 40

[State 0, Explod]
type = Explod
trigger1 = time = 270
anim = 71431
ID = 71431
pos = 75*Helper(999999),Fvar(16),-70*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .45*Helper(999999),Fvar(16),.45*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 8
value = S5,17
volume = 50
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S180,9
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 40
movetime = 40
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 12
helpertype = normal
name = "Sonic Wave Helper"
ID = 3410
stateno = 3410
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4*Helper(999999),Fvar(16)
size.yscale = .4*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 40
helpertype = normal
name = "Sonic Wave Helper"
ID = 3450
stateno = 3450
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 0, Shadow FX]
type = Explod
triggerall = time > 40 && numhelper(3450) > 0
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (-10-Random%-20)*Helper(999999),Fvar(16),(5-Random%25)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = -50
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Fumaa leve atras]
type = Explod
triggerall = numexplod(7021) = 0
triggerall = time = [60,271]
trigger1 = timemod = 1,0 
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 3410]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 25430
sprpriority = 4

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7051
ID = 7051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 40
scale = .15,.15
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, BindToRoot]
type = BindToRoot
trigger1 = time = [0,40]
pos = -5,-14

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1.5,1.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 3407
trigger2 = root,movetype = H
trigger3 = root,time = 60
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 3407
trigger2 = root,movetype = H
trigger3 = root,time = 60
trigger4 = numhelper(3450) = 1
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 3450]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3450
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 10*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = A, SP
animtype  = Heavy
damage    = 1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-4
air.velocity = -5,-4
Fall = 1
fall.recover = 0
Getpower = 0,0
sprpriority = 3
envshake.time = 100

[State 200, Final Flash - Hit]
type = Explod
trigger1 = Movehit = 1
anim = 71460
ID = 71460
postype = P2
pos = 20,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .35*Helper(999999),Fvar(16),.35*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 3407

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 3455
;-------------------------------------------------------------------------------
; Big Bang Attack - Fin
[Statedef 3455]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 30,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Particles]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Particles"
ID = 3460
stateno = 3460
pos = 0,0
postype = p1
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 25460
ID = 25460
pos = 0*Helper(999999),Fvar(16),0*Helper(999999),Fvar(16)
postype = p2
scale = 2*Helper(999999),Fvar(16),2*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 200, End]
type = Destroyself
trigger1 = time = 1
;-------------------------------------------------------------------------------
; Particles
[Statedef 3460]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 25*Helper(999999),Fvar(16),-0*Helper(999999),Fvar(16)

[State 0, Blue Particles]
Type = Explod
trigger1 = (GameTime%1) = 0
Anim = 3455
ID = 567 * cond(authorname="Salah",var(var(45)):=1,1)
Pos = (Random%200*Helper(999999),Fvar(16))*IfElse(Random < 500,-1,1),-25+(Random%175*Helper(999999),Fvar(16))*IfElse(Random < 500,-1,1)
PosType = P2
Vel = Random%100*IfElse(Random <= 500,0.01*(Random%2),0.01*(Random%2)), 0.5
Accel = 0.00,0.1
Scale = 0.125*Helper(999999),Fvar(16), -0.125*Helper(999999),Fvar(16)
OnTop = IfElse(Random <= 500,0,1)
OwnPal = 1
IgnoreHitPause = 1
SuperMoveTime = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = Time = 750
;------------------------------SUPER--------------------------------------------
;DarkSpine Fire wave Combo 1
[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3500

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 800
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 71556
ID = 71556
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 100
x = 25

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,265
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 4055
ID = 4055
pos = -25,-5
postype = p1 
facing = -1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 9999
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 20,0
pausetime = 10,75
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,-0
air.velocity = -0,-0
fall.recover = 0
Envshake.time = 15
kill = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3501
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 2
[Statedef 3501]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3501
poweradd = -2000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = timemod = 2,0
x = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 3||animelem = 5
attr = S, NA
damage = 1
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6000
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movecontact && time = 75
value = 3502
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = Time = 80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 3
[Statedef 3502]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3502
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time <= 0
trigger2 = timemod = 4,0
anim = 900
ID = 900
pos = -5,-25
postype = p1  ;p2,front,back,left,right
vel = -9,-5+random%10
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
attr = S, NA
damage = 1
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6000
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movecontact && time = 100
value = 3503
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = Time = 110
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 4
[Statedef 3503]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3503
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 20
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-8
kill = 0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3504
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 5
[Statedef 3504]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3504
poweradd = 0
sprpriority = 2

[State 0, Teleport]
type = Helper
trigger1 = time = 5||time = 6
helpertype = normal
name = "Teleport"
ID = 580
stateno = 580
pos = 0,-30*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 6
x = p2bodydist x
y = p2bodydist y -10

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6000
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2,-0
kill = 0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 3505
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 6
[Statedef 3505]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3505
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time <= 0
trigger2 = timemod = 6,0
anim = 900
ID = 900
pos = -5,-25
postype = p1  ;p2,front,back,left,right
vel = -9,-5+random%10
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
trigger1 = animelem = 2||animelem = 4||animelem = 7||animelem = 10||animelem = 15||animelem = 18||animelem = 22||animelem = 25
attr = S, NA
damage = 1
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 0,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6000
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 100
value = 3506
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = Time = 110
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 7
[Statedef 3506]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3506
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall = !movecontact
trigger1 = 1
x = 4

[State 0, VelSet]
type = VelSet
triggerall = movecontact
trigger1 = 1
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 9073
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
Removetime = -1
vel = 0,0
accel = 0,0
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = time > 5
trigger1 = timemod = 4,0
attr = S, NA
animtype  = Light
damage    = 1
guardflag = MA
pausetime =ifelse(var(2) = 3,1,2),10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -0,-1
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [30,75]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Fire FX]
type = Explod
trigger1 = time <= 75
anim = 151050
ID = 151050
pos = -10*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),40*Helper(999999),Fvar(16)-random%30*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 17,0
vfacing = 1
bindtime = -1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time <= 70
trigger2 = timemod = 4,0
anim = 900
ID = 900
pos = -5,-25
postype = p1  ;p2,front,back,left,right
vel = -15,-5+random%10
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 75
value = 3507

[State 200, End]
type = ChangeState
trigger1 = time = 80
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;DarkSpine Fire wave Combo 8
[Statedef 3507]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3507
poweradd = 0
sprpriority = 2

[State 0, Shadow FX]
type = Explod
triggerall = time > 20 && numhelper(3550) > 0
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-5-Random%35)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 200, 1]
type = HitDef
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 1
guardflag = MA
pausetime =ifelse(var(2) = 3,1,2),10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -0,-1
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Hit Spark]
type = Explod
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 71556
ID = 71556
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 23
helpertype = normal
name = "Sonic Wave Helper"
ID = 3550
stateno = 3550
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .5*Helper(999999),Fvar(16)
size.yscale = .5*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = time > 30 && numhelper(3550) = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Fire Wave - Helper
[Statedef 3550]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3550
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 30,0
value = S5,69
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -25*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = A, SP
animtype  = Heavy
damage    = 1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = -1
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-0.5
air.velocity = -5,-0.5
Fall = 1
fall.recover = 0
Getpower = 0,0
sprpriority = 3
envshake.time = 100

[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 3507

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 3555
;-------------------------------------------------------------------------------
; Fire Wave - FIn
[Statedef 3555]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3551
sprpriority = 3

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,69
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 10*Helper(999999),Fvar(16),-10*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 20,0
attr = A, SP
animtype  = Heavy
damage    = 75
Hitflag = MAFDE
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = -1
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-4
air.velocity = -5,-4
Fall = 1
fall.recover = 0
Getpower = 0,0
sprpriority = 3
envshake.time = 100

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;------------------------------SUPER--------------------------------------------
; Hyper Real Full Speed Combo 1
[Statedef 3600]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3600

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 600
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = movecontact = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,5
facing = -1
sprpriority = 2
removetime = -2
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,59
volume = 100

[State 0, VelSet]
type = VelSet
trigger1 = time = 105
x = 25

[State 0, PosSet]
type = PosAdd
trigger1 = time = 104
x = p2bodydist x -20

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,265
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 110
movetime = 110
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 100||time = 103
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 100
anim = 116
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .50*Helper(999999),Fvar(16),.50*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 4055
ID = 4055
pos = -25,-5
postype = p1 
facing = -1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 9999
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 20,0
pausetime = 10,100
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-1
air.velocity = -4,-1
fall.recover = 0
Envshake.time = 15
kill = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 200, End]
type = ChangeState
trigger1 = movecontact && time = 122
value = 3601
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = !movecontact && Animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Hyper Real Full Speed Combo 2
[Statedef 3601]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3601
sprpriority = 2
poweradd= -1000

[State 0, Turn]
type = Turn
trigger1 = time = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, HP
animtype  = Heavy
damage = 4
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s6030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 1
Fall.recover = 0
Envshake.time = 20
kill = 0

[State 0, Hit Spark]
type = Helper
trigger1 = Movehit = 1
ID = 583
Stateno = 583
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
ownpal = 1
supermovetime = 999
ignorehitpause = 1
Size.Xscale = .20
Size.Yscale = .20

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 15
x = p2bodydist x - 0
y = p2bodydist y - 0

[State 0, Hit Spark]
type = Helper
triggerall = time = 16
trigger1 = movehit = 1
helpertype = normal
name = "Hit Spark"
ID = 36011
stateno = 36011
pos = 0,0
postype = p2
facing = 1
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2
ignorehitpause = 1
persistent = 5

[State 200, End]
type = ChangeState
trigger1 = time = 100
value = 3602
ctrl = 1
;---------------------------------------------------------------------------
; Hyper Real Full Speed Combo 3
[Statedef 3602]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3602
sprpriority = 2
poweradd= -1000

[State 0, Hit Spark]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Hit Spark"
ID = 36012
stateno = 36012
pos = 0,0
postype = p2
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x + 75
y = p2bodydist y - 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 5
y = 0

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 100
trans = Add1
length = 6
timegap = 2
framegap = 2
palbright = 0 , 0 , 0
palcontrast = 256, 256, 256
paladd = 0,0,1
palmul = .50, .50, .50

[State 200, End]
type = ChangeState
trigger1 = time = 100
value = 3603
ctrl = 1
;---------------------------------------------------------------------------
; Hyper Real Full Speed Combo 4
[Statedef 3603]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3603
sprpriority = 2

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 25
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10
kill = 0

[State 0, Hit Spark]
type = Helper
triggerall = NumHelper(583) = 0
trigger1 = Movehit = 1
ID = 583
Stateno = 583
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
ownpal = 1
supermovetime = 999
ignorehitpause = 1
Size.Xscale = .20
Size.Yscale = .20

[State 200, End]
type = ChangeState
trigger1 = movehit && animtime = 0
value = 3604
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Hyper Real Full Speed Combo 5
[Statedef 3604]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3604
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = animelem = 2
anim = 9100
ID = 9100
pos = 5,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .2,.2
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
angle = 90

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 
x = 10
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = movecontact
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A

[State 0, Gravity]
type = Gravity
trigger1 = movecontact
;ignorehitpause = 
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = -5
y = -2.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 15
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2.5,-8
air.velocity = -2.5,-8
fall = 1
fall.recover = 0
kill = 0

[State 0, Hit Spark]
type = Helper
triggerall = NumHelper(583) = 0
trigger1 = Movehit = 1
ID = 583
Stateno = 583
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
ownpal = 1
supermovetime = 999
ignorehitpause = 1
Size.Xscale = .20
Size.Yscale = .20

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 17
value = 3605
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = !movehit && animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Hyper Real Full Speed Combo 6
[Statedef 3605]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3605
poweradd = 0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 9000
ignorehitpause = 1
persistent = 1

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 109
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
Supermove = 999999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 50

[State 0, TargetBind]
type = TargetBind
trigger1 = movehit
time = 1
pos = 40,-2
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1
anim = 9070
ID = 9055
pos = -10,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
ownpal = 1
Removetime = -1
vel = 0,0
accel = 0,0
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2.5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x -20
y = p2bodydist y -0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
trigger1 = timemod = 2,0
attr = S, NA
damage = 1
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 1,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2.5,-1
numhits = 5
kill = 0

[State 0, Speed FX]
type = Explod
persistent = 2
trigger1 = time >0
anim = 580
id = 1552
pos = 30-random%-20,-5-random%35
postype = p1
facing = 1
vfacing = 1
vel = -2,0
bindtime = -1
removetime = -2
scale = .15,.15
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
Angle = 90
pausemovetime = 99999

[State 0, Wind FX]
type = Explod
trigger1 = time >0
persistent = 2
anim = 7045
ID = 7018
pos = 30-random%-20,-5-random%35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .065,.065
vel = 2.5,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
angle = -15

[State 0, Hit Spark]
type = Helper
trigger1 = Movehit = 1
ID = 583
Stateno = 583
postype = P2
pos = -10+random%-20,0-random%-30
facing = -1
sprpriority = 2
ownpal = 1
supermovetime = 999
ignorehitpause = 1
Size.Xscale = .125
Size.Yscale = .125

[State 200, End]
type = ChangeState
trigger1 = Time = 70
value = 3606
ctrl = 1
;---------------------------------------------------------------------------
; Hyper Real Full Speed Combo 7
[Statedef 3606]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3606
poweradd = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 100

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 20,0
pausetime = 10,30
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-7
air.velocity = -5,-7
fall.recover = 0
Envshake.time = 15
kill = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 20
y = 0

[State 0, Hit Spark]
type = Helper
trigger1 = Movehit = 1
ID = 583
Stateno = 583
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
ownpal = 1
supermovetime = 999
ignorehitpause = 1
Size.Xscale = .20
Size.Yscale = .20

[State 200, End]
type = ChangeState
trigger1 = movecontact
value = 3607
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = Time = 50
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Hyper Real Full Speed Combo 8
[Statedef 3607]
type    = A
movetype= A
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 13652
velset = 0,0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -6
y = -7

[State 200, End]
type = ChangeState
trigger1 = time = 35
value = 3608
ctrl = 1
;-------------------------------------------------------------------------------
; Hyper Real Full Speed Combo 8
[Statedef 3608]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 3607
velset = 0,0
sprpriority = 2

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
movetime = 5

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = p2bodydist x - 50
y = p2bodydist y - 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 1
x = 40
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = .2
y = 0

[State 0, Explosion FX III]
type = Explod
triggerall = numexplod(3655) = 0
trigger1 = movehit = 1
anim = 3655
ID = 3655
pos = 0,-34
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 2,1
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
triggerall = numexplod(9026) = 0
trigger1 = movehit = 1
anim = 9026
ID = 9026
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 9,9
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999
 
[State 0, PalFX]
type = PalFX
trigger1 = movehit = 1
time = 60
add = 0,0,0
mul = 0,0,0
sinadd = 150, 150, 150, 4
color = 0
ignorehitpause = 1
persistent = 1

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Honda"
ID = 1060
stateno = 1060
pos = 0,-20
postype = p2
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 25,0
pausetime = 10,250
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = -1
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-1
air.velocity = -4,-1
fall.recover = 0
Envshake.time = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S1,6005
[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S1,6005
[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S1,6005
[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S1,6005

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 3610

[State 0, SprPriority]
type = SprPriority
trigger1 = enemy,stateno = 3610
value = 5

[State 0, SprPriority]
type = SprPriority
trigger1 = enemy,stateno =! 3610
value = 2

[State 0, Golpes]
type = Helper
trigger1 = time = 125
helpertype = normal
name = "Golpes"
ID = 36013
stateno = 36013
pos = 0,-30*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
Size.xscale = .3*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Turn]
type = Turn
trigger1 = time = 300

[State 200, End]
type = ChangeState
triggerall = var(6) = 0
trigger1 = time = 300
value = 612
ctrl = 1

[State 200, End]
type = ChangeState
triggerall = var(6) = 1
trigger1 = time = 250
value = 3609
ctrl = 1
;-------------------------------------------------------------------------------
; Mastered Hyper Wave
[Statedef 3609]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 3609
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S180,57
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S180,57
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S180,57
volume = 100

[State 0, Power Charge - Aura BG]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 50
name = "Power Charge - Aura BG"
ID = 550
stateno = 28410
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .30
size.yscale = .30
[State 0, Power Charge - Aura]
type = Helper
triggerall = var(2) = 4
trigger1 = time = 50
name = "Power Charge - Aura"
ID = 550
stateno = 28411
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sonic Wave Helper"
ID = 3630
stateno = 3630
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .9*Helper(999999),Fvar(16)
size.yscale = .9*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Sonic Wave Helper"
ID = 3631
stateno = 3631
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .9*Helper(999999),Fvar(16)
size.yscale = .9*Helper(999999),Fvar(16)
supermovetime = 9999
pausemovetime = 9999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0
;ignorehitpause = 
;persistent = 

[State 0, Sonic Wave Helper]
type = Helper
trigger1 = time = 55
helpertype = normal
name = "Ultra violet light Helper"
ID = 3650
stateno = 3650
pos = 20*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .9*Helper(999999),Fvar(16)
size.yscale = .9*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 55
anim = 28430
ID = 28430
pos = 175*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 230
scale = .9*Helper(999999),Fvar(16),.9*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 285
anim = 28431
ID = 28431
pos = 175*Helper(999999),Fvar(16),-20*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .9*Helper(999999),Fvar(16),.9*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [50,310]
trigger1 = timemod = 7,0
trigger2 = time = 105
helpertype = normal
name = "Sonic Tornado Helper"
ID = 28465
stateno = 28465
pos = 50,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 315
value = -250

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 320
value = 50 
ctrl = 0
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 3630]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 28435
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelem = 1
pos = -17,-22

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelem = 2
pos = -0,-15

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 28350
ID = 28350
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 55
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 28400
trigger2 = root,movetype = H
trigger3 = root,time = 63
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = numhelper(3650) = 1
;-------------------------------------------------------------------------------
; Super Wave - Charge
[Statedef 3631]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 28436
sprpriority = 4

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
trigger1 = timemod = 3,0
source = 28455,0
dest = 28455,0+(random%6)
ignorehitpause = 1
persistent = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelem = 1
pos = -17,-22

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,animelem = 2
pos = -0,-15

[State 0, VarSet]
type = VarSet
trigger1 = timemod = 2,0
v = 8
value = random%5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 28350
ID = 28350
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = 55
scale = .1,.1
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = numhelper(3650) = 1
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 3650]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 28450
sprpriority = 3

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
trigger1 = timemod = 6,0
source = 28450,0
dest = 28450,0+(random%6)
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 50

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = 20*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound   = S1,1305
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -7,0
Fall = 0
kill = 0
Getpower = 0,0
sprpriority = 3

[State 0, Hit Spark]
type = Helper
triggerall = NumHelper(583) = 0
trigger1 = Movehit = 1
ID = 583
Stateno = 583
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
ownpal = 1
supermovetime = 999
ignorehitpause = 1
Size.Xscale = .50
Size.Yscale = .50

[State 200, End]
type = Destroyself
trigger1 = Root,Stateno != 3609

[State 200, End]
type = ChangeState
trigger1 = time = 231
value = 3655
;-------------------------------------------------------------------------------
; Final Flash - Explosion
[Statedef 3655]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0,Explosion]
type=Explod
triggerall=numhelper(9025)=0
trigger1=!Time
anim=9025
ID=9025
pos=0,0
postype=left
facing=1
vfacing=1
bindtime=-1
removetime=-2
scale=999,999
sprpriority=8
ontop=0
ownpal=1
removeongethit=0
ignorehitpause=1

[State 0,Rocas]
type=Helper
trigger1=timemod=60,0
helpertype=normal
name="Rocas"
ID=3070
stateno=3070
pos=160,-165
postype=left
facing=1
keyctrl=0
ownpal=1
size.xscale=.2
size.yscale=.2
supermovetime=99999
pausemovetime=99999

[State 0,Rocas]
type=Helper
trigger1=timemod=60,0
helpertype=normal
name="Rocas"
ID=3071
stateno=3071
pos=160,-165
postype=left
facing=1
keyctrl=0
ownpal=1
size.xscale=.2
size.yscale=.2
supermovetime=99999
pausemovetime=99999

[State 0, Explosion Final]
type = Helper
trigger1 = movehit = 1 && numhelper(28480) = 0
helpertype = normal
name = "Explosion Final"
ID = 28480
stateno = 28480
pos = 0,-30
postype = p2
facing = -1
ownpal = 1
sprpriority = 3
size.xscale = 1.2*Helper(999999),Fvar(16)
size.yscale = 1.2*Helper(999999),Fvar(16)
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
v = 2
value = 25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 27,13
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,71
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Fall = 1
Getpower = 0,0
sprpriority = 3

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; P2
[Statedef 3610]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
sprpriority = 5

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 60
add = 0,0,0
mul = 0,0,0
sinadd = 150, 150, 150, 4
color = 0
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+var(10)
elem = 1

[State 200, End]
type = SelfState
trigger1 = time = 175
value = 5050
ctrl = 1
;-----------------------------------------------------------------------
; Ilusion
[Statedef 36011]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 36011
velset = 0,0
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = -20,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
trigger1 = time%10 = 0
anim = 7022
ID = 550
pos = 20,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = -4
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, RemapPal]
type = RemapPal
trigger1 = timemod = 2,0
source = 1,0
dest = 1,0+(random%6)
ignorehitpause = 1
persistent = 1

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 84
trans = Add1
length = 6
timegap = 2
framegap = 2
palbright = 0 , 0 , 0
palcontrast = 256, 256, 256
paladd = 0,0,1
palmul = .50, .50, .50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 3601
trigger2 = root,time = 100
;-------------------------------------------------------------------------------
; Golpes
[Statedef 36012]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7265

[State 0, Explod]
type = Explod
trigger1 = movehit
anim = 13261+(random%5)
ID = 13261
pos = 0,-10
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 2,.75
sprpriority = 3
ontop = 1
angle = 0+random%180
persistent = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = A, HP
animtype  = Medium
damage    = 1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 10
kill = 0

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 3602
;-------------------------------------------------------------------------------
; Golpes
[Statedef 36013]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7265

[State 0, Ondas]
type = Helper
trigger1 = 1
helpertype = normal
name = "Ondas"
ID = 36014
stateno = 36014
pos = -10*Helper(999999),Fvar(16)+random%-10*Helper(999999),Fvar(16),40*Helper(999999),Fvar(16)-random%50*Helper(999999),Fvar(16)
postype = p1
ownpal = 1
size.xscale = .125*Helper(999999),Fvar(16)
size.yscale = .125*Helper(999999),Fvar(16)
Pausemovetime = 9999
Supermovetime = 9999

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = A, HP
animtype  = Medium
damage    = 5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,75
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Envshake.time = 10

[State 0, TargetState]
type = TargetState
triggerall = root,var(6) = 0
trigger1 = time = 150
value = 7000

[State 200, End]
type = Destroyself
trigger1 = time = 155
;-------------------------------------------------------------------------------
; Ondas
[Statedef 36014]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7411
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.5+time*.25,1.5+time*.25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time >= 10
;------------------------------SUPER--------------------------------------------
; Speed lazer 1
[Statedef 3700]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3700

[State 0, VelSet]
type = VelSet
trigger1 = time = 100
x = 25
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,77
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,77
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,77
volume = 100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 700
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 100||time = 105
anim = 107
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
angle = 90
vfacing = 1
bindtime = 1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 1
Vel = -1,0
[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 100
anim = 108
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,1200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S0,3000
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 20,20
pausetime = 10,100
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-1
air.velocity = -4,-1
fall.recover = 0
Envshake.time = 15
kill = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact = 1
value = 3701

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
; Speed lazer 2
[Statedef 3701]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3701

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 9103
ID = 9100
pos = 25,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.15
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, HitDef]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 30,0
pausetime = 10,10
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-8
air.velocity = -2,-7
fall = 1
fall.recover = 0
Envshake.time = 15
kill = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movecontact && time = 40
value = 3702

[State 200, End]
type = ChangeState
trigger1 = !movecontact && animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
; Speed lazer 3
[Statedef 3702]
type    = A
movetype= A
physics = A
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3702

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2bodydist x -0
y = p2bodydist y -0

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Explod]
type = Explod
trigger1 = movehit
anim = 13261
ID = 13261
pos = 0,-10
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
sprpriority = 3
ontop = 1
angle = 0+random%180
persistent = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, HP
animtype  = Heavy
damage = 4
Hitflag = MAFDE
guardflag = MA
pausetime = 0,70
sparkno = -1
guard.sparkno = s6030
sparkxy = -4,2
hitsound = S1,1405
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 1
Fall.recover = 0
Envshake.time = 20
kill = 0

[State 200, End]
type = ChangeState
trigger1 = movecontact && time = 250
value = 3703

[State 200, End]
type = ChangeState
trigger1 = !movecontact && time = 260
value = 50
ctrl = 1
;--------------------------------------------------------------------------
; Speed lazer 4
[Statedef 3703]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
velset = 0,0
anim = 3703

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = !time
x = p2bodydist x = -20
y = p2bodydist y = 0

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S180,85
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S180,85
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S180,82
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S180,82
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S180,82
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 80
anim = 231428
ID = 231428
pos = 60*Helper(999999),Fvar(16),-32*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = 9
scale = .6,.6
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 89
anim = 231429
ID = 231429
pos = 60*Helper(999999),Fvar(16),-32*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6,.6
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
trigger1 = time = 80
helpertype = normal ;player
name = "Wave"
ID = 3750
stateno = 3750
pos = 20,-24
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = .6
size.yscale = 2

[State 0, Explod]
type = Explod
triggerall = numexplod(231160) = 0
trigger1 = time = [0,80]
anim = 231160
ID = 231160
pos = 19,-24
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .15,.15
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1
[State 0, Explod]
type = Explod
triggerall = numexplod(7050) = 0
trigger1 = time = [0,80]
anim = 7050
ID = 7050
pos = 19,-24
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 0
scale = .15,.15
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(3750) = 1
x = -1.5
y = 0

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3710

[State 0,TargetBind]
type = TargetBind
trigger1 = animelem = 1
pos = 33,0

[State 200, End]
type = ChangeState
trigger1 = time = 115
value = 612
ctrl = 1
;----------------------------------------------------------------------------
;P2
[Statedef 3710]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 5300
ignorehitpause = 1
elem = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = !time
value = 5300+var(10)
ignorehitpause = 1
elem = 1

[State 0, SelfState]
type = SelfState
trigger1 = time >= 150
value = 5050
;-------------------------------------------------------------------------------
;Wave Helper
[Statedef 3750]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 3750
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,-32
ignorehitpause = 1
persistent = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90
ignorehitpause = 1
persistent = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 2

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 200, 1]
type = HitDef
triggerall = timemod = 5,0
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 20,10
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-0
air.velocity = -8,-0
Envshake.time = 20
Sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,72

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
triggerall = movehit
trigger1 = time > 25
value = 7000

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;---------------------------------------------------------------------------
[Statedef 3070]
type=S
movetype=I
physics=N
ctrl=0
anim=3065
sprpriority=10

[State 0,PalFXWiz]
type=PalFX
trigger1=1
time=99999
add=0,0,0
mul=128,128,128
color=0

[State 0,Trans]
type=Trans
trigger1=1
trans=addalpha
alpha=256,256

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow

[State 200,End]
type=Destroyself
trigger1=!AnimTime
;------------------------------------------------------------------
[Statedef 3071]
type=S
movetype=I
physics=N
ctrl=0
anim=3065
sprpriority=9

[State 0,PalFXWiz]
type=PalFX
trigger1=1
time=99999
add=0,0,0
mul=512,512,512
color=0

[State 0,Trans]
type=Trans
trigger1=1
trans=sub

[State 0,AssertSpecial]
type=AssertSpecial
trigger1=1
flag=noshadow

[State 200,End]
type=Destroyself
trigger1=!AnimTime
;--------------------------------------------------------------------------
[Statedef 3800]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3800

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,97
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,97
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,97
volume = 100

[State 0, HitDef]
type = HitDef
trigger1 = !movecontact
attr = S, NA    
hitflag = MAF        
guardflag = MA         
animtype = Heavy          
damage = 50,90
pausetime = 10,30
sparkno = -1
guard.sparkno = S7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = p2bodydist x / 6
air.velocity = p2bodydist x / 12,2
fall.recover = 0
Envshake.time = 15
kill = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 600
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
triggerall = !movecontact
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 200, End]
type = ChangeState
triggerall = moveguarded
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 200, End]
type = ChangeState
triggerall = movecontact
trigger1 = animtime = 0
value = 3801
;--------------------------------------------------------------------------
[Statedef 3801]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3801

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = .5

[State 200, 1]
type = HitDef
trigger1 = animelem = 3||animelem = 6
attr = S, NA
damage = 5
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,22
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10
kill = 0

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = movecontact
trigger1 = time = 144
value = 3802

[State 200, End]
type = ChangeState
triggerall = !movecontact
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 3802]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3802

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = .5

[State 200, 1]
type = HitDef
trigger1 = animelem = 3
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
EnvShake.time = 10
kill = 0

[State 200, 1]
type = HitDef
trigger1 = animelem = 9
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,22
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-6
air.velocity = -2.5,-6
EnvShake.time = 10

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,-2
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = movecontact
trigger1 = animtime = 0
value = 3803

[State 200, End]
type = ChangeState
triggerall = !movecontact
trigger1 = animtime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 3803]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3803

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,73
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S5,73
volume = 100

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 3850
trigger1 = animelem = 2
value = 3850

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 3804
;--------------------------------------------------------------------------
[Statedef 3804]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 3804

[State 0, Explod]
type = Explod
trigger1 = animelem = 3
anim = 4055
ID = 4055
pos = 10,-5
postype = p1 
facing = -1
vfacing = 1
bindtime = 1
vel = -10,0
removetime = -2
pausemovetime = 9999
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999

[State 0, Super Jump]
type = PlaySnd
trigger1 = Time = 0
value = S60,1
volume = 999
channel = -1

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = 10,8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 1
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5
y = -4.5

[State 0, VelSet]
type = VelSet
trigger1 = movecontact
x = -3
y = -3

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, NA
damage = 50
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10,22
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-6
air.velocity = -2.5,-6
EnvShake.time = 10

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3850]
type = S
movetype = A
physics = S
ctrl = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5010+var(10)
elem = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosSet]
type = Posadd
trigger1 = enemy,animelem = 2
x = p2bodydist x - 5
y = p2bodydist y - 38

[State 0, PosSet]
type = Posadd
trigger1 = enemy,animelem = 3
x = p2bodydist x - 35
y = p2bodydist y - 10

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,animelem = 4
value = 3851
ctrl = 0

[State 0, ChangeState]
type = SelfState
trigger1 = enemy,stateno != 3803
value = 5050
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3851]
type = S
movetype = A
physics = S
ctrl = 0
sprpriority = 2

[State 0, PosAdd]
type = Posset
trigger1 = !time
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5170+var(10)
elem = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = !time
value = -150

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 3
value = 3852
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3852]
type = A
movetype = A
physics = A
ctrl = 0
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = !time
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -1.5
y = -4.5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5170+var(10)
elem = 1

[State 0, ChangeState]
type = SelfState
trigger1 = time = 2
value = 5050
ctrl = 0
;-------------------------------------------------------------------------------
[Statedef 3860]
type = S
movetype = A
physics = N
ctrl = 0
sprpriority = 2
anim = 9999

[State 0, Roto]
type = Explod
trigger1 = time = 0
anim = 7040
ID = 7040
pos = 0*Helper(999999),Fvar(16),0
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .6*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = -3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 0

[State 0, Land]
type = Explod
trigger1 = time = 0
anim = 7014
ID = 550
pos = 0*Helper(999999),Fvar(16),0
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .6,.6
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,10
volume = 100

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 10
;--------------------------------------------------------------------------
[Statedef 3900]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 3900

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =1
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =1
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem =1
value = S180,59
volume = 100

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,0
bindtime = -1
supermove = 1
removetime = 600
sprpriority = -19
ontop = 0
ownpal = 1
scale = 1,.84
ignorehitpause = 1
removeongethit = 1

[State 0,Portrait]
type=Helper
trigger1=!Time
helpertype=normal
name="Portrait"
ID=3080
stateno=3080
pos=0,0
postype=Left
facing=1
keyctrl=0
ownpal=1
size.xscale=1
size.yscale=1
supermovetime=999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype = Heavy
damage = 25,12
guardflag = MA
pausetime = 2,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2,-0
Fall.recover = 0
Fall = 0
Envshake.time = 20
kill = 0

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 7022
ID = 7022
pos = -5,7
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 0
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0 && time > 100 && pos y = 0
anim = 7022
ID = 7022
pos = -5,6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 0
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 100
time = 150
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 100
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 100
x = 20
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 4120
ID = 4121
pos = -15,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 150
pausemovetime = 0
scale = .3,.3
sprpriority = 0
removeongethit = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
value = 3901
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 250
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 3901]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
anim = 3901

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4120
ID = 4120
pos = -15,-15
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 54
pausemovetime = 0
scale = .3,.3
sprpriority = 0
removeongethit = 1
ignorehitpause = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 4121
id = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5

[State 0, Excalibur]
type = Explod
trigger1 = timemod = 1,0
sprpriority = 3
anim = 9998
ID = 7020
pos = 10,4
postype = p1
facing = 1
bindtime = -1
removetime = 2
scale = 1.2,1.2
removeongethit = 1
supermove = 0
pausemove = 0
supermovetime = 0
pausemovetime = 0
ignorehitpause = 0

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = S, NA
damage = 5
animtype = hard
guardflag = MA
hitflag = MAF
pausetime = 10,5
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6011
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -.5,-0
air.velocity = -.5,-0
EnvShake.time = 10
fall = 0
fall.recover = 0
kill = 0

[State 0, Hit Spark]
type = Helper
trigger1 = movehit = 1
helpertype = normal
name = "Hit Spark"
ID = 902
stateno = 902
pos = 0,-25*Helper(999999),Fvar(16)
postype = p2
facing = -1
ownpal = 1
size.xscale = .3*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit && time = 54
value = 3902
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 0
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 3902]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
anim = 3902

[State 0, SprPriority]
type = SprPriority
trigger1 = 1
value = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 25
y = 0

[State 0, Explosion FX III]
type = Explod
triggerall = numexplod(3655) = 0
trigger1 = movehit = 1
anim = 3655
ID = 3655
pos = 0,-34
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 2,1
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
triggerall = numexplod(9026) = 0
trigger1 = movehit = 1
anim = 9026
ID = 9026
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 9,9
sprpriority = 4
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype = Heavy
damage = 25,12
guardflag = MA
pausetime = 2,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6013
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2,-0
Fall.recover = 0
Fall = 0
Envshake.time = 20
kill = 0

[State 0, Helper]
type = Helper
trigger1 = time = 120
helpertype = normal ;player
name = "explosions"
ID = 3915
stateno = 3915
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 3910
trigger1 = movecontact
value = 3910

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, PalFX]
type = PalFX
trigger1 = movehit = 1
time = 75
add = 0,0,0
mul = 0,0,0
sinadd = 150, 150, 150, 4
color = 0
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 3915]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 100

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 231160
ID = 231160
pos = 0,-20
postype = p2
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Helper]
type = Helper
triggerall = time = [25,100]
trigger1 = timemod = 25,0
helpertype = normal ;player
name = "Explosion 1"
ID = 3920
stateno = 3920
pos = 0,-10
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 = time = 125
helpertype = normal ;player
name = "Explosion 2"
ID = 3925
stateno = 3925
pos = 0,-10
postype = p2    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 300
;-------------------------------------------------------------------------------
[Statedef 3920]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 3950

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype = Heavy
damage = 25,12
guardflag = MA
pausetime = 2,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = -1
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-6
air.velocity = -2,-6
Fall.recover = 0
Fall = 1
Envshake.time = 20
kill = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1305
volume = 100

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3951
ID = 3951
pos = -0,-10
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3952
ID = 3952
pos = -0,-10
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 0
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 1
;-------------------------------------------------------------------------------
[Statedef 3925]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
sprpriority = 2
anim = 3950

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype = Heavy
damage = 100,50
guardflag = MA
pausetime = 2,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = -1
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-8
air.velocity = -4,-8
Fall.recover = 0
Fall = 1
Envshake.time = 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,71
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,71
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,71
volume = 100

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 4020
ID = 4020
pos = 0,-10
postype = p2
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = 4
ontop = 0
ownpal = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 1
;-------------------------------------------------------------------------------
; P2
[Statedef 3910]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
velset = 0,0
sprpriority = 5

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 75
add = 0,0,0
mul = 0,0,0
sinadd = 150, 150, 150, 4
color = 0
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000+var(10)
elem = 1

[State 200, End]
type = SelfState
trigger1 = time = 250
value = 5050
ctrl = 1
;-----------------------------------------------------------------------
;PORTRAIT 
[Statedef 3080]
type=S
movetype=I
physics=S
velset=0,0
ctrl=0
anim=9999
sprpriority=-1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 0
trigger1=time=12
anim=3070
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 6
trigger1=time=12
anim=3078
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 5
trigger1=time=12
anim=3074
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 4
trigger1=time=12
anim=3075
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 9
trigger1=time=12
anim=3076
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 7
trigger1=time=12
anim=3077
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 8
trigger1=time=12
anim=3073
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall = root,var(2) = 1
trigger1=time=12
anim=3072
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Portrait FX]
type=Explod
triggerall= root,var(2) = 2
trigger1=time=12
anim=3071
ID=3070
pos=130,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=78
bindtime=-1
scale=.47,.47
vel=.3,0
sprpriority=-12
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Blue Lights FX]
type=Explod
triggerall=root,var(2) = 0||root,var(2) = 8||root,var(2) = 4
trigger1=time=12
anim=3090
ID=3080
pos=20,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=82
bindtime=-1
scale=1,.35
sprpriority=-20
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Blue Lights FX]
type=Explod
triggerall=root,var(2) = 5
trigger1=time=12
anim=4090
ID=4080
pos=20,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=82
bindtime=-1
scale=1,.35
sprpriority=-20
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Blue Lights FX]
type=Explod
triggerall=root,var(2) = 2||root,var(2) = 9||root,var(2) = 6
trigger1=time=12
anim=3091
ID=3080
pos=20,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=82
bindtime=-1
scale=1,.35
sprpriority=-20
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Blue Lights FX]
type=Explod
triggerall=root,var(2) = 1||root,var(2) = 7
trigger1=time=12
anim=3092
ID=3080
pos=20,90
postype=left
pausemovetime=-1
supermovetime=-1
removetime=82
bindtime=-1
scale=1,.35
sprpriority=-20
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Sparking Bars FX]
type=Explod
triggerall=root,var(2) = 0||root,var(2) = 8||root,var(2) = 4
triggerall=!numexplod(3080)
trigger1=!time
anim=3085
ID=3080
pos=140,84
postype=left
pausemovetime=-1
supermovetime=-1
removetime=-2
bindtime=-1
scale=.7,.37
sprpriority=0
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Sparking Bars FX]
type=Explod
triggerall=root,var(2) = 5
triggerall=!numexplod(3080)
trigger1=!time
anim=4085
ID=3080
pos=140,84
postype=left
pausemovetime=-1
supermovetime=-1
removetime=-2
bindtime=-1
scale=.7,.37
sprpriority=0
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Sparking Bars FX]
type=Explod
triggerall=root,var(2) = 2||root,var(2) = 9||root,var(2) = 6
triggerall=!numexplod(3080)
trigger1=!time
anim=3086
ID=3080
pos=140,84
postype=left
pausemovetime=-1
supermovetime=-1
removetime=-2
bindtime=-1
scale=.7,.37
sprpriority=0
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Sparking Bars FX]
type=Explod
triggerall=root,var(2) = 1||root,var(2) = 7
triggerall=!numexplod(3080)
trigger1=!time
anim=3087
ID=3080
pos=140,84
postype=left
pausemovetime=-1
supermovetime=-1
removetime=-2
bindtime=-1
scale=.7,.37
sprpriority=0
ontop=0
ownpal=1
ignorehitpause=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 0||root,var(2) = 8||root,var(2) = 4
triggerall = !numexplod(3080)<3
trigger1 = (time%7) = 0
trigger2 = !Time
anim =3080
ID =3080
space=screen
postype=back
pos=45,120
facing=-1
bindtime =1
vel=22,0
removetime=7
supermovetime =999
pausemovetime =999
scale=.865,.495
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 5
triggerall = !numexplod(3080)<3
trigger1 = (time%7) = 0
trigger2 = !Time
anim =4080
ID =4080
space=screen
postype=back
pos=45,120
facing=-1
bindtime =1
vel=22,0
removetime=7
supermovetime =999
pausemovetime =999
scale=.865,.495
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 1||root,var(2) = 7
triggerall = !numexplod(3080)<3
trigger1 = (time%7) = 0
trigger2 = !Time
anim =3180
ID =3080
space=screen
postype=back
pos=45,120
facing=-1
bindtime =1
vel=22,0
removetime=7
supermovetime =999
pausemovetime =999
scale=.865,.495
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 2||root,var(2) = 9||root,var(2) = 6
triggerall = !numexplod(3080)<3
trigger1 = (time%7) = 0
trigger2 = !Time
anim =3082
ID =3080
space=screen
postype=back
pos=45,120
facing=-1
bindtime =1
vel=22,0
removetime=7
supermovetime =999
pausemovetime =999
scale=.865,.495
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 0||root,var(2) = 8||root,var(2) = 4
triggerall =!numexplod(3080)<3
trigger1 =!Time
trigger2 =(time%20) =0
anim=3081
ID=3080
pos=45,120
postype=back
facing=-1
bindtime=1
vel=10,0
removetime=20
supermovetime=999
pausemovetime=999
scale=.865,.225
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 5
triggerall =!numexplod(3080)<3
trigger1 =!Time
trigger2 =(time%20) =0
anim=4081
ID=4080
pos=45,120
postype=back
facing=-1
bindtime=1
vel=10,0
removetime=20
supermovetime=999
pausemovetime=999
scale=.865,.225
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 1||root,var(2) = 7
triggerall =!numexplod(3080)<3
trigger1 =!Time
trigger2 =(time%20) =0
anim=3181
ID=3080
pos=45,120
postype=back
facing=-1
bindtime=1
vel=10,0
removetime=20
supermovetime=999
pausemovetime=999
scale=.865,.225
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,Explod]
type=Explod
triggerall=root,var(2) = 2||root,var(2) = 9||root,var(2) = 6
triggerall =!numexplod(3080)<3
trigger1 =!Time
trigger2 =(time%20) =0
anim=3083
ID=3080
pos=45,120
postype=back
facing=-1
bindtime=1
vel=10,0
removetime=20
supermovetime=999
pausemovetime=999
scale=.865,.225
sprpriority=-99
ontop=0
ownpal=1
removeongethit=1
ignorehitpause=1
trans=addalpha
alpha=220,256
persistent=1

[State 0,AssertSpecial]
type=AssertSpecial
trigger1= 1
flag=nobardisplay
flag2=noBG
flag3=nomusic
ignorehitpause = 1

[State 0,AssertSpecial]
type=AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0,RemoveExplod]
type=RemoveExplod
trigger1= time = 100
id = 3180
ignorehitpause = 1

[State 200,End]
type=Destroyself
trigger1 = time = 100
;------------------------------Extras--------------------------------------------
; Sonic X 1
[Statedef 4000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 4000

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 100
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 100
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 1220
ID = 7032
pos = 10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [100,150]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, VelSet]
type = VelSet
trigger1 = time = [100,150]
x = 17
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, Combo]
type = ChangeState
trigger1 = time >= 100 && p2bodydist x <= 40
value = 4001

[State 200, End]
type = ChangeState
trigger1 = Time = 150
value = 0
ctrl = 1
;--------------------------------------------------------------------------------
; Sonic X 2
[Statedef 4001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 10,0
ctrl = 0
anim = 4001
poweradd = -500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = -2
y = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 15
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 10,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
envshake.time = 10
kill = 0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 4050
trigger1 = !moveguarded
trigger1 = movecontact
value = 4050

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movehit && animTime = 0
value = 4002

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;--------------------------------------------------------------------------------
; Sonic X 3
[Statedef 4002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4002
poweradd = -1500
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !time
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1
x = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S150,0
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S150,0
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S150,0
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,103
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,103
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,103
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S180,103
volume = 100

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 4003
ctrl = 1
;--------------------------------------------------------------------------------
; Sonic X 4
[Statedef 4003]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4003
poweradd = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,1325]
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S150,1
volume = 100
loop = 1
channel = 26
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S150,1
volume = 100
loop = 1
channel = 26

[State 0, Pause]
type = Pause
trigger1 = !time
time = 1400
movetime = 1400

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,61
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,61
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,61
volume = 100

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 300
channel = 26

;--------------------Cutscene---------------
[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 3015
ID = 3015
postype = back
pos = 0,-0
bindtime = -1
supermove = 1
removetime = 300
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,.5
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 220
anim = 3210
ID = 3210
postype = back
pos = 150,130
bindtime = -1
supermove = 1
removetime = 300
sprpriority = 5
ontop = 0
ownpal = 1
scale = 1,1
vel = -5,7
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 4005
ID = 4005
postype = back
pos = 150,130
bindtime = -1
supermove = 1
removetime = 300
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4191
ID = 4191
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 1325
scale = 9,9
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 300
anim = 4014
ID = 4014
postype = back
pos = 160,150
bindtime = -1
supermove = 1
removetime = 150
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 340
anim = 3015
ID = 3015
postype = back
pos = 300,-200
bindtime = -1
supermove = 1
removetime = 110
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 700
angle = -90

[State 0, Viento]
type = Explod
trigger1 = time = 340
anim = 7022
ID = 3015
postype = back
pos = 140,150
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1.2
sprpriority = 5
vel = 0,10
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 700

[State 0, Viento]
type = Explod
trigger1 = time = 340
anim = 7022
ID = 3015
postype = back
pos = 180,150
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1.2
sprpriority = 5
vel = 0,10
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 700

[state 0, Explosion]
type = Explod
trigger1 = time = 450
anim = 3015
ID = 3015
postype = back
pos = -25,250
bindtime = -1
supermove = 1
removetime = 170
sprpriority = 5
ontop = 1
ownpal = 1
scale = .5,1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 700
angle = 90

[state 0, Explosion]
type = Explod
trigger1 = time = 300
anim = 4014
ID = 4014
postype = back
pos = 160,150
bindtime = -1
supermove = 1
removetime = 150
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 450
anim = 3210
ID = 3210
postype = back
pos = 150,100
bindtime = -1
supermove = 1
removetime = 110
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,2
vel = 0,0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 550
anim = 4006
ID = 4006
postype = back
pos = 160,250
bindtime = -1
supermove = 1
removetime = -2
vel = 0,-5.2
sprpriority = 5
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 570
anim = 4013
ID = 4013
postype = back
pos = 160,150
bindtime = -1
supermove = 1
removetime = 50
vel = 0,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 620
anim = 4007
ID = 4007
postype = back
pos = 160,140
bindtime = -1
supermove = 1
removetime = 180
vel = 0,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
triggerall = numexplod(4009) = 0
trigger1 = time = [640,800]
anim = 4009
ID = 4009
postype = back
pos = 160,100
bindtime = -1
supermove = 1
removetime = -2
vel = 0,0
sprpriority = 6
ontop = 0
ownpal = 1
scale = .5,.5
angle = 0+random%180
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
triggerall = numexplod(4010) = 0
trigger1 = time = [640,800]
anim = 4010
ID = 4010
postype = back
pos = 160,100
bindtime = -1
supermove = 1
removetime = -2
vel = 0,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = 1,1
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 800
anim = 1220
ID = 1220
postype = back
pos = 140,120
bindtime = -1
supermove = 1
removetime = -2
vel = 0,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = 1.5,1.5
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 800
anim = 4008
ID = 4008
postype = back
pos = 160,130
bindtime = -1
supermove = 1
removetime = 50
vel = 15,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999
angle = -90

[State 0, Explod]
type = Explod
trigger1 = time = [850,970]
trigger1 = timemod = 2,0
anim = 13262
ID = 13262
pos = 0,-10
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 2,1
sprpriority = 6
ownpal = 1
ontop = 1
angle = 0+random%180
persistent = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 970
anim = 4017
ID = 4017
postype = p2
pos = 0,35
bindtime = 1
supermove = 1
removetime = 90
vel = 0,.25
sprpriority = 8
ontop = 0
ownpal = 1
scale = 1.2,1.2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 970
anim = 3655
ID = 3655
postype = back
pos = 175,150
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 2,1
ownpal = 1
sprpriority = 9
ontop = 1
angle = -90
persistent = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 970
anim = 4018
ID = 4018
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 70
scale = 9,9
sprpriority = 7
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 990
anim = 4019
ID = 4019
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = -2
scale = 9,9
sprpriority = 10
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 1285
anim = 4019
ID = 4019
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = -2
scale = 9,9
sprpriority = 10
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 1040
anim = 4015
ID = 4015
postype = back
pos = 80,150
bindtime = -1
supermove = 1
removetime = 160
vel = 0,0.1
sprpriority = 6
ontop = 0
ownpal = 1
scale = 4,4
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 1200
anim = 4016
ID = 4016
postype = back
pos = 80,170
bindtime = -1
supermove = 1
removetime = 125
vel = 0,0
sprpriority = 6
ontop = 0
ownpal = 1
scale = 4,4
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Viento]
type = Explod
trigger1 = time = 1200
anim = 7022
ID = 3015
postype = back
pos = 80,170
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1.2
sprpriority = 5
vel = 0,0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 700

[State 0, Viento]
type = Explod
trigger1 = time = 1200
anim = 7022
ID = 3015
postype = back
pos = 80,170
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1.2
sprpriority = 5
vel = 0,0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = 700

[State 0, Explod]
type = Explod
trigger1 = time = 1120
anim = 23265
ID = 23265
postype = back
pos = 220,70
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
supermovetime = 999
pausemovetime = 9999
scale = .25,.25
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 1160
anim = 4020
ID = 4020
postype = back
pos = 220,70
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 165
supermovetime = 999
pausemovetime = 9999
scale = .5,.5
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 1

[state 0, Explosion]
type = Explod
trigger1 = time = 560
anim = 4170
ID = 4009
postype = back
pos = 150,100
bindtime = -1
supermove = 1
removetime = -2
vel = 0,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = .3,.3
angle = 0+random%180
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999
;-------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [850,970]
trigger1 = timemod = 5,0
value = S1,1405
volume = 999

[State 0, Land]
type = PlaySnd
trigger1 = time = 1200
value = S52,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1160
value = S5,71
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1160
value = S5,71
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1120
value = S5,74
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1120
value = S5,74
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 971
value = S1,6005
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 971
value = S1,6005
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S0,58
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 800
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 800
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 800
value = S1,1405
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 620
value = S180,20
volume = 100
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 620
value = S180,20
volume = 100
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 620
value = S180,20
volume = 100
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 620
value = S180,20
volume = 100
channel = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 640
value = S1,300
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 640
value = S1,300
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 640
value = S1,300
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S180,1
volume = 100
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S180,1
volume = 100
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S180,1
volume = 100
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 560
value = S180,1
volume = 100
channel = 3

[State 0, Super Jump]
type = PlaySnd
trigger1 = time = 340
value = S60,1
volume = 55
channel = -1
[State 0, Super Jump]
type = PlaySnd
trigger1 = time = 340
value = S60,1
volume = 55
channel = -1
[State 0, Super Jump]
type = PlaySnd
trigger1 = time = 340
value = S60,1
volume = 55
channel = -1
[State 0, Super Jump]
type = PlaySnd
trigger1 = time = 340
value = S60,1
volume = 55
channel = -1

[State 200, End]
type = ChangeState
trigger1 = Time = 1550
value = 0
ctrl = 1
;--------------------------------------------------------------------------------
[Statedef 4050]
type    = S
movetype= A
physics = S
juggle  = 1
velset = -10,-10
ctrl = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, Pause]
type = Pause
trigger1 = enemy,stateno = 4003
time = 1200
movetime = 1200

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5000+var(10)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
triggerall = enemy,stateno = 4003
trigger1 = enemy,time = 830
value = 4051
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = enemy,stateno != [4000,4003]
value = 4052
ctrl = 1
;--------------------------------------------------------------------------------
[Statedef 4051]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 6

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, PosAdd]
type = Posset
trigger1 = 1
x = 0
y = -50

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030
ignorehitpause = 1
elem = 1 

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5030+var(10)
ignorehitpause = 1
elem = 1 

[State 200, End]
type = ChangeState
trigger1 = time = 150
value = 4052
ctrl = 1
;--------------------------------------------------------------------------------
[Statedef 4052]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 8

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030
ignorehitpause = 1
elem = 1 

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5030+var(10)
ignorehitpause = 1
elem = 1 

[State 0, PalFX]
type = PalFX
trigger1 = time = 0
time = 70
add = 0,0,0
mul = 0,0,0
sinadd = 150, 150, 150, 4
color = 0
ignorehitpause = 1
persistent = 1 

[State 200, End]
type = ChangeState
trigger1 = time = 70
value = 4054
ctrl = 1
;--------------------------------------------------------------------------
[Statedef 4054]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, Pause]
type = Pause
trigger1 = !time
time = 0
movetime = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2bodydist x -70
y = p2bodydist y -500

[State 0, LifeAdd]
type = LifeAdd
trigger1 = enemy,time = 1300
value = -400

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030
ignorehitpause = 1
elem = 1 

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5030+var(10)
ignorehitpause = 1
elem = 1 

[State 200, End]
type = Selfstate
trigger1 = enemy,time = 1400
value = 5050
ctrl = 0
;--------------------------------------------------------------------------
; Super Sonic Space Attack 1
[Statedef 4100]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 4100

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 100
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 100
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 25220
ID = 7032
pos = 10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 7033
ID = 7033
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [100,150]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, VelSet]
type = VelSet
trigger1 = time = [100,150]
x = 18
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,69
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,69
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, Combo]
type = ChangeState
trigger1 = time >= 100 && p2bodydist x <= 40
value = 4101

[State 200, End]
type = ChangeState
trigger1 = Time = 150
value = 0
ctrl = 1
;--------------------------------------------------------------------------------
; Super Sonic Space Attack 2
[Statedef 4101]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 10,0
ctrl = 0
anim = 4103
poweradd = 0
sprpriority = 2

[State 0, TP]
type = Helper
triggerall = enemy,stateno = 4150
trigger1 = Time = 35
helpertype = normal
name = "TP"
ID = 4170
stateno = 4170
facing = 1
pos = 0,-20
postype = p1
ownpal = 1
IgnoreHitPause = 1
size.xscale = .5
size.yscale = .5

[State 0, VelSet]
type = VelSet
trigger1 = numhelper(4170) = 1
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = -2
y = -4

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 8
x = -2
y = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 10,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
envshake.time = 10
kill = 0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 4150
trigger1 = !moveguarded
trigger1 = movecontact
value = 4150

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(6001) = 0
trigger1 = Movehit = 1
anim = 7010
ID = 6001
postype = P2
pos = 0,0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movehit && animTime = 0
value = 4102

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 50
ctrl = 1
;--------------------------------------------------------------------------------
; Super Sonic Space Attack 1
[Statedef 4102]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -2000
ctrl = 0
velset = 0,0
anim = 4101

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,700]
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1
;--------------------Cutscene---------------
[State 0, TP]
type = Helper
trigger1 = Time = 35
helpertype = normal
name = "TP"
ID = 4171
stateno = 4171
facing = 1
pos = 175,50
postype = back
ownpal = 1
IgnoreHitPause = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 360
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 360
value = S0,58
volume = 50

[State 0, Sonic]
type = Helper
trigger1 = time = 35
helpertype = normal ;player
name = "sonic Go"
ID = 4110
stateno = 4110
pos = 175,50
postype = back    ;p2,front,back,left,right
supermovetime = 9999
pausemovetime = 9999

[State 0, Sonic]
type = Helper
trigger1 = time = 250
helpertype = normal ;player
name = "sonic Go"
ID = 4111
stateno = 4111
pos = 175,50
postype = back    ;p2,front,back,left,right
supermovetime = 9999
pausemovetime = 9999

[State 0, Hit Spark]
type = Helper
trigger1 = time = 250
helpertype = normal
name = "Honda"
ID = 4105
stateno = 4105
pos = 175,-80
postype = back
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, Hit Spark]
type = Helper
trigger1 = time = 360
helpertype = normal
name = "Honda"
ID = 4106
stateno = 4106
pos = 175,-80
postype = back
facing = -1
ownpal = 1
size.xscale = .2*Helper(999999),Fvar(16)
size.yscale = .2*Helper(999999),Fvar(16)
ignorehitpause = 1
persistent = -1
supermovetime = 999999
pausemovetime = 999999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4190
ID = 4190
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 450
scale = 1,1
sprpriority = 4
ontop = 0
pausemovetime = 700
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 450
anim = 4191
ID = 4191
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 250
scale = 9,9
sprpriority = 4
ontop = 0
pausemovetime = 700
ownpal = 1

[state 0, Explosion]
type = Explod
trigger1 = time = 450
anim = 3015
ID = 3015
postype = back
pos = 0,200
bindtime = -1
supermove = 1
removetime = 250
sprpriority = 5
ontop = 1
ownpal = 1
scale = .5,1
ignorehitpause = 1
removeongethit = 1
pausemovetime = 700
angle = 90

[State 0, Sonic]
type = Explod
trigger1 = time = 450
anim = 4112
ID = 4112
pos = 150,125
postype = back
removetime = 250
scale = 3,3
vel = 0,0
sprpriority = 5
ontop = 1
pausemovetime = 700

[State 0, Boost]
type = Explod
trigger1 = time = 450
anim = 4120
ID = 4120
pos = 160,45
postype = back
removetime = 250
scale = .75,.75
vel = 0,0
sprpriority = 5
ontop = 0
pausemovetime = 700
angle = -90
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 530
value = S180,71
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 530
value = S180,71
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 540
value = S5,15
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 540
value = S5,15
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 550
value = S1,300
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 550
value = S1,300
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S1,1406
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S1,1406
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S1,1206
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S1,1206
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S5,22
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S5,22
volume = 100

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 700
movetime = 700

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S180,68
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S180,68
volume = 100
;----------------------------------------
[State 0, PosAdd]
type = PosAdd
trigger1 = time = 700
y = p2bodydist y -400

[State 0, VelSet]
type = VelSet
trigger1 = time >= 700
y = 15

[State 0, PosAdd]
type = PosAdd
trigger1 = time >= 701
x = p2bodydist x -0

[State 0, Boost]
type = Explod
trigger1 = time = 700
anim = 4120
ID = 4120
pos = 0,-20
postype = p1
removetime = -1
scale = .2,.2
vel = 0,0
sprpriority = -3
ontop = 0
bindtime = -1
angle = -90
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 710
value = S100,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 710
value = S100,1
volume = 50

[State 0, ChangeState]
type = ChangeState
triggerall = time >= 700
trigger1 = pos y > -10
value = 4103
ctrl = 1
;-------------------------------------------------------------------------------
; Super Sonic Space Attack 3
[Statedef 4103]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4102
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,25
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,25
volume = 100

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 4120
ignorehitpause = 1
persistent = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 200, 1]
type = HitDef
trigger1 = timemod = 10,0
attr = S, SP
animtype  = Medium
damage = 12
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-5
hitsound = S1,1305
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-3
air.velocity = 0,-3
Fall = 1
Fall.recover = 0
Sprpriority = 3
envshake.time = 8

[State 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
pausemove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Sonic Tornado Helper]
type = Helper
trigger1 = time = [0,275]
trigger1 = timemod = 15,0
helpertype = normal
name = "Sonic Tornado Helper"
ID = 4115
stateno = 4115
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1.3*Helper(999999),Fvar(16)
size.yscale = 1.3*Helper(999999),Fvar(16)

[State 0,Rocas]
type=Helper
triggerall = time <= 250
trigger1=timemod=60,0
helpertype=normal
name="Rocas"
ID=3070
stateno=3070
pos=160,-85
postype=left
facing=1
keyctrl=0
ownpal=1
size.xscale=.2
size.yscale=.4
supermovetime=99999
pausemovetime=99999

[State 0,Rocas]
type=Helper
triggerall = time <= 250
trigger1=timemod=60,0
helpertype=normal
name="Rocas"
ID=3071
stateno=3071
pos=160,-85
postype=left
facing=1
keyctrl=0
ownpal=1
size.xscale=.2
size.yscale=.4
supermovetime=99999
pausemovetime=99999

[State 0, Explosion]
type = Explod
triggerall = time <= 250
trigger1 = timemod = 10,0
anim = 703
ID = 703
pos = 0,50
facing = 1
postype = p1
bindtime = -1
scale = .75,.75
removetime = -2
sprpriority = 9
ownpal = 1
removeongethit = 1
supermovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4150
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = 252
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = time = 252
anim = 4151
ID = 4150
pos = 0,10
postype = p1  ;p2,front,back,left,right
bindtime = -1
removetime = -2
scale = 1,1
sprpriority = 3
removeongethit = 1
ownpal = 1

[State 0,FX]
type=Explod
trigger1 = time = 275
anim=25070
ID=25070
pos = 0,0*Helper(999999),Fvar(16)
Scale=5,.20
sprpriority=-9
ontop=0
ownpal=1

[State 0, Explod]
Type = Explod
trigger1 = time = 275
Anim = 1526
ID = 1526
Pos = 0,-40
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 1,1
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 275
Anim = 1525
ID = 1525
Pos = 0,-40
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = 1,1
SprPriority = -4
OwnPal = 1
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Viento]
type = Explod
triggerall = time <= 250
trigger1 = timemod = 10,0
anim = 7022
ID = 550
pos = -15,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
vel = -5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
triggerall = time <= 250
trigger1 = timemod = 10,0
anim = 7022
ID = 550
pos = 15,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
vel = 5,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Shock Wave FX
[Statedef 4105]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7410
sprpriority = 7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1.25+time*.5,1.25+time*.5
value = -1-time*25

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = time > 10
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 30
;-------------------------------------------------------------------------------
; Shine
[Statedef 4106]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 4170
sprpriority = 7

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .25,.25

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;--------------------------------------------------------------------------
; Sonic
[Statedef 4110]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0
velset = 0,-0.05
anim = 4110
sprpriority = 6

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 5,5
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = destroyself
trigger1 = time = 215
;--------------------------------------------------------------------------
; Sonic
[Statedef 4111]
type    = S
movetype= I
physics = N
juggle  = 4
ctrl = 0
velset = 0,0
anim = 4111
sprpriority = 6

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = -2
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1405
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time =  0
time = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 5-(time*.075),5-(time*.075)
ignorehitpause = 1
persistent = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 67
;-------------------------------------------------------------------------
;Sonic Tornado Helper
[Statedef 4115]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 3005
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -16

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
dest = 3005,2
ignorehitpause = 1
persistent = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 40
;--------------------------------------------------------------------------------
[Statedef 4150]
type    = S
movetype= A
physics = S
juggle  = 1
velset = -10,-10
ctrl = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5000+var(10)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
trigger1 = time = 50
value = 4151
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4151]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5110
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5110+var(10)
ignorehitpause = 1

[State 200, End]
type = Selfstate
trigger1 = time = 450
value = 5120
ctrl = 1
;--------------------------------------------------------------------------------
; TP FX
[Statedef 4170]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 4115
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
time = 1
pos = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 2-(Time*.12),2
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-------------------------------------------------------------------------
; TP FX
[Statedef 4171]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 4115
sprpriority = 6

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,22
volume = 100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 4-(Time*.2),4
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;--------------------------------------------------------------------------
; Archie Sonic 1
[Statedef 4200]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 4200

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 100
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 100
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 1220
ID = 7032
pos = 10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 7033
ID = 7033
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [100,150]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, VelSet]
type = VelSet
trigger1 = time = [100,150]
x = 18
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,69
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,69
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, Combo]
type = ChangeState
trigger1 = time >= 100 && p2bodydist x <= 50
value = 4201

[State 200, End]
type = ChangeState
trigger1 = Time = 150
value = 0
ctrl = 1
;--------------------------------------------------------------------------
; Archie Sonic 2
[Statedef 4201]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -500
ctrl = 0
velset = 15,0
anim = 4201

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 10,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
envshake.time = 10
kill = 0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 4250
trigger1 = !moveguarded
trigger1 = movecontact
value = 4250

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, ChangeState]
type = ChangeState
trigger1 = moveguarded && animtime = 0
value = 0
ctrl = 1

[State 200, Combo]
type = ChangeState
trigger1 = movecontact && animtime = 0
value = 4202
;--------------------------------------------------------------------------
; Archie Sonic 3
[Statedef 4202]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1500
ctrl = 0
velset = 0,0
anim = 4202

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,690]
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1

[State 0, Pause]
type = Pause
trigger1 = !time
time = 690
movetime = 690

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0||time = 300||time = 635
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 662
value = S5,45
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 662
value = S5,45
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 662
value = S5,45
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 640
value = S1,132
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 640
value = S1,132
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 640
value = S1,132
volume = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 300
id = 4208

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 190
value = S180,25
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 190
value = S180,25
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S180,104
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S180,104
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S1,1405
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 562
value = S5,22
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 562
value = S5,22
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 562
value = S1,6004
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 562
value = S1,6004
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 562
value = S100,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 562
value = S100,1
volume = 50
;--------------------Cutscene---------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4191
ID = 4191
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 690
scale = 9,9
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 250
anim = 1220
ID = 1220
postype = back
pos = 140,120
bindtime = -1
supermove = 1
removetime = -2
vel = 0,0
sprpriority = 5
ontop = 0
ownpal = 1
scale = 1.5,1.5
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 250
anim = 11100
ID = 11100
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 150
vel = 20,0
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Estellas]
type = Explod
trigger1 = time = [250,270]
trigger1 = timemod = 12,0
anim = 4208
ID = 4208
postype = back
pos = 150,55
bindtime = -1
vel = 20,0
removetime = -2
scale = .5,.5
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove = 9999
supermovetime = 9999
pausemove = 9999
pausemovetime = 9999
angle = 180
ignorehitpause = 1
persistent = 1

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 4205
ID = 4205
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 150
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 4205
ID = 4205
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 150
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 150
anim = 4206
ID = 4206
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 100
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Estellas]
type = Explod
trigger1 = time = [0,250]
trigger1 = timemod = 12,0
anim = 4208
ID = 4208
postype = back
pos = 150,35
bindtime = -1
vel = 0,0
removetime = -2
scale = .5,.5
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove = 9999
supermovetime = 9999
pausemove = 9999
pausemovetime = 9999
angle = 90
ignorehitpause = 1
persistent = 1

[State 0, Estellas]
type = Explod
trigger1 = time = [0,250]
trigger1 = timemod = 2,0
anim = 9050
ID = 9050
postype = back
pos = 100+random%70,90+random%80
bindtime = -1
vel = 0,-2
removetime = -2
scale = 1,1
sprpriority = 6
ownpal = 1
removeongethit = 1
supermove = 9999
supermovetime = 9999
pausemove = 9999
pausemovetime = 9999
angle = 90
ignorehitpause = 1
persistent = 1
trans = Sub

[state 0, Explosion]
type = Explod
trigger1 = time = 300
anim = 4207
ID = 4207
postype = back
pos = 150,140
bindtime = -1
supermove = 1
removetime = 300
vel = 0,.5
sprpriority = 6
ontop = 0
ownpal = 1
scale = 1.2,1.2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 300
helpertype = normal ;player
name = "Tornado"
ID = 4275
stateno = 4275
pos = 150,-50
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 9999

[State 0, Helper]
type = Helper
trigger1 = time = 300
helpertype = normal ;player
name = "Portal"
ID = 4275
stateno = 4276
pos = 150,-150
postype = back    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 662
anim = 4225
ID = 4225
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = -2
vel = 0,.5
sprpriority = 6
ontop = 0
ownpal = 1
scale = 1,1
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 552
anim = 4209
ID = 4209
postype = p2
pos = -15,-15
bindtime = 0
supermove = 1
removetime = 98
sprpriority = 6
vel = 0,-.5
ontop = 0
ownpal = 1
scale = 1.2,1.2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 550
anim = 109
ID = 116
postype = p2
pos = -15,-15
facing = 1
angle = 90
vfacing = 1
bindtime = -1
removetime = -2
scale = .7*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = -1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0
pausemovetime = 999999
supermovetime = 999999
Supermove = 999999
supertime = 999999

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = time = 565
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
pausemovetime = 999999
supermovetime = 999999
Supermove = 999999
supertime = 999999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
;--------------------------------------

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 4203
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4203]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,15
anim = 45
ctrl = 0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = !time
x = 0
y = -200

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 1000
value = 50
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4250]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -15
y = 0

[State 0, Pause]
type = Pause
trigger1 = enemy,stateno = 4202
time = 690
movetime = 690

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5000+var(10)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 4202
trigger1 = enemy,time = 300
value = 4251
ctrl = 0

[State 0, ChangeState]
type = SelfState
trigger1 = enemy,stateno =! 4202
value = 5050
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4251]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5030+var(10)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = -2

[State 0, PosAdd]
type = Posset
trigger1 = !time
x = 0
y = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 150
value = 4252
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4252]
type    = S
movetype= A
physics = S
juggle  = 1
ctrl = 0
sprpriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5030+var(10)
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 12
value = 5060
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 12
value = 5060+var(10)
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = !time
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = -6
y = -1

[State 0, PosAdd]
type = Posset
trigger1 = !time
x = 0
y = -40

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,time = 575
value = 4253
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4253]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5030
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5030+var(10)
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 15

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 20
value = 4254
;--------------------------------------------------------------------------------
[Statedef 4254]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosAdd]
type = Posset
trigger1 = !time
x = 0
y = -400

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 10

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 40
value = 4320
;--------------------------------------------------------------------------------
; Tornado
[Statedef 4275]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 4210
sprpriority = 6

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 150
x = 0
y = 200

[State 0, VelSet]
type = VelSet
trigger1 = time != [0,30]
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
x = 0
y = 4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 150
scale = 0.005+time*0.005,0.005+time*0.005

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 150
scale = .7,.7

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1206
volume = 100

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 200
value = 4277
;--------------------------------------------------------------------------------
; Portal
[Statedef 4276]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 4220
sprpriority = 6

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 150
x = 0
y = 200

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 300
x = 0
y = -150

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
x = 0
y = 4

[State 0, VelSet]
type = VelSet
trigger1 = time != [0,30]
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time <= 150
scale = 0.005+time*0.005,0.005+time*0.005

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 150
scale = .65,.65

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 350
value = 4278
ctrl = 0
;--------------------------------------------------------------------------------
; Portal
[Statedef 4278]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
sprpriority = 6

[State 0, VelSet]
type = VelSet
trigger1 = 1
y = -2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .65-time*.05,.65-time*0.05

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 13
;--------------------------------------------------------------------------------
; Tornado
[Statedef 4277]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 4210
sprpriority = 6

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 250-(time*13),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .7+time*.05,.7

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 12
;--------------------------------------------------------------------------------
; Light Sonic 4
[Statedef 4300]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1500
ctrl = 0
velset = 0,0
anim = 4300

[State 0, RemapPal]
type = RemapPal
trigger1 = 1
source = 1,0
dest = 1,16
ignorehitpause = 1
persistent = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,34
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 250
value = S1,1405
volume = 999
;--------------------Cutscene---------------
[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9029
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = 300
scale = 999,999
sprpriority = 6
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 4372
ID = 4372
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 200
sprpriority = 7
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 200
anim = 4373
ID = 4373
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 50
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 250
anim = 13100
ID = 4373
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 50
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
vel = 20,0
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 250
anim = 900
ID = 900
postype = back
pos = 90,150
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1,1
vel = -.5,0
sprpriority = 6
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Estellas]
type = Explod
trigger1 = time = [250,270]
trigger1 = timemod = 12,0
anim = 651
ID = 650
postype = back
pos = 175,125
bindtime = -1
vel = 25,0
removetime = -2
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove = 9999
supermovetime = 9999
pausemove = 9999
pausemovetime = 9999
angle = 180
ignorehitpause = 1
persistent = 1

[State 0, Estellas]
type = Explod
trigger1 = time = [0,250]
trigger1 = timemod = 12,0
anim = 651
ID = 650
postype = back
pos = 150,200
bindtime = -1
vel = 0,0
removetime = 40
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = 90

[State 0, Explod]
type = Explod
trigger1 = time = 390
anim = 4191
ID = 4191
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 860
scale = 9,9
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Teleport]
type = Explod
trigger1 = time = 310
anim = 4330
ID = 345
pos = 150,150
postype = back
bindtime = -1
scale = 3*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = 4
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 0, Teleport]
type = Explod
trigger1 = time = 350
anim = 4330
ID = 345
pos = 150,90
postype = back
bindtime = -1
scale = 3*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = 4
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explod]
type = Explod
trigger1 = time = 350
anim = 4190
ID = 4190
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 450
scale = 1,1
sprpriority = 4
ontop = 0
pausemovetime = 700
ownpal = 1

[state 0, Explosion]
type = Explod
trigger1 = time = 390
anim = 3015
ID = 3015
postype = back
pos = 0,-0
bindtime = -1
supermove = 1
removetime = 160
sprpriority = 5
ontop = 0
ownpal = 1
scale = 2,.5
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 390
anim = 13100
ID = 13100
postype = back
pos = 100,125
bindtime = -1
supermove = 1
removetime = 160
vel = .5,0
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Estellas]
type = Explod
trigger1 = time = [390,550]
trigger1 = timemod = 12,0
anim = 651
ID = 650
postype = back
pos = 200+time%2,90
bindtime = -1
vel = 4,0
removetime = -2
scale = 1,1
sprpriority = 5
ownpal = 1
removeongethit = 1
supermove = 9999
supermovetime = 9999
pausemove = 9999
pausemovetime = 9999
angle = 180
ignorehitpause = 1
persistent = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 550
id = 650
ignorehitpause = 1
persistent = 1

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 590
anim = 3655
ID = 3655
pos = 0,-20
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 2,1
sprpriority = 6
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 590
anim = 9026
ID = 9026
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 9,9
sprpriority = 5
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[state 0, Explosion]
type = Explod
trigger1 = time = 590
anim = 4374
ID = 4374
postype = p2
pos = -25,0
facing = -1
bindtime = 1
supermove = 1
removetime = 90
vel = -.5,0
sprpriority = 8
ontop = 0
ownpal = 1
scale = 1.2,1.2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 660
anim = 13006
ID = 13006
postype = p2
pos = -50,0
facing = -1
bindtime = 1
supermove = 1
removetime = 240
vel = 0,0
sprpriority = 8
ontop = 0
ownpal = 1
scale = 1.2,1.2
ignorehitpause = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 610
anim = 4019
ID = 4019
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = -2
scale = 9,9
sprpriority = 10
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 720
anim = 4311
ID = 4311
pos = 0,-20
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explod]
type = Explod
trigger1 = time = [740,900]
trigger1 = timemod = 1,0
anim = 4330
ID = 4330
pos = 0,-10
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 2,1
sprpriority = 6
ownpal = 1
ontop = 1
angle = 0+random%180
persistent = 1
supermovetime = 999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 900
id = 4330
ignorehitpause = 1
persistent = 1

[state 0, Explosion]
type = Explod
trigger1 = time = 900
anim = 4375
ID = 4375
postype = back
pos = 400,100
vel = -7.5,0
facing = -1
bindtime = -1
supermove = 1
removetime = 20
sprpriority = 6
ontop = 0
ownpal = 1
scale = 7,7
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 920
anim = 4375
ID = 4375
postype = back
pos = 250,100
vel = 0,0
facing = -1
bindtime = -1
supermove = 1
removetime = 50
sprpriority = 6
ontop = 0
ownpal = 1
scale = 7,7
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 920||time = 1140
anim = 4310
ID = 4310
pos = 150,100
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 2.5,2.5
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explod]
type = Explod
trigger1 = time = 990
anim = 4350
ID = 4350
pos = 0,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 100
pausemovetime = 99999
supermovetime = 99999
scale = 1,1
sprpriority = 7
ownpal = 1
removeongethit = 0

[state 0, Explosion]
type = Explod
trigger1 = time = 1090
anim = 4375
ID = 4375
postype = back
pos = 250,100
vel = 0,0
facing = -1
bindtime = -1
supermove = 1
removetime = 50
sprpriority = 6
ontop = 0
ownpal = 1
scale = 7,7
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 1105
anim = 4311
ID = 4311
pos = 170,100
postype = back
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .75,.75
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[state 0, Explosion]
type = Explod
trigger1 = time = 1140
anim = 4376
ID = 4376
postype = back
pos = 250,100
vel = 0,0
facing = -1
bindtime = -1
supermove = 1
removetime = 50
sprpriority = 6
ontop = 0
ownpal = 1
scale = 7,7
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 1190
anim = 4351
ID = 4350
pos = 0,-20
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
removetime = -2
scale = 1,1
sprpriority = 6
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 1235
anim = 4311
ID = 4311
pos = 0,-20
postype = p2
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .5,.5
sprpriority = 7
ontop = 0
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999
;----------------------------------------------
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1190
value = S5,24
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1190
value = S5,24
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1190
value = S5,24
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 900
value = S5,2
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 900
value = S5,2
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 900
value = S5,2
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1235
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1235
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1235
value = S0,58
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1235
value = S0,58
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 720||time = 920||time = 1105
value = S5,74
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 720||time = 920||time = 1105
value = S5,74
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1140
value = S5,73
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1140
value = S5,73
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1140
value = S5,73
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [740,900]
trigger1 = timemod = 5,0
value = S1,1405
volume = 999

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = [740,900]
trigger1 = timemod = 5,0
value = S1,6004
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = [990,1090]
trigger1 = timemod = 3,0
value = S1,6001
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 360
value = S1,1406
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 360
value = S1,1406
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 310||time = 360
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 310||time = 360
value = S1,1405
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 590
value = S1,6005
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 590
value = S1,6005
volume = 100

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,300]
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [360,1250]
flag = nobardisplay
flag2 = noBG
flag3 = noFG
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 1250
value = 4301
ctrl = 1
;--------------------------------------------------------------------------
; Light Sonic 5
[Statedef 4301]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 4301

[State 0, Estellas]
type = Explod
trigger1 = timemod = 12,0
anim = 651
ID = 650
pos = 0,30
postype = p1
bindtime = -1
vel = 0,0
removetime = 35
scale = .4,.4
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = 90

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0 
value = 0
ctrl = 1
;--------------------------------------------------------------------------
; Light Sonic 1
[Statedef 4305]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= -1000
ctrl = 0
velset = 0,0
anim = 4305



[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 100
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 100
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 1220
ID = 7032
pos = 10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 100
anim = 7033
ID = 7033
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 100
value = S1,1405
volume = 999

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [100,150]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, VelSet]
type = VelSet
trigger1 = time = [100,150]
x = 22
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,69
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,69
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7030
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 100
movetime = 100
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 100
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7036
ID = 7036
pos = 3,29
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, Combo]
type = ChangeState
trigger1 = time >= 100 && p2bodydist x <= 40
value = 4306

[State 200, End]
type = ChangeState
trigger1 = Time = 150
value = 0
ctrl = 1
;--------------------------------------------------------------------------------
; Light Sonic 2
[Statedef 4306]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 10,0
poweradd= -500
ctrl = 0
anim = 4306
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 50
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 10,30
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
envshake.time = 10
kill = 0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 4350
trigger1 = !moveguarded
trigger1 = movecontact
value = 4350

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Teleport]
type = Explod
trigger1 = movehit
anim = 13261+(random%5)
ID = 345
pos = 0,-20
postype = p1
bindtime = -1
scale = 3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
sprpriority = -1
ownpal = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movehit && animTime = 0
value = 4307

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------------------------------
; Light Sonic 3
[Statedef 4307]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 10,0
poweradd= -500
ctrl = 0
anim = 4306
poweradd = 0
sprpriority = 2

[State 0, RemapPal]
type = RemapPal
triggerall = var(18) = 0||var(18) = 2
trigger1 = 1
source = 1,0
dest = 1,0
ignorehitpause = 1
persistent = 1

[State 0, Pause]
type = Pause
trigger1 = !time
time = 1850
movetime = 1850

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S180,59
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 450
value = S180,59
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 420
value = S5,73
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 420
value = S5,73
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 420
value = S5,73
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,67
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0||time = 150||time = 180||time = 210||time = 240||time = 270||time = 300||time = 330
value = S5,67
volume = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 150||time = 180||time = 210||time = 240||time = 270||time = 300||time = 330
anim = 9022
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

;--------------------Cutscene---------------
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4191
ID = 4191
pos = 0,0
postype = back  ;p2,front,back,left,right
removetime = 800
scale = 9,9
sprpriority = 4
ontop = 0
ownpal = 1
supermovetime = 999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 0
anim = 4370
ID = 4370
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 420
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[state 0, Explosion]
type = Explod
trigger1 = time = 420
anim = 4371
ID = 4371
postype = back
pos = 150,150
bindtime = -1
supermove = 1
removetime = 80
sprpriority = 6
ontop = 0
ownpal = 1
scale = 3,3
ignorehitpause = 1
removeongethit = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 877
ID = 870
pos = 275,175
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 150
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 878
ID = 870
pos = 50,175
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 180
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 879
ID = 870
pos = 160,200
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 210
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 880
ID = 870
pos = 0,125
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 240
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 6
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 881
ID = 870
pos = 300,125
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 270
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 6
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 882
ID = 870
pos = 75,65
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 350
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 883
ID = 870
pos = 225,65
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 350
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 150
anim = 890
ID = 870
pos = 275,175
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 350
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 180
anim = 890
ID = 870
pos = 50,175
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 320
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 210
anim = 890
ID = 870
pos = 160,200
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 290
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 7
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 240
anim = 890
ID = 870
pos = 0,125
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 260
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 6
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 270
anim = 890
ID = 870
pos = 300,125
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 230
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 6
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 300
anim = 890
ID = 870
pos = 75,65
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 200
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 330
anim = 890
ID = 870
pos = 225,65
postype = back  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 170
supermovetime = 9999
pausemovetime = 9999
scale = 2.9,2.9
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 200, End]
type = ChangeState
trigger1 = Time = 500
value = 4300
ctrl = 1
;--------------------------------------------------------------------------------
;Dano
[Statedef 4311]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 71220
poweradd = 0
sprpriority = 2

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = S, NA
damage = 25
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 5,150
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6001
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,-0
envshake.time = 5
envshake.ampl = -5
kill = 0
numhits = 25

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 100
;-----------------------------------------------------------------------
; Deleted
[Statedef 4320]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -99999999
kill = 1
absolute = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0,0
ignorehitpause = 1
persistent = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 5012
elem = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 0
trigger1 = animtime = 0
value = anim
elem = (animelemno(0))
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = Noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 9999
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time > 1
value = 5150
ctrl = 0
ignorehitpause = 1
;--------------------------------------------------------------------------------
[Statedef 4350]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -15
y = 0

[State 0, Pause]
type = Pause
trigger1 = enemy,stateno = 4307
time = 1350
movetime = 1350

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5000+var(10)
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = enemy,stateno != [4300,4307]
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 4300
trigger1 = enemy,time = 550
value = 4351
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4351]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 5

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, PosSet]
type = PosSet
trigger1 = 1
x = 0
y = -40

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 6
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 6+var(10)
ignorehitpause = 1

[State 200, End]
type = changestate
trigger1 = time = 40
value = 4352
ctrl = 1
;--------------------------------------------------------------------------------
[Statedef 4352]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = 0
value = 5000+var(10)
ignorehitpause = 1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,0
mul = 0,0,0
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 70
value = 4353
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4353]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 6

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [0,40]
value = 5006
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = [0,40]
value = 5006+var(10)
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [40,160]
value = 5000
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = time = [40,160]
value = 5000+var(10)
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 160
value = 4354
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4354]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = var(2) > 0
trigger1 = 1
value = 5006+var(10)
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5000
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = enemy,time = 970
value = 6
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,time = 1090
value = 4355
ctrl = 0
;--------------------------------------------------------------------------------
[Statedef 4355]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 0,0
ignorehitpause = 1
persistent = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = enemy,stateno = 4301
value = 4320
ctrl = 0
;--------------------------------------------------------------------------------