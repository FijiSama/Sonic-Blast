;===================================================================================
;----------------------------------- Skills ---------------------------------------;
;===================================================================================
;===============================================================================
; Choas Combo Start
;-------------------------------------------------------------------------------
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
poweradd = -500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,6

[State 0, VelSet]
type = VelSet
trigger1 = time = 30
x = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Heavy
damage    = 38
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
Fall = 0
Envshake.time = 5

[State 0, Water FX]
type = Explod
trigger1 = time = 41
anim = 225
ID = 225
pos = 15,25
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(1000) = 0
name = "Base Hit Spark"
ID = 1000
stateno = 8000
pos = 15,-22
postype = P1
facing = -1
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1

[State 200, Combo]
type = ChangeState
trigger1 = movehit && time = 50
value = 1001

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Choas Combo 1 Chaos Crush
[Statedef 1001]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1001
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,7
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6

[State 0, VelSet]
type = VelSet
trigger1 = time = 3
x = 0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = S5,2

[State 0,  Chaos Crush - Helper]
type = Helper
trigger1 = Time = 9
helpertype = normal
name = " Chaos Crush - Helper"
ID = 1010
stateno = 1010
pos = 35,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = helper(1010), movehit
value = 1002
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Choas Combo 2
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1002
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -2
y = -1.1

[State 0, VelSet]
type = VelSet
trigger1 = time = 25
x = 3
y = -4

[State 0,StateTypeSet]
type = StateTypeSet
trigger1 = time = 25
statetype = A
movetype = A
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 52
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 52
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 52
value = S5,2

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
damage    = 29
guardflag = MA
pausetime = 18,18
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = 0,6
air.velocity = 0,7
sprpriority = 2
Fall = 1
fall.recover = 0
envshake.time = 20

[State 0,FX]
type = Explod
trigger1 = time = 48
anim = 1012
ID = 1012
pos = 10,-0
postype = p1
scale = .3,.3
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Water FX]
type = Explod
trigger1 = time = 25
anim = 225
ID = 225
pos = 5,25
postype = p1
scale = .8,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, FX]
type = Helper
trigger1 = Time = 25
helpertype = normal
name = "FX"
ID = 1011
stateno = 1011
pos = -75,210
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1
size.yscale = .22

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(1002) = 0
name = "Base Hit Spark"
ID = 1002
stateno = 8000
pos = 15,-22
postype = P1
facing = -1
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1

[State 0, Viento]
type = Explod
trigger1 = time = 25
anim = 7022
ID = 1051
pos = -15,8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------
; Chaos Crush - Helper
[Statedef 1010]
type = S
movetype = A
physics = N
anim = 1010
ctrl = 0
sprpriority = 3

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark"
ID = 345
stateno = 8000
pos = 0,-10
postype = P1
facing = -1
ownpal = 1
size.xscale = .13
size.yscale = .13
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF
priority = 3,Hit
guardflag = MA
animtype = Medium
damage    = 24
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 25
ground.velocity =-1,-10
air.velocity =-1,-10
fall = 1
envshake.time = 15
envshake.ampl = -4

[state End]
type = destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; FX
[Statedef 1011]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1011
sprpriority = 3


[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = -75,210

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 65

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 0+time*.1,0+time*.1

[State 0,VarSet]
type = VarSet
trigger1 = !Time
v = 1
value = 0

[State 0,VarAdd]
type = VarAdd
trigger1 = time >5
v = 1
value = 20

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[state End]
type = destroyself
trigger1 = animtime = 0

;===============================================================================
; Chaos Strike
;-------------------------------------------------------------------------------
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1100
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-30
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 34
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 34
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 34
value = S0,8

[State 0,Chaos Strike FX]
type = Helper
triggerall = timemod = 6,0
triggerall = time >= 32
trigger1 = time <90
helpertype = normal
name = "Chaos Strike FX"
ID = 1110
stateno = 1110
pos = 0,-30
postype = p1
ownpal = 1
size.xscale = .115
size.yscale = .115
supermovetime = 999

[State 0,Chaos Strike - Helper]
type = Helper
triggerall = timemod = 8,0
triggerall = time >= 32
trigger1 = time <90
helpertype = normal
name = "Chaos Strike - Helper"
ID = 1150
stateno = 1150
pos = 0,-30
postype = p1
ownpal = 1
supermovetime = 999

[State 0,ChangeAnim]
type = ChangeAnim
triggerall = time > 32
trigger1 = time < 90 && timemod = 10,0
value = 1100
elem = 4

[State 200,End]
type = ChangeState
trigger1 = time = 110
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Strike FX
[Statedef 1110]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1110
sprpriority = 6

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
scale=1+time*.55,1+time*.55
ignorehitpause=1

[State 0,VarSet]
type = VarSet
trigger1 = !Time
v = 1
value = 0

[State 0,VarAdd]
type = VarAdd
trigger1 = time >5
v = 1
value = 20

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200,End]
type = Destroyself
trigger1 = var(1)>=256
;-------------------------------------------------------------------------------
; Chaos Strike FX
[Statedef 1111]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1111
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15

[State 0,AngleDraw]
type=AngleDraw
trigger1=1
scale=1-time*.55,1-time*.55
ignorehitpause=1

[State 0,VarSet]
type = VarSet
trigger1 = !Time
v = 1
value = 0

[State 0,VarAdd]
type = VarAdd
trigger1 = time >5
v = 1
value = 20

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200,End]
type = Destroyself
trigger1 = var(1)>=256

;-------------------------------------------------------------------------------
; Chaos Strike - Helper
[Statedef 1150]
type = S
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1150
sprpriority = 3

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0,Chaos Strike FX]
type = Helper
trigger1 = movecontact
helpertype = normal
name = "Chaos Strike FX"
ID = 1111
stateno = 1111
pos = 0,-10
postype = p2
ownpal = 1
size.xscale = .115
size.yscale = .115
supermovetime = 999

[State 200,1]
type = HitDef
triggerall =! movecontact
Trigger1 = 1
attr = S,SA
animtype = Medium
damage  =12,50
Hitflag = MAFDE
guardflag = MA
pausetime = 0,50
sparkno  =-1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -2,0
air.velocity = -2,0
Givepower = -50
sprpriority=3

[State 200,End]
type=Destroyself
trigger1=!AnimTime

;===============================================================================
; Chaos 1 Transform Start
;-------------------------------------------------------------------------------
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = -1500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Chaos 1 Activado]
type = Helper
trigger1 = time = 210
helpertype = Normal
name = "Chaos 1 Activado"
ID = 1290
stateno = 1290
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Purple Emerald]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "Purple Emerald"
ID = 1210
stateno = 1210
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Transform FX]
type = Helper
trigger1 = time = 107
helpertype = normal
name = "Transform FX"
ID = 1220
stateno = 1220
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .4
supermovetime = 999

[State 0, FX]
type = Helper
trigger1 = time = 87
name = "FX"
ID = 1230
stateno = 1230
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 70

[State 0,FX]
type = Explod
trigger1 = time >= 87 && timemod = 10,0
anim = 225
ID = 225
pos = 0,15
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 210
value = 1201
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 1
[Statedef 1201]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1201
sprpriority = 5

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >= 0
value = 3

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20

[State 0, VelSet]
type = VelSet
triggerall = anim != 1205
triggerall = anim != 1204
trigger1 = command = "holdfwd"
x = 2
[State 0, VelSet]
type = VelSet
triggerall = anim != 1205
triggerall = anim != 1204
trigger1 = command = "holdback"
x = -2
[State 0, VelSet]
type = VelSet
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
x = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1205
triggerall = anim != 1204
trigger1 = vel x = 0
value = 1201 
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1205
triggerall = anim != 1204
triggerall = anim != 1202
trigger1 = vel x > 0
value = 1202
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1205
triggerall = anim != 1204
triggerall = anim != 1203
trigger1 = vel x < 0
value = 1203

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1205
triggerall = anim = 1204
trigger1 =  animtime = 0
value = 1201

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1204
triggerall = anim = 1205
trigger1 =  animtime = 0
value = 1201

[State 0,  Chaos Crush - Helper]
type = Helper
triggerall = power >= 200
trigger1 =  command = "a" && Timemod = 1,0
helpertype = normal
name = " Chaos Crush - Helper"
ID = 1240
stateno = 1240
pos = 0,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0,  spout - Helper]
type = Helper
triggerall = power >= 200
trigger1 =  command = "b" && Timemod = 1,0
helpertype = normal
name = " spout - Helper"
ID = 1250
stateno = 1250
pos = 35,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0,  Chaos Crush - Helper]
type = Helper
triggerall = power >= 100
trigger1 =  command = "c" && Timemod = 1,0
helpertype = normal
name = " Chaos Crush - Helper"
ID = 1260
stateno = 1260
pos = 0,-15
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0,FX]
type=Explod
trigger1 = timemod = 12,0
anim = 560
ID = 560
postype=p1
pos = (-10+Random%20),(-10-Random%40)
scale = .3,.3
facing = 1
bindtime = 5
removetime = -2
sprpriority  =1
ontop = 1+Random%0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
SuperMoveTime = 99999
PauseMoveTime = 99999
Trans = AddAlpha
Alpha = 206,256

[State 0, ChangeState]
type = ChangeState
trigger1 = ailevel = 0 && command = "up"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1204
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = numhelper(1290) = 0
value = 1280
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 1 - Jump
[Statedef 1204]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1204
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = 10,8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = 4

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = -4

[State 0, ChangeState]
type = ChangeState
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1207
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1208
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1205
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 1 - Down
[Statedef 1205]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1205
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 8

[State 200, End]
type = ChangeState
trigger1 = pos y >= -5
value = 1206

;-------------------------------------------------------------------------------
; Chaos 1 - Land
[Statedef 1206]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1206
poweradd = 0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999

[State 0,FX]
type = Explod
trigger1 = time = 0
anim = 225
ID = 225
pos = 0,20
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1201
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = numhelper(1290) = 0
value = 1280
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 1 - Air crush
[Statedef 1207]
type    = A
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1207
poweradd = 50
velset = 0,0
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = 0.5
y = -0.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 0, crush - Helper]
type = Helper
trigger1 = Time = 13
name = "crush - Helper"
ID = 1212
stateno = 1212
pos = 0,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale =1.2
size.yscale = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1205
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 1 - Down Attacks
[Statedef 1208]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1208
sprpriority = 5

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,3
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,3
volumescale = 100

[State 0, Teleport]
type = Helper
trigger1 = time = 0
name = "Teleport"
ID = 580
stateno = 580
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 200, End]
type = ChangeState
trigger1 = pos y >= -2
value = 1209
;-------------------------------------------------------------------------------
; Chaos 1 - Down Attacks Fin
[Statedef 1209]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1209
velset = 0,0
sprpriority = 2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, FX]
type = Explod
trigger1 = time = 0
anim = 8240
ID = 8240
pos = 0,0
postype = p1
scale = .5,.5
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8230
ID = 8230
pos = 0,26
postype = p1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Rocas Volando]
type = Helper
triggerall = timemod = 2,0
trigger1 = time = [0,10] 
name = "Rocas Volando"
ID = 950
stateno = 950
pos = 0,20
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, ST
Hitflag = MAFDE
animtype  = Heavy
damage    = 20
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S2,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-5
air.velocity = -3,-5
Fall = 1
Envshake.time = 20

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(616) = 0
name = "Base Hit Spark"
ID = 621
stateno = 8000
pos = 0,0
postype = P1
facing = -1
ownpal = 1
size.xscale = .14
size.yscale = .14
ignorehitpause = 1

[State 0, Water FX]
type = Explod
trigger1 = time = 0
anim = 225
ID = 225
pos = 0,25
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1201
ctrl = 0

;-------------------------------------------------------------------------------
; crush - Helper
[statedef 1212]
type = S
movetype = A
physics = N
anim = 1212
ctrl = 0
velset = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .0+time*.1,.1+time*.1

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 8,-4

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark"
ID = 345
stateno = 8000
pos = 0,18
postype = P1
facing = -1
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Heavy
damage    = 25
guardflag = MA
pausetime = 1,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,7
air.velocity = -1,8
Fall = 1
Envshake.time = 20

[State 200,End]
type = Destroyself
trigger1 = root,stateno != 1207
trigger2 = time = 29
;-------------------------------------------------------------------------------
; Purple Emerald
[Statedef 1210]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 825
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = [30,50]
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 90
;-------------------------------------------------------------------------------
; Transform FX
[Statedef 1220]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1220
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-15

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1200
trigger2 = root,movetype = H
trigger3 = root,animelem = 10
;-------------------------------------------------------------------------------
; FX
[Statedef 1230]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1230
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = .1+time*.035,.1+time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 30
scale = 1+fvar(1),1+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1200

[State 200, End]
type = ChangeState
trigger1 = time = 226
value = 1231
;-------------------------------------------------------------------------------
; FX End
[Statedef 1231]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1230
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-15

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Chaos Crush - Helper
[Statedef 1240]
type = S
movetype = A
physics = N
anim = 1010
ctrl = 0
poweradd = -200
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 4
pos = 2,-20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 50

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark"
ID = 345
stateno = 8000
pos = 0,-10
postype = P1
facing = -1
ownpal = 1
size.xscale = .13
size.yscale = .13
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF
priority = 3,Hit
guardflag = MA
animtype = Medium
damage    = 6
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 5
ground.velocity =-7,-2
air.velocity =-7,-2
fall = 0
envshake.time = 15
envshake.ampl = -4

[state End]
type = destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; spout - Helper
[Statedef 1250]
type = S
movetype = A
physics = N
anim = 1250
ctrl = 0
poweradd = -200
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,3
volume = 50

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark"
ID = 345
stateno = 8000
pos = 0,-10
postype = P1
facing = -1
ownpal = 1
size.xscale = .13
size.yscale = .13
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = !MoveContact
attr = S,SP
hitflag = MAF
priority = 3,Hit
guardflag = MA
animtype = Medium
damage    = 8
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 5
ground.velocity =-2,-7
air.velocity =-2,-7
fall = 0
envshake.time = 15
envshake.ampl = -4

[State 200, End]
type = Changestate
trigger1 = time = 14
value = 1251
;-------------------------------------------------------------------------------
; spout - Fin
[Statedef 1251]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.1,1-time*.1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Shot - Helper
[Statedef 1260]
type    = A
movetype= A
physics = N
anim = 406
ctrl = 0
poweradd = -100
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -1-time*3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,42
volume = 50

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add     ;None, Add, AddAlpha, Add1, Sub

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1-random%7
y = -2-random%-7

[State 0, VelSet]
type = VelSet
trigger1 = time = 8
y = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 5
y = 3

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1
name = "Base Hit Spark"
ID = 345
stateno = 8000
pos = 0,-10
postype = P1
facing = -1
ownpal = 1
size.xscale = .13
size.yscale = .13
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = !MoveContact
attr = S,NA
hitflag = MAF
priority = 3,Hit
guardflag = MA
animtype = Medium
damage    = 12
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime = 8
ground.velocity =-5,-2
air.velocity =-5,-2
fall = 0
envshake.time = 15
envshake.ampl = -4

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 500
trigger4 = pos y >= -0
value = 1261
;-------------------------------------------------------------------------------
; Shot - Fin
[Statedef 1261]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
anim = 410
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.1,1-time*.1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Chaos 1 - Fin
[Statedef 1280]
type    = A
movetype= I
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1280
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 999

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 256,256,256 
;256,256,256
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S60,2
volume = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,11
volume = 100

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 1 - Activado
[Statedef 1290]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = time = 1200

;===============================================================================
; Choas 2 Transform
;-------------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = -2000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S0,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S0,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S0,15
volume = 999

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Chaos 2 Activado]
type = Helper
trigger1 = time = 200
helpertype = Normal
name = "Chaos 1 Activado"
ID = 1390
stateno = 1390
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Purple Emerald]
type = Helper
trigger1 = time = 34
helpertype = normal
name = "Purple Emerald"
ID = 1315
stateno = 1315
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Purple Emerald]
type = Helper
trigger1 = time = 34
helpertype = normal
name = "White Emerald"
ID = 1316
stateno = 1316
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [34,150]
value = 1300
elem = 4

[State 0, Transform FX]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "Transform FX"
ID = 1320
stateno = 1320
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermovetime = 999

[State 0, FX]
type = Helper
trigger1 = time = 80
name = "FX"
ID = 1330
stateno = 1330
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .1
Supermovetime = 70

[State 0,FX]
type = Explod
trigger1 = time >= 87 && timemod = 10,0
anim = 225
ID = 225
pos = 0,15
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 250
value = 1301
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2
[Statedef 1301]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1301
sprpriority = 5

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >= 0
value = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Turn]
type = Turn
trigger1 = p2bodydist x < -20

[State 0, VelSet]
type = VelSet
triggerall = anim != 1305
triggerall = anim != 1304
trigger1 = command = "holdfwd"
x = 2
[State 0, VelSet]
type = VelSet
triggerall = anim != 1305
triggerall = anim != 1304
trigger1 = command = "holdback"
x = -2
[State 0, VelSet]
type = VelSet
trigger1 = command != "holdback"
trigger1 = command != "holdfwd"
x = 0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1305
triggerall = anim != 1304
trigger1 = vel x = 0
value = 1301 
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1305
triggerall = anim != 1304
triggerall = anim != 1302
trigger1 = vel x > 0
value = 1302
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1305
triggerall = anim != 1304
triggerall = anim != 1303
trigger1 = vel x < 0
value = 1303

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1305
triggerall = anim = 1304
trigger1 =  animtime = 0
value = 1301

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1304
triggerall = anim = 1305
trigger1 =  animtime = 0
value = 1301

[State 0, ChangeState]
type = ChangeState
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1307
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1308
ctrl = 1

[State 0, ChangeState]
type = ChangeState
triggerall = power >= 500
trigger1 = ailevel = 0 && command = "c"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1312
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = ailevel = 0 && command = "up"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1304
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = numhelper(1390) = 0
value = 1380
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2 - Jump
[Statedef 1304]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1304
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -15,8
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = 10,8
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.6
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = -5

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdfwd"
x = 4

[State 0, VelSet]
type = VelSet
trigger1 = command = "holdback"
x = -4

[State 0, ChangeState]
type = ChangeState
triggerall = power >= 200
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/6 && p2bodydist x < 20
value = 1310
ctrl = 1

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 2 - Down
[Statedef 1305]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1305
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 8

[State 200, End]
type = ChangeState
trigger1 = pos y >= -0
value = 1306

;-------------------------------------------------------------------------------
; Chaos 2 - Land
[Statedef 1306]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1306
poweradd = 0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, FX]
type = Explod
trigger1 = time = 0
anim = 8240
ID = 8240
pos = 0,0
postype = p1
scale = .5,.5
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8230
ID = 8230
pos = 0,26
postype = p1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0,FX]
type = Explod
trigger1 = time = 0
anim = 225
ID = 225
pos = 0,25
postype = p1
scale = .6,.6
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = numhelper(1390) = 0
value = 1380
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2 - A
;-------------------------------------------------------------------------------
[Statedef 1307]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1307
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 0.2

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S0,2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 18
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4,-1
Fall = 1
Envshake.time = 10

[State 0, FX Kick And Punch]
type = Explod
trigger1 = time = 20
anim = 1315
ID = 1315
pos = 40,-20
postype = p1
bindtime = -1
scale = .5,.5
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausetime = 999
movetime = 999

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2 - B
;-------------------------------------------------------------------------------
[Statedef 1308]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1308
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 0.5

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,2

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 11
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-6
air.velocity = -3,-6
Fall = 1
Envshake.time = 10

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 1309

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2 - B Shot
[Statedef 1309]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1309
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = 0.5

[State 0, VelSet]
type = Veladd
trigger1 = movecontact = 1
x = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,2

[State 0, Shot - Helper]
type = Helper
trigger1 = time = 24
name = "Shot - Helper"
ID = 1350
stateno = 1350
pos = 65,-16
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .7
size.yscale = .3

[State 0, Shot - Helper]
type = Helper
trigger1 = time = 30
name = "Shot - Helper"
ID = 1350
stateno = 1350
pos = 62,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .7
size.yscale = .3

[State 0, Shot - Helper]
type = Helper
trigger1 = time = 38
name = "Shot - Helper"
ID = 1350
stateno = 1350
pos = 68,-28
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .7
size.yscale = .3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [24,80]
value = 1309
elem = 4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2 - Down Attacks
[Statedef 1310]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1310
poweradd = -200
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,3
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S40,3
volumescale = 100

[State 0, Teleport]
type = Helper
trigger1 = time = 0
name = "Teleport"
ID = 580
stateno = 580
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 200, End]
type = ChangeState
trigger1 = pos y >= -0
value = 1311
;-------------------------------------------------------------------------------
; Chaos 2 - Down Attacks Fin
[Statedef 1311]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1311
velset = 0,0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, FX]
type = Explod
trigger1 = time = 0
anim = 8240
ID = 8240
pos = 0,0
postype = p1
scale = .7,.5
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Humo]
type = Explod
trigger1 = time = 0
anim = 8230
ID = 8230
pos = 0,26
postype = p1
scale = .4,.4
sprpriority = 2
ontop = 1
ownpal = 1

[State 0, Rocas Volando]
type = Helper
triggerall = timemod = 2,0
trigger1 = time = [0,10] 
name = "Rocas Volando"
ID = 950
stateno = 950
pos = 0,20
postype = p1
facing = -1
keyctrl = 0
ownpal = 1
size.xscale = .5
size.yscale = .5

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, ST
Hitflag = MAFDE
animtype  = Heavy
damage    = 48
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S2,4
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-8
air.velocity = -3,-8
Fall = 1
Envshake.time = 20

[State 0, Onda Adelante]
type = Helper
trigger1 = time = [0,60]
trigger1 = timemod = 5,0
helpertype = normal
name = "Onda Adelante"
ID = 1335
stateno = 1335
pos = 0,25
postype = p1
ownpal = 1
Size.Xscale = .7
Size.Yscale = .7

[State 0, Onda Atras]
type = Helper
trigger1 = time = [0,60]
trigger1 = timemod = 5,0
helpertype = normal
name = "Onda Atras"
ID = 1335
stateno = 1335
pos = 0,25
postype = p1
ownpal = 1
Size.Xscale = .7
Size.Yscale = .7
Facing = -1

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Water FX]
type = Explod
trigger1 = time = 0
anim = 225
ID = 225
pos = 0,30
postype = p1
scale = .8,.8
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1301
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 2 - Squash Roll Attack
[Statedef 1312]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1312
poweradd = -500
velset = 0,0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype  = Heavy
damage    = 20,10
guardflag = MA
pausetime = 5,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
Getpower = 0,0
Envshake.time = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 70
statetype = A
movetype = A
physics = N

[State 0, VelSet]
type = VelSet
trigger1 = time = 70
x = 10
y = -20

[State 0, ScreenBound]
type = ScreenBound
trigger1 = time > 70
value = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 70 && pos y < -200
x = -20+random%40
y = 20

[State 0, VelSet]
type = VelSet
trigger1 = time > 70 && pos y >= -5
x = -20+random%40
y = -20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 70 && pos y >= -5
trigger2 = time > 70 && pos y < -200
value = 0
scale = 1.3,.7
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 70 && backedgebodydist < 0
x = 20
y = -20+random%40

[State 0, VelSet]
type = VelSet
trigger1 = time > 70 && frontedgebodydist < 0
x = -20
y = -20+random%40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 70 && backedgebodydist < 0
trigger2 = time > 70 && frontedgebodydist < 0
value = 0
scale = .7,1.3
ignorehitpause = 1

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = time > 70 && pos y >= -5
trigger2 = time > 70 && pos y < -200
trigger3 = time > 70 && backedgebodydist < 0
trigger4 = time > 70 && frontedgebodydist < 0
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 70 && pos y >= -5
trigger2 = time > 70 && pos y < -200
trigger3 = time > 70 && backedgebodydist < 0
trigger4 = time > 70 && frontedgebodydist < 0
time = 5
ampl = -2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 70 && pos y >= -5
trigger2 = time > 70 && pos y < -200
trigger3 = time > 70 && backedgebodydist < 0
trigger4 = time > 70 && frontedgebodydist < 0
value = S0,2
volume = 50
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 70
value = 0

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Squash Roll]
type = Helper
trigger1 = time = 19
helpertype = normal
name = "Squash Roll"
ID = 1325
stateno = 1325
pos = 0,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, VelSet]
type = VelSet
trigger1 = time = 300
y = -6
x = ifelse(vel x >= 0,6,-6)

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time = 70 && timemod = 15,0
anim = 7022
ID = 550
pos = -17,40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = time = 70 && timemod = 15,0
anim = 7022
ID = 550
pos = 17,40
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = time = 300 
value = 1313
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 2 - Marble Attack
[Statedef 1313]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1313
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = pos Y>= 0
trigger2 = time >= 0
y = 1

[State 0, partially]
type = Helper
trigger1 = timemod = 2,0
helpertype = normal
name = "partially"
ID = 1322
stateno = 1322
pos = 0,-15
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200, End]
type = ChangeState
trigger1 = time = 40
value = 1314
;-------------------------------------------------------------------------------
; Chaos 2 -  Particles Reform
[Statedef 1314]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1314
poweradd = 0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,15
volume = 999

[State 0, Particles Reform]
type = Helper
triggerall = timemod = 2,0
trigger1 = time = [0,40]
name = "Particles Reform"
ID = 1324
stateno = 1324
pos = -40+random%80,-20-random%30
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1305
ctrl = 0

[State 200, End]
type = ChangeState
trigger1 = numhelper(1390) = 0
value = 1380
ctrl = 0

;-------------------------------------------------------------------------------
; Purple Emerald
[Statedef 1315]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 825
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
y = -2
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,50]
y = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 5
x = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 90
;-------------------------------------------------------------------------------
; White Emerald
[Statedef 1316]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 826
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
y = -2
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,50]
y = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 6
x = -6

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 90
;-------------------------------------------------------------------------------
; Transform FX
[Statedef 1320]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1320
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .0+time*.1,.1+time*.1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,15

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = ChangeState
trigger1 = root,stateno != 1300
trigger2 = root,movetype = H
trigger3 = root,animelem = 23
value = 1321
;-------------------------------------------------------------------------------
; FX End
[Statedef 1321]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 180-time*9,256

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Particles
[Statedef 1322]
type    = A
movetype= I
physics = A
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2+random%5
y = -4-random%4

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 3
value = ifelse(vel x >= 0,-10-random%5,10+random%5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = random%4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[state 251 1]
Type = hitdef
Trigger1 = 1
attr = a, Sp
animtype  = hard
damage    =  2,3
hitflag = MAF
guardflag = MA
pausetime = 0
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = s1,2
guardsound = s4,0
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
air.velocity = 0
guard.velocity = 0
airguard.velocity = 0
guard.kill = 0
envshake.time = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 1322
elem = var(2)

[State 200, End]
type = Changestate
trigger1 = time > 5 && pos y >= -10
value = 1323
;-------------------------------------------------------------------------------
; Particles Fin
[Statedef 1323]
type    = S
movetype= I
physics = S
anim = 1323

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.2 

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-var(1),0+var(1)

[State 200, End]
type = Destroyself
trigger1 = var(1) >= 256
;-------------------------------------------------------------------------------
; Balls Particles
[Statedef 1324]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1322
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = rootdist x /60
y = rootdist y /80

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.03,1-time*.03

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = 12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = rootdist x = [-5,5]
;-------------------------------------------------------------------------------
; Squash Roll
[Statedef 1325]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1325
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 10,-20

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 10
fv = 1
value = .15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 4+fvar(1),4+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = ChangeState
trigger1 = root,stateno != 1312
value = 1326
;-------------------------------------------------------------------------------
; Squash Roll End
[Statedef 1326]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1326

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 180-time*9,256

[State 200, End]
type = Destroyself
trigger1 = time = 30

;-------------------------------------------------------------------------------
; FX
[Statedef 1330]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1330
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-18

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 10
fv = 1
value = .15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 5+fvar(1),5+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1300

[State 200, End]
type = ChangeState
trigger1 = time = 140
value = 1331
;-------------------------------------------------------------------------------
; FX End
[Statedef 1331]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1330

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 180-time*9,256

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Onda
[Statedef 1335]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1335
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 6

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S4,22
volume = 50

[State 200, 1]
type = HitDef
Triggerall = hitcount < 5
triggerall = !moveguarded
trigger1 = timemod = 2,0
attr = S, NP
animtype  = Heavy
damage    = 10
guardflag = MA
pausetime = 10,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,23
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 1
Envshake.time = 20
Sprpriority = 3

[State 0, Roto]
type = Explod
trigger1 = timemod = 5,0
anim = 8241
ID = 8241
pos = 60,0
postype = p1
scale = .5,.5
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Rocas]
type = Helper
trigger1 = timemod = 5,0
helpertype = normal
name = "Rocas"
ID = 1337
stateno = 1337
pos = 60,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 20
value = 1336
;-------------------------------------------------------------------------------
; Onda Fin
[Statedef 1336]
type    = S
movetype= A
physics = N
juggle  = 1
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*13,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = .95

[State 200, End]
type = Destroyself
trigger1 = time >= 20
;-------------------------------------------------------------------------------
; Rocas
[Statedef 1337]
type    = A
movetype= I
physics = A
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2+random%5
y = -4-random%4

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 3
value = ifelse(vel x >= 0,-10-random%5,10+random%5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = random%4

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 6080
elem = var(2)

[State 200, End]
type = Changestate
trigger1 = time > 5 && pos y >= -10
value = 1338
;-------------------------------------------------------------------------------
; Rocas Fin
[Statedef 1338]
type    = S
movetype= I
physics = S

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-var(1),0+var(1)

[State 200, End]
type = Destroyself
trigger1 = var(1) >= 256

;-------------------------------------------------------------------------------
; FX - Lanzar
[Statedef 1340]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1340
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -90

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Shot - Helper
[Statedef 1350]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1350
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 5
scale = .1+time*.0,.1+time*.0

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, Shot - Lanzar]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Shot - Lanzar"
ID = 1340
stateno = 1340
pos = 0,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 5+Random%8

[State 606, 2]
type = HitDef
trigger1 = time = 0
attr = S, SP
damage    = 20,20
animtype  = up
hitflag = MAF
guardflag = MA
pausetime = 0,0
sparkxy = 0,-10
guard.sparkno = s7000
hitsound   = s1,1
guardsound = 6,0
ground.type = high
ground.slidetime = 4
ground.hittime  = 15
ground.velocity = -4,-4
air.velocity = -1.3,-4
down.velocity = -1.3,3
down.hittime = 20
air.fall = 1
fall = 1
getpower = ifelse(parent,var(20) > 0, 150,70),0
givepower = 0,ifelse(parent,var(20) > 0, 300,70)

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 500
trigger4 = pos y >= -0
value = 1360
;-------------------------------------------------------------------------------
; Shot - Explosion
[Statedef 1360]
type    = S
movetype= A
physics = N
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, Shot - Explosion FXADD]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Shott - Explosion FXADD"
ID = 1370
stateno = 1370
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
; Shot - Explosion FXADD
[Statedef 1370]
type = A
movetype = I
physics = N
anim = 1370
sprpriority = 4

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime

;-------------------------------------------------------------------------------
; Chaos 2  - Fin
[Statedef 1380]
type    = A
movetype= I
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1380
poweradd = 0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999

[State 5201, 5] ;Blink white
type = PalFX
trigger1 = Time = 0
time = 3
add = 256,256,256 
;256,256,256
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S60,2
volume = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,11
volume = 100

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 2 - Activado
[Statedef 1390]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 200, End]
type = Destroyself
trigger1 = time = 1300

;===============================================================================
; Chaos Charge Start
;-------------------------------------------------------------------------------
[Statedef 1400]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -1000
sprpriority = 4

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,66
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S5,66

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, FX]
type = Helper
trigger1 = time >= 30 && timemod = 7,0
name = "FX - Charge"
ID = 1420
stateno = 1420
pos = 0,13
postype = p1
ownpal = 1
size.xscale = .3
size.yscale = .3
Supermovetime = 70

[State 0, Water FX]
type = Explod
trigger1 = time >= 30 && timemod = 20,0
anim = 225
ID = 225
pos = 2,25
postype = p1
scale = .8,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 0,FX]
type = Explod
trigger1 = time >= 30 && timemod = 10,0
anim = 1012
ID = 1012
pos = 0,-15
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 60
value = 1401
;-------------------------------------------------------------------------------
; Chaos Charge
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1401
poweradd = -1000
sprpriority = 3

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Honda FX]
type = Explod
TriggerAll = NumExplod(450)=0
trigger1 = AnimElem = 4
anim = 450
ID = 450
postype = p1
pos = 20,-25
scale = .225,.225
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Speed FX]
type = Explod
trigger1 = AnimElem = 4
anim = 580
ID = 001
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .6,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90

[State 0, Dust FX]
type = Explod
TriggerAll = !Movecontact
TriggerAll = Time = [30,45]
Trigger1 = TimeMod = 3,0
anim = 7022
ID = 1051
pos = 5,1
scale = .25,.35
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
vel = -.5,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S40,3
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 4
value = S40,3
volumescale = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 14
value = S5,52
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 14
value = S5,52

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
y = -0.5

[State 0, VelSet]
type = VelSet
trigger1 = time >= 14
x = 15
y = -0

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 14
time = 20
ampl = -4

[State 0, Speed FX]
type = Explod
trigger1 = timemod = 2,0 && time >= 14
ID = 580
anim = 580
pos = -10+random%30,-5-random%40
postype = p1
facing = -1
ownpal = 1
scale = .5,.2
bindtime = 1
ignorehitpause = 1
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
Ignorehitpause = 1
trans = sub
angle = 90

[State 0, FX]
type = Helper
trigger1 = timemod = 45,0 && time >= 0
name = "FX - Charge"
ID = 1430
stateno = 1430
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5
Supermovetime = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S5,51
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S5,51

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 32
value = S0,15+random%2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, ST
Hitflag = MAFDE
animtype  = Heavy
damage    = 0
guardflag = MA
pausetime = 4,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 0
Getpower = 0,0
Envshake.time = 5
P1stateno = 1402
P2stateno = 1405

[State 200, End]
type = ChangeState
trigger1 = time = 45
trigger2 = moveguarded
value = 1407
;-------------------------------------------------------------------------------
; Chaos Charge Hacia la Pared
[Statedef 1402]
type    = A
movetype= A
physics = N
juggle  = 1
ctrl = 0
sprpriority = -1

[State 0, FX]
type = Helper
trigger1 = timemod = 6,0 && time >= 0
name = "FX - Charge"
ID = 1430
stateno = 1430
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5
Supermovetime = 70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,52
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,52

[State 0, Speed FX]
type = Explod
trigger1 = timemod = 2,0
ID = 580
anim = 580
pos = -10+random%30,-5-random%40
postype = p1
facing = -1
ownpal = 1
scale = .5,.2
bindtime = 1
ignorehitpause = 1
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
Ignorehitpause = 1
trans = sub
angle = 90

[State 0, Explod]
type = Explod
trigger1 = timemod = 2,0
anim = 7022
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
pos = 7,-5

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < 5
value = 1403
;-------------------------------------------------------------------------------
; Chaos Charge - Golpe
[Statedef 1403]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1403
sprpriority = 3

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -15

[State 0, Turn]
type = Turn
trigger1 = time = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = 4
y = -3

[State 0, VelSet]
type = VelSet
trigger1 = time = 22
x = 1
y = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1430

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 580

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 45
ampl = -12

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,19

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, Base Hit Spark]
type = Helper
Triggerall = time >= 0
trigger1 = movehit = 1 && numhelper(8000) = 0
name = "Base Hit Spark"
ID = 8000
stateno = 8000
pos = 32,-32
postype = P1
facing = -1
ownpal = 1
size.xscale = .23
size.yscale = .23
ignorehitpause = 1
persistent = 0

[State 200, End]
type = ChangeState
triggerall = time >= 32
trigger1 = pos y > -0
value = 1404
;-------------------------------------------------------------------------------
; Chaos Charge - Fin
[Statedef 1404]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1404
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 16
x = 0.5

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Charge - P2 Stun
[Statedef 1405]
type    = S
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2
Facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5040+Cond(authorname = "Mikel8888"||authorname = "Rivelio"||authorname = "Knightmare"||authorname = "InSeph",var(10),0)
elem = 2

[State 200, End]
type = Changestate
trigger1 = enemy,stateno = 1407
trigger2 = enemy,stateno != [1401,1402]
value = 1406
;-------------------------------------------------------------------------------
; Chaos Charge - P2 Stund End
[Statedef 1406]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2
Facep2 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = -16
y = -3

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -180

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5051
elem = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = Selfstate
trigger1 = time >= 40
value = 5050
;-------------------------------------------------------------------------------
; Chaos Charge - Fin
[Statedef 1407]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1407
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1230

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; FX
[Statedef 1420]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1420
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 1+time*.1,0+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; FX
[Statedef 1430]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1430
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = -90,-30

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Chaos Charge - P2 in Wall
[Statedef 1470]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, Rocks]
type = Helper
trigger1 = time = 0
name = "Rocks"
ID = 952
stateno = 952
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = .7

[State 0, Rocks]
type = Helper
trigger1 = time = 0
name = "Rocks"
ID = 952
stateno = 952
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = .7

[State 0, Rocks]
type = Helper
trigger1 = time = 0
name = "Rocks"
ID = 952
stateno = 952
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = .7

[State 0, Rocks]
type = Helper
trigger1 = time = 0
name = "Rocks"
ID = 952
stateno = 952
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = .7

[State 0, Rocks]
type = Helper
trigger1 = time = 0
name = "Rocks"
ID = 952
stateno = 952
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .7
size.yscale = .7

[State 0, Floor Broken - Broly Edition]
type = Explod
trigger1 = time = 0
anim = 8241
ID = 8241
pos = -5,0
postype = p1
facing = -1
bindtime = 1
removetime = -2
scale = .6,.6
sprpriority = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
removeongethit = 0
ignorehitpause = 0
angle = 90

[State 200, Chaos Charge - FX]
type = Explod
trigger1 = time = 0
anim = 1440
ID = 1440
postype = P1
pos = -25,-5
facing = -1
sprpriority = -1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.2
removeongethit = 1
trans = add
ontop = 0
supermovetime = 99999
pausemovetime = 99999
ignorehitpause  = 1
persistent = 0
angle = 90

[State 200, End]
type = Destroyself
trigger1 = time = 1
;===============================================================================
; Chaos 4 Transform
;-------------------------------------------------------------------------------
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -2000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 40 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = S0,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S0,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S0,15
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 200
value = S0,15
volume = 999

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Blue Emerald]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Blue Emerald"
ID = 1515
stateno = 1515
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Green Emerald]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Green Emerald"
ID = 1516
stateno = 1516
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Purple Emerald]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "Purple Emerald"
ID = 1517
stateno = 1517
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, White Emerald]
type = Helper
trigger1 = time = 50
helpertype = normal
name = "White Emerald"
ID = 1518
stateno = 1518
pos = 0,-15
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 80
y = -0.5

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [50,80]
value = 1500
elem = 4

[State 0, Transform FX]
type = Helper
trigger1 = time = 80
helpertype = normal
name = "Transform FX"
ID = 1520
stateno = 1520
pos = 0,15
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3
supermovetime = 999

[State 0, FX]
type = Helper
trigger1 = time = 80
name = "FX"
ID = 1530
stateno = 1530
pos = -12,40
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .2
Supermovetime = 70

[State 0,FX]
type = Explod
trigger1 = time >= 87 && timemod = 10,0
anim = 225
ID = 225
pos = 0,15
postype = p1
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 180
value = 1501
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 4
[Statedef 1501]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .0+time*.1,.1+time*.1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [0,120]
value = 1501
elem = 1

[State 200, End]
type = ChangeState
triggerall = time >= 10
trigger1 = p2bodydist x < 150
value = 1502

[State 200, End]
type = ChangeState
triggerall = time >= 20
trigger1 = p2bodydist x < 220
value = 1507

[State 200, End]
type = ChangeState
trigger1 = Time = 40
value = 1508
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 4 - Tornado
[Statedef 1502]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1502
sprpriority = 5

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = [25,120]
value = 1502
elem = 2

[State 0, Tornado]
type = Helper
trigger1 = time = 25
helpertype = normal
name = "Tornado"
ID = 1550
stateno = 1550
pos = -10,25
postype = p2
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = .1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1506
ctrl = 1

[State 200, End]
type = ChangeState
trigger1 = helper(1550), movehit
value = 1503
ctrl = 1
;-------------------------------------------------------------------------------
; Choas 4 Combo
[Statedef 1503]
type    = A
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1503
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S0,6

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -8
y = -1.1

[State 0, VelSet]
type = VelSet
trigger1 = time = 25
x = 4
y = -1

[State 0, VelSet]
type = VelSet
TriggerAll = Time >= 25
trigger1 = 1
x = 5
y = p2bodydist y /25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S5,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 25
value = S5,2

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SA
animtype  = Heavy
damage    = 34
guardflag = MA
pausetime = 18,18
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 20
ground.hittime  = 30
ground.velocity = 0,6
air.velocity = 0,7
sprpriority = 2
Fall = 1
fall.recover = 0
envshake.time = 20

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1504
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 4 - Quarter Attack
[Statedef 1504]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1504
sprpriority = 5

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, partially]
type = Helper
trigger1 = timemod = 2,0
trigger1 = time = [0,20]
helpertype = normal
name = "partially"
ID = 1522
stateno = 1522
pos = 0,-15
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Quarter Attack - Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Quarter Attack - Helper"
ID = 1560
stateno = 1560
pos = 0,-15
postype = p1
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 0, Quarter Attack - Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Quarter Attack - Helper"
ID = 1560
stateno = 1560
pos = 0,-15
postype = p1
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 0, Quarter Attack - Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Quarter Attack - Helper"
ID = 1560
stateno = 1560
pos = 0,-15
postype = p1
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 0, Quarter Attack - Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Quarter Attack - Helper"
ID = 1560
stateno = 1560
pos = 0,-15
postype = p1
ownpal = 1
size.xscale = 1.5
size.yscale = 1.5

[State 200, End]
type = ChangeState
trigger1 = time = 120
value = 1505
;-------------------------------------------------------------------------------
; Chaos 4 -  Particles Reform
[Statedef 1505]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1505
poweradd = 0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, Particles Reform]
type = Helper
triggerall = timemod = 2,0
trigger1 = time = [0,70]
name = "Particles Reform"
ID = 1524
stateno = 1524
pos = -40+random%80,-20-random%30
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 4 - Fin
[Statedef 1506]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1506
poweradd = 0
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,4
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,4
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2

[State 0, Particles Reform]
type = Helper
triggerall = timemod = 2,0
trigger1 = time = [0,70]
name = "Particles Reform"
ID = 1525
stateno = 1525
pos = -40+random%80,-20-random%30
postype = p1
ownpal = 1
supermovetime = 999
pausemovetime = 999
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 0
;-------------------------------------------------------------------------------
; Chaos 4 Slash
[Statedef 1507]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1507
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .0+time*.1,.1+time*.1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 46
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 46
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 46
value = S0,8

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, Slash - Helper]
type = Helper
trigger1 = time = 46
helpertype = normal
name = "Slash - Helper"
ID = 1526
stateno = 1526
pos = -25,10
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .3

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1504
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos 4 - Go Down
[Statedef 1508]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1508 
sprpriority = 5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -40

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 2
y = 5

[State 200, End]
type = ChangeState
trigger1 = time > 0 && pos y >= -0
value = 1509
;-------------------------------------------------------------------------------
; Chaos 4 - Go
[Statedef 1509]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1509
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,15

[State 0, FX]
type = Helper
trigger1 = timemod = 45,0 && time >= 0
name = "FX - Charge"
ID = 1430
stateno = 1430
postype = p1
ownpal = 1
size.xscale = .5
size.yscale = .5
Supermovetime = 70

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10

[State 200, End]
type = ChangeState
triggerall = time >= 30
trigger1 = p2bodydist x < 80
value = 1510
;-------------------------------------------------------------------------------
; Chaos - Spouting Attack
[Statedef 1510]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1510
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = -3
y = -3

[State 0, Spouting Attack]
type = Helper
trigger1 = time = [6,60]
trigger2 = timemod = 5,0
helpertype = normal
name = "Spouting Attack"
ID = 1570
stateno = 1570
pos = 0,25
postype = p1
facing = 1
ownpal = 1
size.xscale = .75
size.yscale = .75

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 1506
ctrl = 0
;-------------------------------------------------------------------------------
; Blue Emerald
[Statedef 1515]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 821
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
y = -2
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,50]
y = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 5
x = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 110
;-------------------------------------------------------------------------------
; Green Emerald
[Statedef 1516]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 822
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
y = -2
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,50]
y = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 5
x = -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 110
;-------------------------------------------------------------------------------
; Purple Emerald
[Statedef 1517]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 825
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
y = -0
x = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,50]
y = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 0
x = 5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 110
;-------------------------------------------------------------------------------
; White Emerald
[Statedef 1518]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 826
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,20]
y = -0
x = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [20,50]
y = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time > 50
y = 0
x = -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,time = 110
;-------------------------------------------------------------------------------
; Transform FX
[Statedef 1520]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1320
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .0+time*.1,.1+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = ChangeState
trigger1 = root,stateno != 1500
trigger2 = root,movetype = H
trigger3 = root,animelem = 23
value = 1521
;-------------------------------------------------------------------------------
; FX End
[Statedef 1521]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 180-time*9,256

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Particles
[Statedef 1522]
type    = A
movetype= I
physics = A
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -2+random%5
y = -4-random%4

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 3
value = ifelse(vel x >= 0,-10-random%5,10+random%5)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = random%4

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[state 251 1]
Type = hitdef
Trigger1 = 1
attr = a, Sp
animtype  = hard
damage    =  2,3
hitflag = MAF
guardflag = MA
pausetime = 0
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = s1,2
guardsound = s4,0
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
air.velocity = 0
guard.velocity = 0
airguard.velocity = 0
guard.kill = 0
envshake.time = 3

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 1522
elem = var(2)

[State 200, End]
type = Changestate
trigger1 = time > 5 && pos y >= -10
value = 1523
;-------------------------------------------------------------------------------
; Particles Fin
[Statedef 1523]
type    = S
movetype= I
physics = S
anim = 1323

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .5,.2 

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(3)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = anim
elem = var(2)

[State 0, VarAdd]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 25

[State 0, Trans]
type = Trans
trigger1 = time >= 20
trans = addalpha
alpha = 256-var(1),0+var(1)

[State 200, End]
type = Destroyself
trigger1 = var(1) >= 256
;-------------------------------------------------------------------------------
; Balls Particles
[Statedef 1524]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1522
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = rootdist x /60
y = rootdist y /80

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.03,1-time*.03

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = 12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = rootdist x = [-5,5]
;-------------------------------------------------------------------------------
; Balls Particles
[Statedef 1525]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1522
sprpriority = 4

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = rootdist x /-60
y = rootdist y /-80

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.03,1-time*.03

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = 12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = rootdist x = [-5,5]
;-------------------------------------------------------------------------------
; Slash - Start
[Statedef 1526]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1526
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 5
fv = 1
value = .15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .2+fvar(1),.4+fvar(1)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -150

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 1000
trans = Add
length = 5
timegap = 1
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 100, 100, 100
paladd = 0,0,0
palmul = .90, .90, .90

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15
y = 2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, 1]
type = HitDef
Triggerall = !moveguarded
triggerall = hitcount < 1
trigger1 = 1
attr = S, NP
animtype  = Heavy
damage    = 20
Hitflag = MAFDE
guardflag = MA
pausetime = 0,5
sparkno = -1
guard.sparkno = S7000
sparkxy = -8,0
hitsound   = S100,20
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-3
air.velocity = -5,-3
Fall = 1
Sprpriority = 3
Envshake.time = 5
Getpower = 0,0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7006
ID = 7001
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
angle = 0+random%360
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Changestate
trigger1 = hitcount >= 1
trigger2 = frontedgebodydist < 0
trigger3 = time = 20
value = 1527
;-------------------------------------------------------------------------------
; Slash - Fin
[Statedef 1527]
type    = S
movetype= I
physics = N
juggle  = 1
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 15
scale = .95-time*.05,.95-time*.05
value = -40
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 15
trigger2 = root,movetype = H

;-------------------------------------------------------------------------------
; FX
[Statedef 1530]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1530
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 5
fv = 1
value = .15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1500

[State 200, End]
type = ChangeState
trigger1 = time = 140
value = 1531
;-------------------------------------------------------------------------------
; FX End
[Statedef 1531]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1530

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 180-time*9,256

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Tornado - Helper
[Statedef 1550]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 3

[State 0, VarAdd]
type = VarAdd
trigger1 = fvar(1) < 5
fv = 1
value = .15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 50+(time*15),256

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 6,0
time = 20
freq = 70
ampl = -6
phase = 110

[State 0, TargetBind]
type = TargetBind
trigger1 = time = 0
time = 4
pos = -50,-25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 10,0
value = S0,13
volumescale = 50

[state HitDef]
Type = HitDef
Trigger1 = timemod = 3,0
attr = a, Sp
animtype  = medium
damage    =  7,3
getpower = 0,0
hitflag = MAFD
guardflag = MA
pausetime = 0,0
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = 1,16
guardsound = s6,0
ground.slidetime = 20
ground.hittime  = 40
air.hittime  = 40
ground.velocity = 0, -2.3
air.velocity = 0, -2.3
guard.velocity = -1
airguard.velocity = -1
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = -23+random%40,-20-random%40
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time = 50
value = 1551
;-------------------------------------------------------------------------------
; Tornado End
[Statedef 1551]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1551

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 1
value = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(1),1+fvar(1)

[state HitDef]
Type = HitDef
Trigger1 = time = 0
attr = a, Sp
animtype  = medium
damage    =  15,6
getpower = 0,0
hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkxy = -8,-25
hitsound   = -1
guardsound = s6,0
ground.slidetime = 20
ground.hittime  = 40
air.hittime  = 40
ground.velocity = -4, -7
air.velocity = -4, -7
guard.velocity = -1
airguard.velocity = -1
sparkno = s7000
guard.kill = 0
fall = 1
air.fall = 1
fall.recover = 0

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 250-(time*13),256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = 1+time*.05,1

[State 0, VelSet]
type = VelSet
trigger1 = 1
x =0
y = 0

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Quarter Attack - Helper
[Statedef 1560]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 1560
sprpriority = 3

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
Hitflag = MAFDE
animtype  = Heavy
damage    = 20,10
guardflag = MA
pausetime = 5,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,2
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,0
air.velocity = 0,0
Fall = 0
Getpower = 0,0
Envshake.time = 10

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 10
y = -20

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && pos y < -200
x = -10+random%20
y = 20

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && pos y >= -5
x = -10+random%20
y = -20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && pos y >= -5
trigger2 = time > 0 && pos y < -200
value = 0
scale = 1.3,.7
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && backedgebodydist < 0
x = 10
y = -20+random%40

[State 0, VelSet]
type = VelSet
trigger1 = time > 0 && frontedgebodydist < 0
x = -10
y = -20+random%40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0 && backedgebodydist < 0
trigger2 = time > 0 && frontedgebodydist < 0
value = 0
scale = .7,1.3
ignorehitpause = 1

[State 0, MoveHitReset]
type = MoveHitReset
trigger1 = time > 0 && pos y >= -5
trigger2 = time > 0 && pos y < -200
trigger3 = time > 0 && backedgebodydist < 0
trigger4 = time > 0 && frontedgebodydist < 0
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time > 0 && pos y >= -5
trigger2 = time > 0 && pos y < -200
trigger3 = time > 0 && backedgebodydist < 0
trigger4 = time > 0 && frontedgebodydist < 0
time = 5
ampl = -2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 0 && pos y >= -5
trigger2 = time > 0 && pos y < -200
trigger3 = time > 0 && backedgebodydist < 0
trigger4 = time > 0 && frontedgebodydist < 0
value = S0,2
volume = 50
ignorehitpause = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time > 0
value = 0

[State 200,Spark CVS]
type = Explod
triggerall = Numexplod (7001)= 0
trigger1 = Movehit = 1
anim = 7260
ID = 7001
postype = P2
pos = 0,-5
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .25,.25
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 300
y = -6
x = ifelse(vel x >= 0,6,-6)

[State 200, End]
type = ChangeState
trigger1 = root,stateno != 1504
value = 1561
;-------------------------------------------------------------------------------
; Quarter Attack End
[Statedef 1561]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 1561

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = rootdist x /60
y = rootdist y /80

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1-time*.03,1-time*.03

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Addalpha
alpha = 256-var(1),256

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
v = 1
value = 12

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = rootdist x = [-2,2]
;-------------------------------------------------------------------------------
; Spouting Attack
[Statedef 1570]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1570
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 10

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S0,4
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 12,16
Hitflag = MAFDE
guardflag = MA
pausetime = 5,2
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S4,14
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-2
air.velocity = -6,-2
Fall = 1
Getpower = 0,0
ground.cornerpush.veloff = 0
Sprpriority = 3
PalFX.time = 60
PalFX.add = 0,0,100
PalFX.mul = 256,256,256
PalFX.sinadd = -10,-10,-10,10
PalFX.invertall = 0
PalFX.color = 256

[State 0, Hit Spark]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7005
ID = 7001
postype = P2
pos = -20+random%40,0-random%60
facing = -1
sprpriority = 4
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 0, Guard Spark]
type = Explod
triggerall = numexplod(7010) = 0
trigger1 = moveguarded = 1
anim = 7000
ID = 7010
postype = P2
pos = 8,-30
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .6,.6
removeongethit = 1
ontop = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Force Field - Shield
[Statedef 1580]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1580
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,-35

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time >= 0
value = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 150,0
value = S0,15
channel = 3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 150,0
value = S0,15
channel = 4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = timemod = 150,0
value = S0,15
channel = 5

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = timemod = 15,0
anim = 7022
ID = 550
pos = -17,40
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Viento]
type = Explod
triggerall = root,pos y >= 0
trigger1 = timemod = 15,0
anim = 7022
ID = 550
pos = 17,40
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .4,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Powered Shell - Shield - Rayos]
type = Explod
trigger1 = timemod = 15,0
anim = 560
ID = 560
pos = -50+random%80,-30+random%60
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = ifelse(random < 500,1,-1)
bindtime = -1
removetime = -2
scale = .15,.15
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .8,.78
value = 1+time*25
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-35
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1580
time = 99999999999999
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = root,var(2) = 0
trigger2 = root,stateno != 1501
trigger3 = root,stateno != 1502
trigger4 = root,stateno != 1503
trigger5 = root,stateno != 1504
trigger6 = root,stateno != 1505
trigger7 = root,stateno != 1506
trigger8 = root,stateno != 1507
trigger9 = root,stateno != 1508
trigger10 = root,stateno != 1509
trigger11 = root,stateno != 1510
value = 1541
;-------------------------------------------------------------------------------
; Force Field - Shield End
[Statedef 1581]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, VarSet]
type = VarAdd
trigger1 = time > 0
fv = 5
value = .05

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = .8+fvar(5),.8+fvar(5)
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 3
[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 4
[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -4

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 0
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;-------------------------------------------------------------------------------
; Force Field - Count
[Statedef 1590]
type    = S
movetype= I
physics = N
juggle  = 1
ctrl = 0
anim = 9999
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 2
value = 1

[State 200, End]
type = ChangeState
trigger1 = time >= 500
trigger2 = roundstate != 2
trigger3 = root,power = 0
value = 1591
;-------------------------------------------------------------------------------
; Force Field - Shield Count Fin
[Statedef 1591]
type    = S
movetype= I
physics = N
juggle  = 1
ctrl = 0
anim = 9999
sprpriority = 3

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v = 2
value = 0

[State 200, End]
type = Destroyself
trigger1 = time >= 1

