;===================================================================================
;----------------------------------- Skills ---------------------------------------;
;===================================================================================
; Choas Spear
;-------------------------------------------------------------------------------
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1000
poweradd = -500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S5,19

[State 0, Hold FX]
type = Helper
trigger1 = time = 60
helpertype = normal
name = "Hold FX"
ID = 430
stateno = 430
pos = 0,0
postype = p1
ownpal = 1
Size.xscale = .2
size.yscale = .2

[State 0, Choas Spear - Charge]
type = Helper
trigger1 = time = 10
name = "Choas Spear - Charge"
ID = 1030
stateno = 1030
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .15
size.yscale = .15
supermovetime = 999

[State 0, Choas Spear - Charge FX]
type = Helper
trigger1 = time = 10
name = "Choas Spear - Charge FX"
ID = 1031
stateno = 1031
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .1
size.yscale = .1
supermovetime = 999

[State 0, Choas Spear - Charge FX 2]
type = Helper
trigger1 = time = 10
name = "Choas Spear - Charge FX 2"
ID = 1032
stateno = 1032
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .07
size.yscale = .07
supermovetime = 999

[State 200, End]
type = ChangeState
triggerall = time >= 40
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 30+random%60
trigger4 = time = 80
value = ifelse(time >= 60,1002,1001)
;-------------------------------------------------------------------------------
; Choas Spear- Shot
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1001
poweradd = -500
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4

[State 0, Choas Spear - Launch FX]
type = Helper
trigger1 = time = 0
name = "Choas Spear - Launch FX"
ID = 1015
stateno = 1015
pos = -15,-8
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1

[State 0, Choas Spear - Launch FX]
type = Helper
trigger1 = time = 0
name = "Choas Spear - Launch FX"
ID = 1040
stateno = 1040
pos = 22,-27;22,-12
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7022
ID = 1051
pos = -20,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Choas Spear - Shot Helper]
type = Helper
trigger1 = time = 0
name = "Choas Spear - Shot Helper"
ID = 1050
stateno = 1050
pos = -47,-27;-47,-12
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,39
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,39
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,39

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Choas Spear- Shot II
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1002
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S5,39
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S5,39
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 4
value = S5,39

[State 0, Choas Spear - Launch FX]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Launch FX"
ID = 1015
stateno = 1015
pos = -15,-8
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1

[State 0, Choas Spear - Launch FX]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Launch FX"
ID = 1040
stateno = 1040
pos = 20,-22
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Choas Spear - Launch FX]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Launch FX"
ID = 1040
stateno = 1040
pos = 22,-12
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Choas Spear - Launch FX]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Launch FX"
ID = 1040
stateno = 1040
pos = 20,-5
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Choas Spear - Shot Helper]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Shot Helper"
ID = 1051
stateno = 1051
pos = -44,-22
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .30
size.yscale = .30
ignorehitpause = 1

[State 0, Choas Spear - Shot Helper]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Shot Helper"
ID = 1051
stateno = 1051
pos = -40,-12
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .30
size.yscale = .30
ignorehitpause = 1

[State 0, Choas Spear - Shot Helper]
type = Helper
trigger1 = time = 4
name = "Choas Spear - Shot Helper"
ID = 1051
stateno = 1051
pos = -45,-6
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .30
size.yscale = .30
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 7022
ID = 1051
pos = -20,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
; Choas Spear - FX
[Statedef 1015]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1015
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = .1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -50
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1410, a4]
type = Nothitby
trigger1 = 1
time = -1
value = SCA,AA,AT
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 55,27
Hitflag = MAFDE
guardflag = MA
pausetime = 2,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-8
air.velocity = -3,-5
Fall = 1
Fall.recover = 0
Getpower = 0,0

[State 200, Hit Spark]
type = Explod
triggerall = Numexplod(7010) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7010
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .8,.8
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1
angle = 0+random%360

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = root,movetype = H

;-------------------------------------------------------------------------------
; Choas Spear - Charge
[Statedef 1030]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1030
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -23,-32;-13,-21

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = .1+time*.04,.1+time*.04

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1000
;-------------------------------------------------------------------------------
; Choas Spear - Charge FX
[Statedef 1031]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1031
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -20,-32;-12,-20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = .1+time*.04,.1+time*.04

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1000
;-------------------------------------------------------------------------------
; Choas Spear - Charge FX 2
[Statedef 1032]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1032
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -20,-32;-12,-20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 30
scale = .1+time*.04,.1+time*.04

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1000
;-------------------------------------------------------------------------------
; Choas Spear - Launch FX
[Statedef 1040]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1040
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Choas Spear - Shot Helper
[Statedef 1050]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
sprpriority = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1060
time = 999999999999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Up
damage    = 50,60
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-5
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-4
air.velocity = -6,-4
Fall = 1
Fall.recover = 0
Getpower = 0,0
Envshake.time = 10
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 1060
;-------------------------------------------------------------------------------
; Choas Spear - Shot Helper II
[Statedef 1051]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1050
sprpriority = 2

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1060
time = 999999999999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Up
damage    = 20,60
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-5
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-4
air.velocity = -6,-4
Fall = 1
Fall.recover = 0
Getpower = 0,0
Envshake.time = 10
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 1060

;-------------------------------------------------------------------------------
; Choas Spear - Explosion
[Statedef 1060]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 9999
velset = 0,0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 55
y = 0

[State 0, Choas Spear - Explosion]
type = Explod
trigger1 = time = 0
anim = 1060
ID = 1060
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1

;===============================================================================
; Chaos Power
;-------------------------------------------------------------------------------
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 200, End]
type = ChangeState
triggerall = time >= 20
trigger1 = ailevel = 0 && command != "hold_y"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 30+random%60
trigger4 = time = 50
value = ifelse(time >= 30,1108,1101)

;-------------------------------------------------------------------------------
; Chaos Power -  Chaos Controle
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1101
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S0,0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S6,19
volume = 999

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -4.5

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = S, NA
damage = 1
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,300
sparkno = -1
guard.sparkno = s6030
sparkxy = -4,2
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4

[State 0, Explod]
type = Explod
trigger1 = time = 11
anim = 7033
ID = 7033
pos = 0,-15
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
supermove = 999
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, Explod]
type = Explod
trigger1 =time = 0
anim = 7022
ID = 1051
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime 	= 999

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = movehit = 1
value = 1102
ctrl = 0
;---------------------------------------------------------------------------
; Chaos Controle - Attack
[Statedef 1102]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd = -100
ctrl = 0
velset = 0
anim = 1102

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 3
time = 150
movetime = 150
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S6,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 24
value = S6,13
volume = 999

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, HP
animtype  = Heavy
damage = 6
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s6030
sparkxy = -4,2
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0
air.velocity = 0
Fall = 1
Fall.recover = 0
Envshake.time = 20

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 50
value = -60
ignorehitpause = 1

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1 
name = "Base Hit Spark"
ID = 1102
stateno = 8000
pos = 11+random%32,-10-random%25
postype = P1
facing = -1
ownpal = 1
size.xscale = .075
size.yscale = .075
ignorehitpause = 1
supermovetime = 999
Pausemovetime = 999999


[State 0, BGPalFX]
type = bgPalFX
trigger1 = time = 0
time = 150
add = 0,0,0
mul = 256,256,256
sinadd = 0,0,0,10
invertall = 1
color = 256

[State 0, Explod]
type = Explod
trigger1 = time = 50
anim = 580
ID = 580
pos = -2,-10
postype = p1 
facing = 1
angle = -70
vfacing = 1
bindtime = 1
vel = 5,-5
removetime = -2
scale = .5,.5
sprpriority =3
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime 	= 999

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 54
x = p2bodydist x - 0
y = p2bodydist y - 0

[State 0, Teleport]
type = Helper
trigger1 = time > 54
triggerall = timemod = 6,0
helpertype = normal
name = "Teleport"
ID = 1120
stateno = 1120+(RANDOM%6)
pos = -0,-25
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6
size.yscale = .2
supermovetime 	= 999

[State 0, Explod]
type = Explod
trigger1 =time = 54
anim = 7022
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime 	= 999

[State 200, End]
type = ChangeState
trigger1 = time = 120
value = 1103
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Controle - Fin
[Statedef 1103]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 1103
poweradd = 0
sprpriority = -1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 3
x = p2bodydist x + 10

[State 0, PosSet]
type = PosSet
trigger1 = time = 3
y = 0

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 580
ID = 580
pos = 10,-25
postype = p1 
facing = 1
angle = -90
vfacing = 1
bindtime = 1
vel = -2,0
removetime = -2
pausemovetime = 0
scale = .7,.3
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime 	= 999

[State 0, PosAdd]
type = Velset
trigger1 = time = 3
x = -9

[State 0,Afterimage]
type = AfterImage
trigger1 = time = 0
time = 12
trans = Add
length = 10
timegap = 2
framegap = 2
palbright = 0 , 0 , 0
palcontrast = 180, 200, 230
paladd = 0,0,1
palmul = .50, .50, 1.10

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 7012
ID = 7012
pos = 0,-15
postype = p2 
facing = 1
vfacing = 1
bindtime = 1
vel = -2,-2
removetime = -2
pausemovetime = 0
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime 	= 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Unguardable

[State 200, 1]
type = HitDef
trigger2 = !movecontact
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 5,5
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 15
ground.velocity = -4,-5
air.velocity = -4,-5
Fall = 1
Envshake.time = 24

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 12
ctrl = 1

;-------------------------------------------------------------------------------
; P2 - Hacia la Pared
[Statedef 1105]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -ifelse(p2stateno=3001,20,15)
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5002+ifelse(authorname = "Mikel8888",var(10),0)
elem = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = backedgebodydist < 5
value = 1106
;-------------------------------------------------------------------------------
; P2 - Empotrado en la Pared
[Statedef 1106]
type    = A
movetype= H
physics = A
juggle  = 1
velset = 3,-8
ctrl = 0
sprpriority = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -60

[State 200, End]
type = Selfstate
trigger1 = time = 1
value = 5050
;===============================================================================
; Chaos Power - Chaos Spear Start
;-------------------------------------------------------------------------------
[Statedef 1108]
type    = A
movetype= A
physics = S
ctrl = 0
anim = 1108
poweradd = -500
velset = 0,0
sprpriority = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S0,20
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 10
value = S0,20
volume = 9999

[State 0, Choas Spear]
type = Helper
triggerall = time >= 30
trigger1 = timemod = 15,0
helpertype = normal
name = "Choas Spear"
ID = 1130
stateno = 1130
pos = -70+random%120,-45+random%30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 200, End]
type = ChangeState
triggerall = time >= 75
trigger1 = ailevel = 0 && command != "hold_y"
trigger2 = ailevel > 0 && p2bodydist x <= 30
trigger3 = time = 150
value = 1109
;-------------------------------------------------------------------------------
; Chaos Power - Chaos Spear
[Statedef 1109]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1109
poweradd = -500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 9999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
volume = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 0, PlaySnd]
type = PlaySnd
triggerall = timemod = 5,0
trigger1 = time < 15
value = S5,8
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0 
time = 10
ampl = -3

[State 0, Varadd]
type = VarSet
triggerall = helper(1130),stateno = 1130
trigger1 = time = 0
v = 6
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 1
v = 6
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 9 && helper(1130),stateno = 1130
value = 1109
elem = 3

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1120]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 40
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1121]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -78
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1122]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 200
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1123]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 20
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1124]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1125]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -200
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; FXS volta no mundo
[Statedef 1126]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 7250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 90
scale = 4,4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; Choas Spear - Charge FX
[Statedef 1127]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1031
sprpriority = 2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1108
;-------------------------------------------------------------------------------
; Choas Spear - Charge FX 2
[Statedef 1128]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1032
sprpriority = 2

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1108
;-------------------------------------------------------------------------------
; Choas Spear - Charge
[Statedef 1130]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1030
sprpriority = Cond(Random<500,1,0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,36
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0 
time = 10
ampl = -2

[State 0, FX]
type = Explod
trigger1 = time = 0
anim = 1110
ID = 1110
pos = 0,0
scale = .2,.2
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
ontop = 1
ownpal = 1
sprpriority = 0
removeongethit = 1
supermovetime = 999
pausemovetime = 999
Trans = Add

[State 0, Choas Spear - Charge FX]
type = Helper
trigger1 = time = 0
name = "Choas Spear - Charge FX"
ID = 1127
stateno = 1127
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .05
size.yscale = .05
supermovetime = 999

[State 0, Choas Spear - Charge FX 2]
type = Helper
trigger1 = time = 0
name = "Choas Spear - Charge FX 2"
ID = 1128
stateno = 1128
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .03
size.yscale = .03
supermovetime = 999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time*04)
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Heavy
damage    = 24,12
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,1
guardsound = S3,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,0)
air.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,-2)
Fall = ifelse(root,var(13) > 3,1,0)
sprpriority = 2
fall.recover = 0
envshake.time = 20

[State 200, End]
type = Changestate
trigger1 = root,var(6) = 1
value = 1134

[State 200, End]
type = Changestate
trigger1 = root,stateno != 1108
value = 1136
;-------------------------------------------------------------------------------
; Choas Spear - Helper
[Statedef 1134]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
velset = 0,0
anim = 1120
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,25
volume = 20

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1110
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1031
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1032

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5+random%8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 1+(time*04)
ignorehitpause = 0

[State 0, Choas Spear - FX]
type = Explod
trigger1 = time = 0
anim = 1130
ID = 1130
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .08,.05
sprpriority = -1
ontop = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999
removeongethit = 0
ignorehitpause = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1135
time = 999999999999999999999999999999

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Up
damage    = 12,60
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-5
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-4
air.velocity = -6,-4
Fall = 1
Fall.recover = 0
Getpower = 0,0
Envshake.time = 10
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = pos y >= -5
trigger3 = frontedgebodydist < 0
trigger4 = time = 500
value = 1135
;-------------------------------------------------------------------------------
; Choas Spear - Explosion
[Statedef 1135]
type    = A
movetype= I
physics = A
juggle  = 1
ctrl = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1031
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1032

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1130

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 20
ampl = -8

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 55
y = 0

[State 0, Choas Spear - Explosion]
type = Explod
trigger1 = time = 0
anim = 1060
ID = 1060
pos = -25,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1

;-------------------------------------------------------------------------------
; Choas Spear - Charge
[Statedef 1136]
type    = S
movetype= I
physics = N
juggle  = 1
ctrl = 0
sprpriority = 3

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1030
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1031

[State 0, Choas Spear - Charge FX 2]
type = Explod
trigger1 = time = 0
anim = 1032
ID = 1032
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 1
scale = .05,.05
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10

;-------------------------------------------------------------------------------
; Limite Start
[Statedef 1150]
type    = A
movetype= I
physics = N
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,132
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,132
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,132
volume = 999

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 35
ampl = -4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Nomusic

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = 256

[State 0, VarAdd]
type = VarAdd
trigger1 = time < 20
v = 1
value = -11

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time >= 30
time = 10
color = var(1)

[State 181, EnvColor]
type = Bgpalfx
trigger1 = time = [0,30]
time = 1
invertall = 1
color = 0

[State 200, End]
type = Changestate
trigger1 = time >= 300
trigger2 = roundstate != 2
value = 1155
;-------------------------------------------------------------------------------
; Limite Fin
[Statedef 1155]
type    = A
movetype= I
physics = N
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S1,133
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S1,133
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 80
value = S1,133
volume = 999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Nomusic

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time < 90
time = 10
color = 32

[State 0, VarAdd]
type = VarAdd
triggerall = time >= 90
trigger1 = var(1) < 256
v = 1
value = 12

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time > 90
time = 1
color = var(1)

[State 0, Pause]
type = Pause
trigger1 = time = 100
time = 1
movetime = 1

[State 200, End]
type = Destroyself
trigger1 = time >= 100
;-------------------------------------------------------------------------------
; LIMITADOR
[Statedef 1170]
type    = A
movetype= I
physics = N
anim = 9999

[State 200, End]
type = Destroyself
trigger1 = time >= 500


;===============================================================================
; Shadic Boost Start
;-------------------------------------------------------------------------------
[Statedef 1200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, Turn]
type = Turn
triggerall = time = 0
trigger1 = command = "holdback"

[State 0, Explod]
type = Explod
trigger1 = timemod = 8,0 && time > 12
anim = 7022
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -1,0
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 1201
ctrl = 0
;---------------------------------------------------------------------------
; Shadic Boost Boost
[Statedef 1201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1201
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,18
volume = 999

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
ignorehitpause = 1
;persistent = 


[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Speed FX]
type = Explod
trigger1 = timemod = 5,0
anim = 580
id = 1552
pos = 2-random%25,0-random%25
postype = p1
facing = 1
vfacing = 1
vel = -2,0
bindtime = -1
removetime = -2
scale = .15,.15
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = add
Angle = 90
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = timemod = 4,0
anim = 7022
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .1*Helper(999999),Fvar(16),.1*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Boost FX]
type = Explod
triggerall = numexplod(1250) = 0
trigger1 = time = 0
anim = 1250
ID = 1250
pos = -35,-11
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .4,.4
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
trans = add
alpha = 180,256


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 20
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 35
guardflag = MA
pausetime = 10,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-2
air.velocity = -5,-2
Fall = 1
Envshake.time = 20


[State 0, Punch FX]
type = Explod
triggerall = numexplod(7019)= 0
trigger1 = movehit = 1
anim = 7013
ID = 7019
pos = -10,-20
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .12,.12
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7012
ID = 7001
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
angle = 0+random%360
supermovetime 	= 999
ignorehitpause  = 1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7033) = 0
trigger1 = Movehit = 1
anim = 7033
ID = 7033
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
angle = 0+random%360
supermovetime 	= 999
ignorehitpause  = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [1105,1106]
trigger1 = movehit = 1
value = 1105

[State 200, End]
type = ChangeState
triggerall = time >= 20
trigger1 = ailevel = 0 && command != "hold_c"
trigger2 = ailevel > 0 && p2bodydist x < 50
trigger3 = ailevel > 0 && time = 30+random%90
trigger4 = time = 90
value = 1202
;---------------------------------------------------------------------------
; Shadic Boost End
[Statedef 1202]
type    = S
movetype= A
physics = N
juggle  = 1
ctrl = 0
anim = 1204
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,16
volume = 999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 1250
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = vel x > 0
x = -0.5
[State 0, VelAdd]
type = VelAdd
trigger1 = vel x < 0
x = 0.5

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 1405

[State 200, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Shadic Boost Air Start
[Statedef 1203]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1202
velset = 0,0.5
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 15 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 6,-28
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
volume = 999

[State 0, Punch FX]
type = Explod
trigger1 = time = 0
anim = 7037
ID = 7037
pos = -1,-20
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = -2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999


[State 0, Turn]
type = Turn
triggerall = time = 0
trigger1 = command = "holdback"

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 1204
ctrl = 0
;---------------------------------------------------------------------------
; Shadic Boost Air
[Statedef 1204]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 1201
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,18
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7032
ID = 7032
pos = -10,-15
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Speed FX]
type = Explod
trigger1 = timemod = 5,0
anim = 580
id = 1552
pos = 2-random%25,0-random%25
postype = p1
facing = 1
vfacing = 1
vel = -2,0
bindtime = -1
removetime = -2
scale = .15,.15
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = add
Angle = 90
pausemovetime = 99999


[State 0, Boost FX]
type = Explod
triggerall = numexplod(1250) = 0
trigger1 = time = 0
anim = 1250
ID = 1250
pos = -35,-11
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = .4,.4
sprpriority = 10
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
trans = add
alpha = 180,256


[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 20

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = medium
damage    = 30
guardflag = MA
pausetime = 10,12
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,-2
air.velocity = -5,-2
Fall = 1
Envshake.time = 20


[State 0, Punch FX]
type = Explod
triggerall = numexplod(7019)= 0
trigger1 = movehit = 1
anim = 7013
ID = 7019
pos = -10,-20
postype = p2
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .12,.12
sprpriority = -2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7001) = 0
trigger1 = Movehit = 1
anim = 7012
ID = 7001
postype = P2
pos = 0,-17
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
angle = 0+random%360
supermovetime 	= 999
ignorehitpause  = 1

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7033) = 0
trigger1 = Movehit = 1
anim = 7033
ID = 7033
postype = P2
pos = 0,-15
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
angle = 0+random%360
supermovetime 	= 999
ignorehitpause  = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [1105,1106]
trigger1 = movehit = 1
value = 1105

[State 200, End]
type = ChangeState
triggerall = time >= 30
trigger1 = ailevel = 0 && command != "hold_c"
trigger2 = ailevel > 0 && p2bodydist x < 50
trigger3 = ailevel > 0 && time = 30+random%110
trigger4 = time = 110
value = 50

[State 0, ChangeState]
type = ChangeState
trigger1 = pos y >= -10
value = 1201
ctrl = 0
ignorehitpause= 1
;===============================================================================
; Chaos Power
;-------------------------------------------------------------------------------
;Chaos Power Start
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
volume = 50
;====================

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 40 && numhelper(1320) > 0
value = 1300
elem = 7

[State 0, VelSet]
type = VelSet
trigger1 = time = 24
x = 25.5

[State 0, VelSet]
type = VelSet
trigger1 = time = 29
x = 1.5

[State 0, Speed FX1]
type = Explod
trigger1 = time = 24
anim = 580
ID = 001
pos = 0,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .6,.25
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S0,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S0,8
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S0,8
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S8,00
volume = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 39
value = S8,00
volume = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 24
anim = 7022
ID = 1051
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Chaos Power - Helper]
type = Helper
trigger1 = time = 39
helpertype = normal
name = "Chaos Power - Helper"
ID = 1320
stateno = 1320
pos = 23,-26;17,-18
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
ignorehitpause = 1
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
triggerall = time >= 100
trigger1 = helper(1320),movehit
value = 1301

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Power Combo 1
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1301
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,4
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,4

[State 0,VelSet]
type=VelSet
trigger1 = time = 0
x = -1.5
y = -1

[State 0,VelSet]
type=VelSet
trigger1 = time = 15
x = 2
y = -2.5

[State 0,Hit OK]
type = VelSet
Trigger1 = MoveHit = 1
x = -.5
y = -4

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 20
guardflag = MA
pausetime = 12,15
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 30
ground.velocity = -0,-5
air.velocity = -0,-5
kill = 0
Fall = 0
Fall.recover = 0
Envshake.time = 5

[State 0, Base Hit Spark]
type = Helper
trigger1 = movehit = 1 && numhelper(1302) = 0
name = "Base Hit Spark"
ID = 1302
stateno = 8000
pos = 28,-32
postype = P1
facing = -1
ownpal = 1
size.xscale = .075
size.yscale = .075
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = movehit = 1 && time >= 10
value = 1302

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Power Combo 2
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1302
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = movehit = 1
value = S0,6

[State 0, VelSet]
type = VelSet
trigger1 = time = 4
x = -1.5
y = -1.5

[State 0, VelSet]
type = VelSet
trigger1 = time = 23
x = 2
y = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -.25
y = -.25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 23
value = S5,2
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Medium
damage    = 40
guardflag = MA
pausetime = 22,22
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10,5
air.velocity = -10,5
kill = 0
Fall = 1
fall.recover = 0
Envshake.time = 22
Id = 1

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [1311,1312]
trigger1 = movehit = 1
value = 1311
Id = 1

[State 0, FX Kick And Punch]
type = Explod
trigger1 = time = 23
anim = 272
ID = 272
pos = 3,-7
postype = p1
bindtime = -1
scale = .4,.3
sprpriority = 9
ownpal = 1
removeongethit = 1
supermovetime = 999
pausetime = 999
movetime = 999
Angle = -30

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7000) = 0
trigger1 = Movehit = 1
anim = 7012
ID = 7000
postype = P2
pos = -3,-32
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 23
value = -30
ignorehitpause = 1

[State 200, End]
type = ChangeState
triggerall = time >= 40
trigger1 = p2stateno = 1312
value = 1303

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Power - Chaos Spear
[Statedef 1303]
type    = A
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1303
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,13
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S6,13
volume = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -1.5
y = -6

[State 0, VelSet]
type = VelSet
trigger1 = time = 26
x = -1.5
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 65
x = -.05
y = -.05

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 65
statetype = A
movetype = A
physics = N

[State 0, Helper]
type = Helper
trigger1 = time = 8
helpertype = normal 
name = "girando"
ID = 1310
stateno = 1310
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999

[State 0, Fuegos]
type = Helper
Triggerall = var(3) = 0
trigger1 = numhelper(1950) = 0
triggerall = time = [65,155]
trigger1 = timemod = 4,0
helpertype = normal
name = "Espadas"
ID = 1350
stateno = 1350
pos = -30+random%100,0-random%100
postype = p1
facing = 1
ownpal = 1
size.xscale = .08
size.yscale = .10


[State 0, Fuegos]
type = Helper
Triggerall = var(3) = 1
trigger1 = numhelper(1950) = 1
triggerall = time = [65,155]
trigger1 = timemod = 4,0
helpertype = normal
name = "Espadas"
ID = 1350
stateno = 1350
pos = -30+random%100,0-random%100
postype = p1
facing = 1
ownpal = 1
size.xscale = .14
size.yscale = .16


[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7033) = 0
trigger1 = time = 0
anim = 7033
ID = 7033
postype = P2
pos = 0,-0
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
angle = 0+random%360
supermovetime 	= 999
ignorehitpause  = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 65
value = -30
ignorehitpause = 1

[State 200, End]
type = ChangeState
trigger1 = time >= 150
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
;HELPER DE FX GIRANDO
[Statedef 1310]
type    = S
movetype= A
physics = N
juggle  = 4
velset = 0,0
ctrl = 0
anim = 7036
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
alpha = 190,256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-9
ignorehitpause = 352

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .035,.035
ignorehitpause = 999

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno != 1303
trigger2 = root,movetype = H
trigger3 = time = 24


;-------------------------------------------------------------------------------
; P2 - Hacia el Piso
[Statedef 1311]
type    = A
movetype= H
physics = N
juggle  = 1
velset = -8,8
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y >= 0
y = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5020+ifelse(authorname = "Knightmare",var(10),0)
elem = 2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = pos y >= -5
value = 1312
;-------------------------------------------------------------------------------
; P2 - En El Suelo
[Statedef 1312]
type    = S
movetype= I
physics = S
juggle  = 1
ctrl = 0
sprpriority = -1
facep2 = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noautoturn

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5110+ifelse(authorname = "Knightmare",var(10),0)

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 200, End]
type = Selfstate
trigger1 = time = 300
value = ifelse(life = 0,5150,5120)
ctrl = 1
;-------------------------------------------------------------------------------
; Helper - P2 Contra el Suelo
[Statedef 1313]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 15
ampl = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S3,2
volume = 50

[State 0, Tierra Pared]
type = Explod
trigger1 = time = 0
anim = 8230
ID = 8230
pos = 0,20
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .65,.65
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 0
persistent = -1

[State 0, FX]
type = Explod
triggerall = numexplod(8240) = 0
trigger1 = time = 0
anim = 8240
ID = 8240
pos = 0,0
postype = p2
facing = -1
scale = .8,.8
sprpriority = -9
ontop = 0
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 1312
;-------------------------------------------------------------------------------
; Polvo en P2
[Statedef 1314]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S100,0
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S100,0
volumescale = 100

[State 2001, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 200, End]
type = Destroyself
trigger1 = enemy,stateno != 1311

;-------------------------------------------------------------------------------
; Choas Spear - FX
[Statedef 1315]
type    = A
movetype= A
physics = N
ctrl = 0
anim = 1015
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = .1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1410, a4]
type = Nothitby
trigger1 = 1
time = -1
value = SCA,AA,AT
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, SA
animtype  = Heavy
damage    = 55,27
Hitflag = MAFDE
guardflag = MA
pausetime = 2,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-8
air.velocity = -3,-5
Fall = 1
Fall.recover = 0
Getpower = 0,0

[State 200, Hit Spark]
type = Explod
triggerall = Numexplod(7010) = 0
trigger1 = Movehit = 1
anim = 7011
ID = 7010
postype = P2
pos = 0,-25
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .8,.8
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1
angle = 0+random%360

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = root,movetype = H


;-------------------------------------------------------------------------------
; Chaos Power - Helper
[Statedef 1320]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1320
sprpriority = 3

[State 0, Rayos]
type = Explod
trigger1 = timemod = 11,0
anim = 1325
ID = 1325
pos = -5+random%22,-28+random%40
postype = p1
facing = ifelse(random < 500,1,-1)
vfacing = ifelse(random < 500,1,-1)
bindtime = -1
removetime = -2
scale = .17,.17
sprpriority = 5
ontop = 1
ownpal = 1
removeongethit = 0
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*03),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 1410, a4]
type = Nothitby
trigger1 = 1
time = -1
value = SCA,AA,AT
ignorehitpause = 1

[State 200, 1]
type = HitDef
triggerall = !moveguarded
triggerall = timemod = 8,0
trigger1 = 1
attr = A, ST
Hitflag = MAFD
animtype  = Heavy
damage    = 5,27
Hitflag = MAFDE
guardflag = MA
pausetime = 2,20
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,31
guardsound = S1,31
ground.type = High
ground.velocity = -1,-8
air.velocity = -1,-8
Fall = 1
Fall.recover = 0
Getpower = 0,0
envshake.time = 10

[State 0, Chaos Power - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Chaos Power - Skill Hitspark"
ID = 1321
stateno = 1321
pos = -10+random%20,0-random%35
postype = p2
facing = -1
ownpal = 1
Size.Xscale = .25
Size.Yscale = .25
Pausemovetime = 999

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1300 
trigger2 = time = 70
;-------------------------------------------------------------------------------
; Chaos Power - Skill Hitspark
[Statedef 1321]
type    = A
movetype= I
physics = N
anim = 8010
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Var(1)
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
; Chaos Spear - FX
[Statedef 1340]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 1340
sprpriority = 3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Chaos Spear - Helper
[Statedef 1350]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1350
sprpriority = 5

[State 0, Lanzar FX]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Lanzar FX"
ID = 1340
stateno = 1340
pos = 0,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .1
size.yscale = .1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 15
y = 15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -30
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, SP
animtype  = Heavy
damage    = 10,9
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x > 0,2,-2),-1
air.velocity = ifelse(p2bodydist x > 0,2,-2),-1
Fall = 1
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
sprpriority = 3

[State 200, End]
type = ChangeState
trigger1 = frontedgebodydist < - 25
trigger2 = time = 500
trigger3 = pos y >= 0
value = 1355
;-------------------------------------------------------------------------------
; Chaos Spear - Explosion
[Statedef 1355]
type    = S
movetype= I
physics = S
juggle  = 2
ctrl = 0
anim = 1355
velset = 0,0
sprpriority = -1

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NP
animtype  = Heavy
damage    = 20,1
Hitflag = MAFDE
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 15
ground.hittime  = 30
ground.velocity = -2,0
air.velocity = -2,-1
Fall = 1
fall.recover = 0
Sprpriority = 3
Envshake.time = 6
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
volume = 5

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 5

[State 0, Ki Blast - Explosion FXADD]
type = Helper
trigger1 = Time = 0
name = "Ki Blast - Explosion FXADD"
ID = 420
stateno = 420
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, Ki Blast - Explosion FXSUB]
type = Helper
trigger1 = Time = 0
name = "Ki Blast - Explosion FXSUB"
ID = 421
stateno = 421
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .2
size.yscale = .2

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0*Helper(999999),Fvar(16)

[State 200, End]
type = Destroyself
trigger1 = time = 1

;===============================================================================
; Shadic Wave
;-------------------------------------------------------------------------------
[Statedef 1400]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,5

[State 0, Shadic Wave - Honda FX LEFT HAND]
type = Helper
trigger1 = time = 14
name = "Shadic Wave - Honda FX LEFT HAND"
ID = 1415
facing = 1
stateno = 1415
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Shadic Wave - Honda FX RIGHT HAND]
type = Helper
trigger1 = time = 14
name = "Shadic Wave - Honda FX RIGHT HAND"
ID = 1416
facing = 1
stateno = 1416
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Charge FX LEFT HAND]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "Charge FX LEFT HAND"
ID = 1410
stateno = 1410
pos = 0,0
facing = 1
postype = p1
ownpal = 1
size.xscale = .45
size.yscale = .45
Supermovetime = 999

[State 0, Charge FX]
type = Helper
trigger1 = time = 14
helpertype = normal
name = "Charge FX RIGHT HAND"
ID = 1410
stateno = 1412
pos = 0,0
facing = 1
postype = p1
ownpal = 1
size.xscale = .45
size.yscale = .45
Supermovetime = 999

[State 0, Shadic Wave - Charge FX]
type = Helper
trigger1 = time = 34
name = "Shadic Wave - Charge FX"
ID = 1420
facing = 1
stateno = 1420
postype = p1
ownpal = 1
size.xscale = .18
size.yscale = .18
Supermovetime = 999

[State 0, Shadic Wave - Charge FX II]
type = Helper
Trigger1 = time = 34
name = "Shadic Wave - Charge FX II"
ID = 1421
stateno = 1421
facing = 1
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 0, Shadic Wave - Honda FX]
type = Helper
trigger1 = time = 60
name = "Shadic Wave - Honda FX"
ID = 1425
facing = 1
stateno = 1425
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 0, Viento]
type = Explod
trigger1 = time >= 10 && timemod = 10,0
anim = 7022
ID = 1051
pos = -5,3
postype = p1
facing = 1
vel = -2,0
scale = .25,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime = 999
supermove = 999

[State 0, Viento 2]
type = Explod
trigger1 = time >= 10 && timemod = 10,0
anim = 7022
ID = 1051
pos = 0,-1
postype = p1
facing = -1
vel = 2,0
scale = .25,.35
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 999
supermove = 999

[State 200, End]
type = ChangeState
triggerall = time >= 50
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 40+random%50
trigger4 = time = 90
value = ifelse(time >= 60,1402,1401)
;-------------------------------------------------------------------------------
; Shadic Wave - Release I
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1401
poweradd = -500
sprpriority = 2

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 70
add = 0,32,64

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [0,80]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20),(-5-Random%35)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 0, Dust FX]
type = Explod
TriggerAll = Time = [0,70]
Trigger1 = TimeMod = 10,0
anim = 7022
ID = 1051
pos = 0,4
scale = .35,.45
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1.5,0

;[State 0, ChangeAnim]
;type = ChangeAnim
;triggerall = Time > 1 && time < 80
;trigger1 = Timemod = 6,0
;value = 1401
;elem = 2

[State 0, Shadic Wave - Helper]
type = Helper
Triggerall = var(3) = 0
trigger1 = numhelper(1950) = 0
trigger1 = time = 0
name = "Shadic Wave - Helper"
ID = 1435
stateno = 1435
pos = 25,-24;-15
postype = p1
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Shadic Wave - Helper]
type = Helper
Triggerall = var(3) = 1
trigger1 = numhelper(1950) = 1
trigger1 = time = 0
name = "Shadic Wave - Helper"
ID = 1435
stateno = 1435
pos = 25,-24;-15
postype = p1
ownpal = 1
size.xscale = .45
size.yscale = .45

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Shadic Wave - Release II
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1402
poweradd = -1000
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,8

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 70
add = 0,32,64

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [0,80]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20),(-5-Random%35)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 0, Dust FX]
type = Explod
TriggerAll = Time = [0,70]
Trigger1 = TimeMod = 10,0
anim = 7022
ID = 1051
pos = 0,4
scale = .4,.5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1.5,0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 80
trigger1 = Timemod = 6,0
value = 1402
elem = 2

[State 0, Shadic Wave - Helper II]
type = Helper
Triggerall = var(3) = 0||var(3) = 1
trigger1 = time = 0
name = "Shadic Wave - Helper II"
ID = 1450
stateno = 1451
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2.4
size.yscale = 2.4

[State 0, Shadic Wave - Helper II]
type = Helper
Triggerall = var(3) = 0||1
trigger1 = numhelper(1950) = 0 || 1
trigger1 = time = 0
name = "Shadic Wave - Helper II"
ID = 1450
stateno = 1451
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2.4
size.yscale = 2.4

[State 0, Shadic Wave - Helper II]
type = Helper
Triggerall = var(3) = 0||1
trigger1 = numhelper(1950) =  0 || 1
trigger1 = time = 0
name = "Shadic Wave - Helper II"
ID = 1450
stateno = 1451
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2.4
size.yscale = 2.4

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Shadic Wave - Charge LEFT HAND
[Statedef 1410]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1421
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [14,35]
pos = -15,-15

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [17,40]
pos = -17,-15

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [25,45]
pos = -5,-15

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [30,70]
pos = 8,-12


[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 1400
trigger2 = root,movetype = H
trigger3 = root,time = 71
channel = 3

[State 0, Trans]
type = Trans
triggerall = root,var(3) = 0 || 1
trigger1 = 1
trans = add
;[State 0, Trans]
;type = Trans
;triggerall = root,var(3) = 1
;trigger1 = 1
;trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1400
trigger2 = root,movetype = H
trigger3 = root,time = 35
;-------------------------------------------------------------------------------
; Shadic Wave - Charge RIGHT HAND
[Statedef 1412]
type    = S
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1421
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [14,35]
pos = 20,-15

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [17,40]
pos = 21,-15

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [25,45]
pos = 20,-16

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,time = [30,70]
pos = 22,-12


[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1,1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
volume = 50
channel = 3

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 1400
trigger2 = root,movetype = H
trigger3 = root,time = 71
channel = 3

[State 0, Trans]
type = Trans
triggerall = root,var(3) = 0 || 1
trigger1 = 1
trans = add
;[State 0, Trans]
;type = Trans
;triggerall = root,var(3) = 1
;trigger1 = 1
;trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1400
trigger2 = root,movetype = H
trigger3 = root,time = 35

;-------------------------------------------------------------------------------
; Shadic Wave - Honda FX LEFT HAND
[Statedef 1415]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1425
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -15,-15

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1400
Trigger2 = Root,Stateno = 1401 || Root,Stateno = 1402
;-------------------------------------------------------------------------------
; Shadic Wave - Honda FX
[Statedef 1416]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1425
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 20,-15

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1400
Trigger2 = Root,Stateno = 1401 || Root,Stateno = 1402


;-------------------------------------------------------------------------------
; Shadic Wave - Charge FX
[Statedef 1420]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1420
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1+fvar(1),1+fvar(1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 43
value = S5,14

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 0
trigger1 = time = [43,48]
fv = 1
value = .05

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 1
trigger1 = time = [43,48]
fv = 1
value = .1

[State 0, BindToRoot]
type = BindToRoot
triggerall = Root,StateNo != 1401 || Root,StateNo != 1402
trigger1 = 1
pos = -11,-15;-11,-10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 1+time*.01,1+time*.01
value = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
scale = 1,1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, VelSet]
type = VelSet
trigger1 = Root,stateno = 1401 && Root,Time >= 3 || Root,stateno = 1402 && Root,Time >= 3
x = 8
Y = -1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,17
channel = 7

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 1400 
channel = 7

[State 200, End]
type = Destroyself
TriggerAll = Root, Stateno != 1401 || Root, Stateno != 1402
trigger1 = root,stateno != 1400

[State 200, End]
type = Destroyself
TriggerAll = Root,Stateno = 1401 || Root,Stateno = 1402
trigger1 = root,time = 6
;-------------------------------------------------------------------------------
; Shadic Wave - Charge FX II
[Statedef 1421]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1421
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .1+time*.1,.1+time*.1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 10
scale = 1+fvar(1),1+fvar(1)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 43
value = S5,14

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 0
trigger1 = time = [43,48]
fv = 1
value = .05

[State 0, VarAdd]
type = VarAdd
triggerall = root,var(3) = 1
trigger1 = time = [43,48]
fv = 1
value = .1

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,StateNo = 1400
pos = -11,-15;-11,-10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .25+time*.00125,.25+time*.00125

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1400
Trigger2 = Root,Stateno = 1401 || Root,Stateno = 1402
;-------------------------------------------------------------------------------
; Shadic Wave - Honda FX
[Statedef 1425]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1425
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -11,-10

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1400
Trigger2 = Root,Stateno = 1401 || Root,Stateno = 1402
;-------------------------------------------------------------------------------
; Shadic Wave Helper - Start
[Statedef 1435]
type    = S
movetype= A
physics = N
juggle  = 5
ctrl = 0
anim = 1435
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 1050,Afterimage]
type = AfterImage
trigger1 = time = 1
time = 1000
trans = Add
length = 5
timegap = 1
framegap = 1
palbright = 0 , 0 , 0
palcontrast = 100, 100, 100
paladd = 0,0,0
palmul = .90, .90, .90

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 20

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = .5

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 8012
ID = 7001
postype = P1
pos = -2+random%25,-15+random%45
facing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit = 1
trigger2 = timemod = 20,0
time = 20
Ampl = -5

[State 0, TargetBind]
type = TargetBind
triggerall = time < 120
trigger1 = movehit = 1
time = 2
id = -1
pos = 25,25

[State 200, 1]
type = HitDef
trigger1 = timemod = 9,0
attr = A, HP
animtype  = Heavy
damage    = 9
Hitflag = MAFDE
guardflag = MA
pausetime = 0,1
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,12
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,0
air.velocity = -1,2
Fall = 0
Getpower = 0,0
sprpriority = 3
Kill = 0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = ChangeState
trigger1 = movecontact = 1 && time >= 120
value = 1437

[State 200, End]
type = Changestate
trigger1 = pos y >= -5
trigger2 = frontedgebodydist < 0
trigger3 = time = 500
value = 1437
;-------------------------------------------------------------------------------
; Shadic Wave - Explosion
[Statedef 1437]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, Super Black sonic wave - Explosion]
type = Explod
trigger1 = time = 0
anim = 1437
ID = 1437
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .6,.6
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
volume = 50

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 =  time = 5
statetype = A
movetype = I
physics = N

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
Ampl = -20

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, HP
animtype  = Heavy
damage    = 70
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-5
air.velocity = -4,-5
Fall = 1
Getpower = 0,0
ID = 88
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, End]
type = Destroyself
trigger1 = time = 20


;-------------------------------------------------------------------------------
; Shadic Wave - FX ADD
[Statedef 1440]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1440
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = Time >= 70
fv = 7
value = Cond(Root,Var(3) = 0,.035,.040)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = Cond(Root,Var(3) = 0,.35,.6),Cond(Root,Var(3) = 0,.35,.6)-FVar(7)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
Trigger1 = Time >= 80
trigger2 = Root, Stateno != 1401  && Root,StateNo != 1402
;-------------------------------------------------------------------------------
; Shadic Wave - FX SUB
[Statedef 1441]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1440
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,-115
mul = 512,512,400
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = Time >= 70
fv = 8
value = Cond(Root,Var(3) = 0,.035,.040)

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = Cond(Root,Var(3) = 0,.35,.6),Cond(Root,Var(3) = 0,.35,.6)-FVar(8)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
Trigger1 = Time >= 80
trigger2 = Root, Stateno != 1401  && Root,StateNo != 1402
;-------------------------------------------------------------------------------
; Shadic Wave - Skill Hitspark
[Statedef 1445]
type    = A
movetype= I
physics = N
anim = 8012
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Var(1)
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
; Shadic Wave - Helper
[Statedef 1450]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1450
sprpriority = 3

[State 0, Fire!]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volumescale = 75

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 70
trigger1 = timemod = 9,0
time = 8

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
Alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Shadic Wave - FX ADD]
type = Helper
trigger1 = Time = 0
name = "Shadic Wave - FX ADD"
ID = 1440
facing = 1
stateno = 1440
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Shadic Wave - FX SUB]
type = Helper
trigger1 = Time = 0
name = "Shadic Wave - FX SUB"
ID = 1440
facing = 1
stateno = 1441
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Shadic Wave - Release FX]
type = Explod
trigger1 = Time = 0
anim = 1430
ID = 1430
pos = 0,-0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
vel = -.25,0

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 13,8
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,31
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4,-1
kill = 0
Fall = 0
Getpower = 0,0
sprpriority = 3

[State 0, Shadic Wave - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Shadic Wave - Skill Hitspark"
ID = 1445
stateno = 1445
pos = -10+random%20,0-random%35
postype = p2
facing = -1
ownpal = 1
Size.Xscale = .25
Size.Yscale = .25

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,stateno != 1401

[State 200, End]
type = ChangeState
trigger1 = Parent,stateno = 1401 && time = 70
trigger2 = Parent, Time >= 70
value = 1460
;-------------------------------------------------------------------------------
; Shadic Wave - Helper II
[Statedef 1451]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1450
sprpriority = 3

[State 0, Fire!]
type = PlaySnd
trigger1 = time = 0
value = S5,29
volumescale = 75

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 70
trigger1 = timemod = 6,0
time = 8

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
Alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Shadic Wave - FX ADD]
type = Helper
trigger1 = Time = 0
name = "Shadic Wave - FX ADD"
ID = 1440
facing = 1
stateno = 1440
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Shadic Wave - FX SUB]
type = Helper
trigger1 = Time = 0
name = "Shadic Wave - FX SUB"
ID = 1440
facing = 1
stateno = 1441
postype = p1
ownpal = 1
IgnoreHitPause = 1

[State 0, Shadic Wave - Release FX]
type = Explod
trigger1 = Time = 0
anim = 1430
ID = 1430
pos = 0,-0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5,.5
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
vel = -.25,0

[State 200, 1]
type = HitDef
triggerall = var(3) = 0 || 1
trigger1 = numhelper(1950) = 0||1 
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 9,6;13,11
Hitflag = MAFDE
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,31
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -4,-1
kill = 0
Fall = 0
Getpower = 0,0
sprpriority = 3


;[State 200, 1]
;type = HitDef
;triggerall = var(3) = 1
;;trigger1 = numhelper(1950) =  1
;trigger1 = timemod = 5,0
;attr = A, SP
;animtype  = Heavy
;damage    = 11,8;13,11
;Hitflag = MAFDE
;guardflag = MA
;pausetime = 0,4
;sparkno = -1
;guard.sparkno = -1
;sparkxy = 0,0
;hitsound   = S1,31
;guardsound = S4,1
;ground.type = High
;ground.slidetime = 12
;ground.hittime  = 15
;ground.velocity = -4
;air.velocity = -4,-1
;kill = 0
;Fall = 0
;Getpower = 0,0
;sprpriority = 3

[State 0, Shadic Wave - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Shadic Wave - Skill Hitspark"
ID = 1445
stateno = 1445
pos = -10+random%20,0-random%35
postype = p2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,stateno != 1402

[State 200, End]
type = ChangeState
trigger1 = Parent,stateno = 1402 && time = 70
trigger2 = Parent, Time >= 70
value = 1460
;-------------------------------------------------------------------------------
; Shadic Wave - Explosion
[Statedef 1460]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 2,1
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Shadic Wave - Explosion]
type = Explod
triggerall = Numexplod(1460) = 0
trigger1 = Movehit = 1
anim = 1460
ID = 1460
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9022) = 0
trigger1 = Movehit = 1
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;===============================================================================
; Chaos Blast
;-------------------------------------------------------------------------------
; Chaos Blast - Start
[Statedef 1500]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -2500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PalFXWiz]
type = PalFX
trigger1 = time = 10
time = 80
add = 40,-150,-50
mul = 256,256,256
sinadd = 0,0,0,1
invertall = 0
color = 256

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,6

[State 0, FX]
type = Explod
trigger1 = time = 20
anim = 1510
ID = 1510
pos = 0,-15
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
supermove = 999
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0

[State 200, End]
type = ChangeState
triggerall = time >= 40
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 40+random%50
trigger4 = time = 70
value = 1501
;-------------------------------------------------------------------------------
; Chaos Blast - Release
[Statedef 1501]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1501
sprpriority = 2

[State 0, Chaos Blast - Helper]
type = Helper
trigger1 = time = 0
name = "Chaos Blast - Helper"
ID = 1550
stateno = 1550
pos = 0,0
postype = p1
facing = 1
size.xscale = .75
size.yscale = .75
keyctrl = 0
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 70
trigger1 = Timemod = 6,0
value = 1501
elem = 2

[State 200, End]
type = ChangeState
trigger1 = time = 300
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Chaos Blast - Skill Hitspark
[Statedef 1545]
type    = A
movetype= I
physics = N
anim = 8011
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Var(1)
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0

;-------------------------------------------------------------------------------
; Chaos Blast - Helper
[Statedef 1550]
type    = S
movetype= A
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1550
sprpriority = 990

[State 0, EnvShake]
type = EnvShake
trigger1 = timemod = 9,0
time = 20

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 2.1+root,fvar(2)+root,fvar(3)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 12
value = 0

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
pos = -1,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SP
animtype  = Heavy
damage    = 5,6
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1
fall.recover = 0
Sprpriority = 3
Envshake.time = 20
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, Chaos Blast - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Chaos Blast - Skill Hitspark"
ID = 1545
stateno = 1545
pos = -10+random%20,0-random%35
postype = p2
facing = -1
ownpal = 1
Size.Xscale = .25
Size.Yscale = .25

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1501

[State 200, End]
type = changestate
trigger1 = time = 200
value = 1560
;-------------------------------------------------------------------------------
; Chaos Blast - End
[Statedef 1560]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, VarSet]
type = VarAdd
trigger1 = time > 0
fv = 5
value = .05

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 0
scale = 1+fvar(5),1+fvar(5)
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 2.1+root,fvar(2)+root,fvar(3)

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30
ampl = -8

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 0
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, HP
animtype  = Up
damage    = 100
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 0,-8
air.velocity = 0,-8
Fall = 1
Fall.recover = 0
Getpower = 0,0
sprpriority = 3

[State 200, Chaos Blast - Explosion]
type = Explod
triggerall = Numexplod(1560) = 0
trigger1 = Movehit = 1
anim = 1560
ID = 1560
postype = P1
pos = 0,-30
facing = -1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9022) = 0
trigger1 = Movehit = 1
anim = 9022
ID = 9022
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0,FX]
type = Explod
trigger1 = time = 0
anim = 6009
ID = 8035
Pos = 20,20
postype = p1
Scale = 3,.20
sprpriority = -9
ontop = 0
ownpal = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1526
ID = 1526
Pos = -20,0
PosType = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -4
OwnPal = 1
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1525
ID = 1525
Pos = -20,0
PosType = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1526
ID = 1526
Pos = -220,0
PosType = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -4
OwnPal = 1
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1525
ID = 1525
Pos = -220,0
PosType = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1526
ID = 1526
Pos = 220,0
PosType = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -4
OwnPal = 1
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 0
Anim = 1525
ID = 1525
Pos = 220,0
PosType = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 10
;===============================================================================
;Choas Control - Start
[Statedef 1600]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1600
poweradd = -3000
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 50
movetime = 50
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-15
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PosAdd]
type = PosAdd
TriggerAll = P2BodyDist X != [-100,100]
trigger1 = AnimElem = 7
x = 75

[State 0, PosAdd]
type = PosAdd
TriggerAll = P2BodyDist X = [-100,100]
trigger1 = AnimElem = 7
x = P2BodyDist X - 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S500,1
channel = 1

[State 0, FX]
type = Explod
trigger1 = Time = 5
anim = 1610
ID = 1610
pos = 0,-0
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = 1,1
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, Ball FX]
type = Explod
trigger1 = Animelem = 6
anim = 1661
ID = 1661
pos = 20,-12
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .1,.1
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Dust FX]
type = Explod
TriggerAll = P2BodyDist X != [-50,50]
trigger1 = Animelem = 6
anim = 7022
ID = 1051
pos = 10,1
scale = .25,.25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Speed FX1]
type = Explod
trigger1 = Animelem = 6
anim = 580
ID = 001
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .8,.2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = ADD
Vel = -.5,0
Angle = 90
supermovetime = 99999
pausemovetime = 99999

[State 0, Speed FX1B]
type = Explod
trigger1 = Animelem = 6
anim = 580
ID = 001
pos = 5,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 0
removetime = -2
scale = .75,.175
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = SUB
Vel = -.5,0
Angle = 90
supermovetime = 99999
pausemovetime = 99999

[State 0, Speed FX2]
type = Explod
trigger1 = Animelem = 8
anim = 580
ID = 001
pos = -5,-25
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .8,.2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = ADD
Angle = 90
supermovetime = 99999
pausemovetime = 99999
[State 0, Speed FX2B]
type = Explod
trigger1 = Animelem = 8
anim = 580
ID = 001
pos = -5,-25
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .75,.15
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = SUB
Angle = 90
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 70
anim = 7033
ID = 7033
pos = 0,-15
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
supermove = 999
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0

[State 0, HitDef]
type = HitDef
TriggerAll = Time >= 48
trigger1 = !MoveContact
attr               = S,NA
hitflag            = MAF 
priority           = 3, Hit
guardflag          = MA
animtype           = Light
damage             = 0,0
pausetime          = 0,10
guard.pausetime    = 10,6
hitsound           = S5,7
guardsound         = S4,1
ground.type        = High
ground.slidetime   = 5
ground.hittime     = 15
ground.velocity    = -4,0
air.velocity       = -4,0
fall               = 0
kill               = 0
envshake.time      = 4
envshake.ampl      = -3
p1stateno          = 1601
p2stateno          = 1668
numhits            = 0
ground.cornerpush.veloff = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===============================================================================
;Choas Control (2)
[Statedef 1601]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1601
sprpriority = 2

[State 0, Super Armor]
type = Helper
trigger1 = time = 0
name = "Super Armor"
ID = 850
stateno = 850
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time >= 21
id = 1661
ignorehitpause = 1

; SOUNDS ============
[State 0, Voice]
type = PlaySnd
trigger1 = Time = 0
value = S0,8
volumescale = 100
[State 0, Voice]
type = PlaySnd
trigger1 = Time = 0
value = S0,8
volumescale = 100
[State 0, Voice]
type = PlaySnd
trigger1 = Time = 0
value = S0,8
volumescale = 100
[State 0, Voice]
type = PlaySnd
trigger1 = Time = 10
value = S0,9
volumescale = 100
[State 0, Voice]
type = PlaySnd
trigger1 = Time = 10
value = S0,9
volumescale = 100
[State 0, Voice]
type = PlaySnd
trigger1 = Time = 10
value = S0,9
volumescale = 100
;====================

[State 0, ChangeAnim]
type = ChangeAnim
TriggerAll = Time >= 20 && NumHelper(1660)=1
trigger1 = Time%8=0
value = 1601
elem = 2
ignorehitpause = 1

[State 0, Chaos Control Teleport FX]
type = Helper
trigger1 = time = 125
name = "Chaos Control Teleport FX"
ID = 1630
stateno = 1630
pos = 0,-15
postype = p2
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 2
size.yscale = 2

[State 0, FX]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "FX"
ID = 1640
stateno = 1640
facing = 1
pos = 0,0
postype = p1
ownpal = 1
IgnoreHitPause = 1
size.xscale = .7
size.yscale = .4
supermovetime = 99999
pausemovetime = 99999

[State 0, Choas Control - Helper]
type = Helper
trigger1      = Time = 0
helpertype    = normal
name          = "Choas Control - Helper"
ID            = 1660
stateno       = 1660
pos           = 0,0
postype       = p1
facing        = 1
keyctrl       = 0
ownpal        = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 155
anim = 7033
ID = 7033
pos = 0,-15
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 999
supermove = 999
scale = 1,1
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Teleport FX
[Statedef 1630]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 575
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,55
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = 1+time*.1,0+time*.1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, End]
type = Destroyself
trigger1 = animtime = 0
;-------------------------------------------------------------------------------
; FX
[Statedef 1640]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1640
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 26,-23;17,-13

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 5
scale = 1+time*.1,0+time*.1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 156,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno  = 1602
trigger2 = Parent,Stateno != 1601
;-------------------------------------------------------------------------------
; Choas Control - Helper
[Statedef 1660]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1660
sprpriority = 3

;[State 0, Critical Boost]
;type = AttackMulSet
;trigger1 = Root,Var(55)=3
;value = .5

; SOUNDS ============
[State 0, Hit 1]
type = PlaySnd
trigger1 = MoveHit = 1
value = S1,16
volumescale = 75
ignorehitpause = 1
Persistent = 6

[State 0, Hit 2]
type = PlaySnd
trigger1 = MoveHit = 1
value = S1,12
volumescale = 75
ignorehitpause = 1
Persistent = 6
; ===================

[State 0, ChangeToAttackMode]
type = StateTypeSet
trigger1 = Time >= 20
statetype = A
movetype = A
physics = S

[State 0, BindToParent]
type = BindToParent
trigger1 = Time = 0
pos = 32,-27

[State 0, PosAdd]
type = PosAdd
TriggerAll = Helper(1661),Time >= 20
trigger1 = Pos Y >= -60
x = 0
y = -0
ignorehitpause = 1

[State 0, Choas Control FXADD-1]
type = Helper
TriggerALL = NumHelper(1661)=0
trigger1 = Time = 1
helpertype = normal
name = "Choas Control FXADD-1"
ID = 1661
stateno = 1661
facing = 1
pos = 0,0
postype = p1
ownpal = 1
IgnoreHitPause = 1
size.xscale = .2
size.yscale = .2
supermovetime = 99999
pausemovetime = 99999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
IgnoreHitPause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, TargetBind]
type = TargetBind
trigger1 = 1
pos = 0,35

[State 0, HitDef]
type = HitDef
TriggerAll = HitCount < 39
Trigger1           = 1
attr               = S,SP
hitflag            = MAFD
priority           = 5, Hit
guardflag          = MA
animtype           = Medium
damage             = 5,1
pausetime          = 2,2
guard.pausetime    = 0,2
;hitsound           = S1,16/TimeMod=2,0
;guardsound         = S1,16
ground.type        = High
ground.slidetime   = 5
ground.hittime     = 15
ground.velocity    = -0,0
air.velocity       = -0,-.25
fall               = 0
envshake.time      = 8
envshake.ampl      = -6
PalFX.time = 75
PalFX.add = -50,-50,-50
PalFX.mul = 256,256,256
PalFX.sinadd = 20,20,20,20
PalFX.invertall = 0
PalFX.color = 200
SprPriority = 3
Kill = 0

[State 0, Hitspark A]
type = Helper
TriggerAll = Time >= 25
trigger1 = MoveHit = 1
helpertype = normal
name = "Hitspark A"
ID = 8011
stateno = 8011
pos = (10-Random%20),(-10-Random%40)
postype = P2
facing = Cond(Random<=500,1,-1)
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1
Persistent = 4

[State 1002, ChangeState]
type = ChangeState
trigger1 = HitCount >= 39
trigger2 = Parent,MoveType = H
Trigger3 = Time >= 100
value = 1665
ctrl = 0
;-------------------------------------------------------------------------------
; Choas Control FXADD-1
[Statedef 1661]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1661
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = Time = [20,35]
fv = 5
value = .4

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+FVar(5),1+FVar(5)
value = 0-(time*.5)
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno  = 1665
trigger2 = Parent,Stateno != 1660
;-------------------------------------------------------------------------------
; Choas Control - Fin
[Statedef 1665]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1665
sprpriority = 3

[State 0, ChangeToPassiveMode]
type = StateTypeSet
trigger1 = Time >= 20
statetype = S
movetype = A
physics = N

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .45,.45
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
TriggerAll = Time = [0,30]
trigger1 = Time%5=0
time = 8
ampl = -6

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 001

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 15
ampl = -10

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Choas Control Break FXADD]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Choas Control Break FXADD"
ID = 1666
stateno = 1666
facing = 1
pos = 0,0
postype = p1
ownpal = 1
IgnoreHitPause = 1
size.xscale = .5
size.yscale = .5

[State 0, RVL HitDef]
type = HitDef
Trigger1           = !MoveContact
attr               = A,SP
hitflag            = MAFD
priority           = 5,Hit
guardflag          = MA
animtype           = Heavy
damage             = 2,0
pausetime          = 0,10
guard.pausetime    = 0,10
ground.type        = High
ground.slidetime   = 5
ground.hittime     = 15
ground.velocity    = -4,-8
air.velocity       = -4,-8
Fall               = 1
Fall.Recover       = 0
envshake.time      = 4
envshake.ampl      = -3
Getpower           = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = AnimElem = 3
y = 0

[State 0, Hakai - Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Hakai - Helper"
ID = 1667
stateno = 1667
pos = 0,0
postype = p1
ownpal = 1
Supermovetime = 999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 200, End]
type = Destroyself
trigger1 = Time >= 4
;-------------------------------------------------------------------------------
; Choas Control Break FXADD
[Statedef 1666]
type    = S
movetype= A
physics = N
juggle  = 2
ctrl = 0
anim = 1666
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+(Time*.025),1+(Time*.025)
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = Time >= 20
fv = 8
value = 20

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-FVar(8),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;-------------------------------------------------------------------------------
; Choas Control - Destroy
[Statedef 1667]
type    = A
movetype= A
physics = N
anim = 1667
sprpriority = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,1
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,1
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,51
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S10,38
volumescale = 100

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 35,-34

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = !MoveContact
attr = SCA, HP
animtype  = Heavy
damage    = 100
Hitflag = MAFD
guardflag = MA
pausetime = 0,100
sparkno = -1
guard.sparkno = -1 ;s7000
sparkxy = -8,-0
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1
air.velocity = -1,-1
Fall = 0
Getpower = 0,0
EnvShake.Time = 8
EnvShake.Ampl = -6
sprpriority = 3

[State 0, TargetState]
type = TargetState
trigger1 = movehit = 1
value = 1669

[State 0, DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0
;-----------------------------------------------------------------------
; Chaos Control | P2
[Statedef 1668]
type    = A
movetype= H
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 2
Facep2 = 1

[State 0, PosSet]
type = PosSet
trigger1 = 1
y = -5
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = P2BodyDist X-10
ignorehitpause = 1

[State 0, HitFallSet] ;DO NOT FALL. I REPEAT. DO. NOT. FALL.
type = HitFallSet
trigger1 = 1
value = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5025+Cond(authorname = "Mikel8888"||authorname = "Rivelio",var(10),0)

[State 0, PlayerPush]
type = PlayerPush
TriggerAll = Time <= 15
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = Cond(BackEdgeBodyDist>50,1,0)

[State 200, End]
type = SelfState
trigger1 = Time >= 25
value = 5000
;
;;-----------------------------------------------------------------------
;; Chaos Control | P2
[Statedef 1669]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !time
value = 5012
elem = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time > 0
trigger1 = animtime = 0
value = anim
elem = (animelemno(0))
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = invisible
flag2 = Noshadow
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 1
y = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time < 1
value = 5030;5150
ctrl = 0
ignorehitpause = 1
;;-------------------------------------------------------------------------------
; P2 - To Destruction
[Statedef 1670]
type    = S
movetype= H
physics = N
juggle  = 1
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 200, End]
type = ChangeState
trigger1 = Time = 1
value = 5030;5150