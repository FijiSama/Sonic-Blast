;===============================================================================
;  DarkSpine sonic After image
;-------------------------------------------------------------------------------
[Statedef 2592]
movetype = I
anim = 9999
sprpriority = -1
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 22
value = .038
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 23
value = .027
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(22),1+fvar(23)
ignorehitpause = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = selfanimexist(root,anim)
value = (root,anim)
elem = (root,animelemno(0))

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
facing = 1
pos = 0,0.5
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 170,256
ignorehitpause = 1


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 2
add = 200,200,200
mul = 256,256,100
sinadd = 0,0,100,1
invertall = 0
color = 256
ignorehitpause = 1




[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 3200
trigger4 = root,stateno = 15620||root,stateno = 151410||root,stateno = 151510||root,stateno = 601

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 15620||root,stateno = 151410||root,stateno = 151510||root,stateno = 601

;-------------------------------------------------------------------------------
; Aura Permanente DarkSpine sonic
[Statedef 2563]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, Aura Alante]
type = Explod
trigger1 = timemod = 4,0
anim = 560
ID = 001
pos = -10*Helper(999999),Fvar(16)+random%20*Helper(999999),Fvar(16),2-random%30*Helper(999999),Fvar(16)
postype = p1
facing = 1
removetime = -2
bindtime = -1
scale = .1*Helper(999999),Fvar(16),.12*Helper(999999),Fvar(16)
sprpriority = 3
trans = addalpha
alpha = 256,256
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = 0+random%90

[State 0, Estellas]
type = Explod
triggerall = root,var(2) = 5
trigger1 = timemod = 35,0
trigger2 = numhelper(849) = 1
anim = 700
ID = 700
pos = 0,-5
postype = p1
bindtime = -1
vel = 0,0
removetime = 35
scale = .13,.13
sprpriority = -3
ownpal = 1
removeongethit = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 100
ID = 700
postype = p1
Pos = 15,-15
bindtime = -1
angle = 90
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 101
ID = 700
bindtime = -1
postype = p1
Pos = -15,-15
angle = -90
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 151410||root,stateno = 151510||root,stateno = 151620
ID = 700
postype = p1
Pos = 10,-15
bindtime = -1
angle = -45
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 50
ID = 700
postype = p1
Pos = 0,-5
bindtime = -1
angle = 0
sprpriority = -3

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = root,stateno = 813
ID = 700
bindtime = -1
postype = p1
Pos = 0,0
angle = -0
sprpriority = -3
scale = 0,0

[State 0, ModifyExplod]
type = ModifyExplod
trigger1 = numhelper(450) = 1
ID = 700
bindtime = -1
postype = p1
Pos = 0,0
angle = -0
sprpriority = -3
scale = 0,0

[State 0, Turn]
type = Turn
trigger1 = facing != root,facing

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = -1
trigger2 = root,life = 0
trigger3 = root,var(2) = 0
;===============================================================================
;  DarkSpine sonic After image - 2
;-------------------------------------------------------------------------------
[Statedef 2593]
movetype = I
anim = 9999
sprpriority = -1
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 22
value = .088
ignorehitpause = 1


[State 0, VarAdd]
type = VarAdd
trigger1 = time  = 0
fv = 23
value = .041
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1+fvar(22),1+fvar(23)
ignorehitpause = 1


[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 1
ignorehitpause = 1

[State 0, anim]
type = changeanim
trigger1 = selfanimexist(root,anim)
value = (root,anim)
elem = (root,animelemno(0))

[State 0, BindToParent]
type = BindToroot
trigger1 = 1
facing = 1
pos = 0,0.5
ignorehitpause = 1


[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 40,256
ignorehitpause = 1


[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 2
add = 200,200,200
mul = 256,256,100
sinadd = 0,0,100,1
invertall = 0
color = 256
ignorehitpause = 1



[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 15620
trigger4 = root,stateno = 15620||root,stateno = 151410||root,stateno = 151510||root,stateno = 601

[State 200, End]
type = Destroyself
trigger1 = root,life = 0
trigger2 = root,var(2) = 0
trigger3 = root,stateno = 15620
trigger4 = root,stateno = 15620||root,stateno = 151410||root,stateno = 151510||root,stateno = 601
;---------------------------------------------------------------------------
;===========================================================================
; Super Mecha Sonic Transform
[Statedef 804]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 804
poweradd = -1000
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 3    ;fv = 10
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 50
value = 1,250
volumescale = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,67
volume = 999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 886
ID = 870
pos = 25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
pausemovetime = 0
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 887
ID = 870
pos = -25,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
pausemovetime = 0
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 888
ID = 870
pos = 0,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 60
pausemovetime = 0
scale = .8,.8
sprpriority = 3
ontop = 0
shadow = 0,0,0
ownpal = 1
removeongethit = 0
supermove = 9999
pausemove = 9999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,801
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 6
value = S1,197
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 48
value = S1,1005
volume = 999

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 180
movetime = 180
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 0

[State 0, Luz FX]
type = Helper
trigger1 = time = 6
helpertype = normal
name = "Luz FX"
ID = 850
stateno = 852
pos = 0,-50
postype = p1
facing = -1
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)
ignorehitpause = 1
supermovetime = 999
supermove = 999
pausemovetime = 999

[State 0, Full Power - Aura BG]
type = Helper
trigger1 = time = 60
name = "Full Power - Aura BG"
ID = 550
stateno = 895
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Full Power - Aura]
type = Helper
trigger1 = time = 60
name = "Full Power - Aura"
ID = 550
stateno = 896
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .45
size.yscale = .45
supermovetime = 99999999
pausemovetime = 99999999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 60
helpertype = Normal
name = "S1 Activado"
ID = 845
stateno = 845
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Explosion]
type = Explod
trigger1 = time = 60
anim = 705
ID = 705
pos = 5,26
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .4,.4
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermove = 99999
supermovetime = 99999
pausemovetime = 99999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 60||time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Super Tails - Activado
[Statedef 845]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = -1

[State 0, ParentVarSet]
type = ParentVarSet
trigger1 = time = 0
v =  2   ;fv = 
value = 5
;ignorehitpause = 
;persistent = 

[State 200, End]
type = Destroyself
trigger1 = ifelse(root,ailevel > 0,time >= 1000,time >= 1)
;===========================================================================
; Hyper Shadic Turn off
[Statedef 813]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 813
sprpriority = 2


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1,1005
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S1,1005
volume = 999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 13
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, SS1 Activado]
type = Helper
trigger1 = time = 14
helpertype = Normal
name = "S1 Desactivado"
ID = 849
stateno = 849
pos = 999,999
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===========================================================================
; Full Power - Aura BG
[Statedef 895]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 561
sprpriority = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,-53

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = DestroySelf
trigger1 = root,stateno != 804
trigger2 = root,time = 200
;-------------------------------------------------------------------------------
; Full Power - Aura
[Statedef 896]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 562
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = -1,0

[State 0, EnvShake]
type = EnvShake
trigger1 = time%5 = 0
time = 5
ampl = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 15
trigger1 = timemod = 30,0
value = S500,2
channel = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != (800,900)
id = 550

[State 0, Rayos FX]
type = Explod
Triggerall = Root,Var(2) = 3
trigger1 = timemod = 10,0
anim = 9030+(RANDOM%4)
ID = 9030
pos = -10+random%40,-10-random%60
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .45,.45
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
trigger1 = time = 105
anim = 7022
ID = 550
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento]
type = Explod
trigger1 = time = 105
anim = 7022
ID = 550
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 804
trigger2 = root,time = 200
;---------------------------------------------------------------------------
; A - 1
[Statedef 15200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15200
poweradd = 100
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 4.5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 5
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = -15

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15210

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 2
[Statedef 15210]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15210
poweradd = 100
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 5
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = -15

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15220

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 3
[Statedef 15220]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15220
poweradd = 100
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,265
volume = 100

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 15
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 3
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15

[State 0, Turn]
type = Turn
triggerall = p2bodydist x <-1
trigger1 = animelem = 5

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
triggerall = var(2) = 5
trigger1 = time = 0
anim = 7035
ID = 7035
pos = -10,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 5
x = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 8,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,0
Envshake.time = 15

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15230

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15300

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 4
[Statedef 15230]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15230
poweradd = 100
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 4051
ID = 4051
pos = 1,-22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.12,0.12
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-8
air.velocity = -3,-8
fall = 1
fall.recover = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15240

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; A - 5
[Statedef 15240]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15400
poweradd = 100
sprpriority = 2

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animtime = 0
value = 15240

[State 0, Teleport]
type = Helper
trigger1 = time = 23||time = 24
helpertype = normal
name = "Teleport"
ID = 580
stateno = 580
pos = 0,-30*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .3*Helper(999999),Fvar(16)
size.yscale = .3*Helper(999999),Fvar(16)
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 24
x = p2bodydist x -0
y = p2bodydist y -0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 23
anim = 9073
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
ownpal = 1
Removetime = 30
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = animelem = 1||animelem = 2||animelem = 3||animelem = 4
attr = S, NA
damage = 1
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 0,0
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-0
air.velocity = -2,-0

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 151550
ID = 151550
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 55
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15600

[State 200, End]
type = ChangeState
Triggerall = movecontact && time > 55
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15610

[State 200, End]
type = ChangeState
trigger1 = time = 65
value = 50
ctrl = 1
;===============================================================================
; B - 1
;-------------------------------------------------------------------------------
[Statedef 15300]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 15300
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 4051
ID = 4051
pos = 5,-25
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.12,0.1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -65

[State 0, Speed FX]
type = Explod
trigger1 = time = 0
anim = 580
ID = 580
pos = 0*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = -1
removetime = -2
scale = .6*Helper(999999),Fvar(16),.1*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = sub
vel = 5,0
angle = -90

[State 0, Air Dash Wave]
type = Explod
trigger1 = time = 0
anim = 108
ID = 116
pos = 5*Helper(999999),Fvar(16),-25*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .15*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1
Vel = -1,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 
x = 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = ifelse(var(2) = 3,8,10),9
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15210

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15310

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; B - 2
;-------------------------------------------------------------------------------
[Statedef 15310]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 15310
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S180,49+(random%3)
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,6
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0 
x = 3

[State 0, Explod]
type = Explod
trigger1 = time = 4
anim = 4051
ID = 4051
pos = 5,-17
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.12,0.1
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -25

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = ifelse(var(2) = 3,8,10),9
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Envshake.time = 5

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1


[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15320

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15220

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 3
[Statedef 15320]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15320
poweradd = 100
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 5
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = -15

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15330

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15230

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; B - 4
[Statedef 15330]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 15330
poweradd = 100
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 9103
ID = 9100
pos = 16,-9
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .18,.18
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 3
anim = 4051
ID = 4051
pos = 1,-22
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = -1
bindtime = -1
removetime = -2
pausemovetime = 0
scale = 0.12,0.15
sprpriority = 3
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1
supermove = 9999
pausemove = 9999
angle = -50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-8
air.velocity = -3,-8
fall = 1
fall.recover = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15340

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
;B - 5
;-------------------------------------------------------------------------------
[Statedef 15340]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 15340
poweradd = 100
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S180,49+(random%3)
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 11
value = S180,49+(random%3)
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,300
volume = 999

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 12
statetype = A       ;S,A,C,L
movetype = A        ;I,A,H
physics = A         ;A,C,S,N
;ignorehitpause = 
;persistent = 

[State 0, Helper]
type = Helper
triggerall = var(2) = 2||var(2) = 3
trigger1 = time = 0
helpertype = normal 
name = "girando"
ID = 209
stateno = 11209
pos = 0,0
postype = p1   
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999
pausemovetime = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 12
x = p2bodydist x
y = p2bodydist y

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 7020
ID = 7020
pos = -5,7
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = 0
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1


[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 10
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = s7030
sparkxy = -8,-25
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-2
air.velocity = -3,-2
Fall = 1
Envshake.time = 15

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 35
trigger2 = movecontact
x = 0
y = 0

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15600

[State 200, End]
type = ChangeState
Triggerall = movecontact
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15610

[State 200, End]
type = ChangeState
trigger1 = time = 40
value = 50
ctrl = 1
;===============================================================================
; C:
;-------------------------------------------------------------------------------
[Statedef 15400]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 15400
velset = 0,0
poweradd = -200
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50

[State 0, Wind]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Wind"
ID = 15405
stateno = 15405
pos = 3*Helper(999999),Fvar(16),-18*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .42*Helper(999999),Fvar(16)
size.yscale = .38*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fire ball
[Statedef 15405]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 6,0
ctrl = 0
anim = 15450
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 15453
ID = 15453
pos = -20,-0
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .2,.2
sprpriority = 1
ownpal = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15410
time = 999

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15406
stateno = 15406
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 20,10
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-0
air.velocity = -3,-0
Envshake.time = 20
Sprpriority = 3

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 200, End]
type = changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < -100
trigger3 = frontedgebodydist < -25
trigger4 = time = 500
value = 15410
;---------------------------------------------------------------------------
;FX
[StateDef 15406]
type = S
physics = S
ctrl = 0
anim = 15451
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = noshadow
ignorehitpause =1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 90

[State 0, Trans]
type = Trans
trigger1 =1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;---------------------------------------------------------------------------;-------------------------------------------------------------------------------
; Mini Cruel Sun - Projectil Roto
[Statedef 15410]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 9999
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,27
volume = 50

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 30

[State 0, Explosion]
type = Explod
triggerall = prevstateno != 151450||prevstateno != 151460
trigger1 = time = 0
anim = 71555
ID = 71555
pos = 0,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, Explosion]
type = Explod
triggerall = prevstateno = 151450||prevstateno = 151460
trigger1 = time = 0
anim = 71555
ID = 71555
pos = 0,0
postype = p1
scale = .4,.4
sprpriority = 3
ontop = 1
ownpal = 1

[State 200, End]
type = Destroyself
trigger1 = time = 1
;---------------------------------------------------------------------------
; Air Combo 1-2
[Statedef 15600]
type = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 15600
poweradd = 100
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = movecontact = 1
x = -1
y = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,220
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 15
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6004
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,5
air.velocity = -5,5
Fall = 1
Envshake.time = 5

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
; Air Combo 1-1
[Statedef 15610]
type    = A
movetype= A
physics = A
juggle  = 2
poweradd= 11
ctrl = 0
anim = 15610

[State 0, VelSet]
type = VelSet
trigger1 = prevstateno = 15340||prevstateno = 15240
x = 7
y = -5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,200
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype = Medium
damage = 10
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-4
Fall = 0

[State 0, Explosion]
type = Explod
trigger1 = Movehit = 1
anim = 151550
ID = 151550
pos = 0,-25
postype = p2
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 200, End]
type = ChangeState
Triggerall = movehit
trigger1 = ailevel = 0 && command = "b"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)
value = 15600

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; C:
;-------------------------------------------------------------------------------
[Statedef 15620]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 15400
velset = 0,0
poweradd = -200
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 15
value = S5,59
volume = 50

[State 0, Wind]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Wind"
ID = 15625
stateno = 15625
pos = 3*Helper(999999),Fvar(16),-18*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .42*Helper(999999),Fvar(16)
size.yscale = .38*Helper(999999),Fvar(16)

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Fire ball
[Statedef 15625]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 6,5
ctrl = 0
anim = 15450
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 15453
ID = 15453
pos = 0,-25
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .2,.2
sprpriority = 1
ownpal = 1
trans = add
angle = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15410
time = 999

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15626
stateno = 15626
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 20,10
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-0
air.velocity = -3,-0
Envshake.time = 20
Sprpriority = 3

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 200, End]
type = changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < -100
trigger3 = pos y >= 25
trigger4 = time = 500
value = 15410
;---------------------------------------------------------------------------
;FX
[StateDef 15626]
type = S
physics = S
ctrl = 0
anim = 15451
sprpriority = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 =1
flag = noshadow
ignorehitpause =1

[State 0, AngleDraw]
type = AngleDraw
trigger1 =1
value = 45

[State 0, Trans]
type = Trans
trigger1 =1
trans = add

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0
;===============================================================================
;Miss
;-------------------------------------------------------------------------------
[Statedef 15301]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 15301
poweradd = 0
velset = 0,0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 9999
ID = 75750
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 50

[State 0, ReversalDef]
type = ReversalDef
trigger1 = time >= 5
reversal.attr = SCA,NA,ST,HT,NP,SA          ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
pausetime = 0,10
sparkno = S9999
p1stateno = 15303

[State 200, End]
type = ChangeState
trigger1 = time = 50
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Miss Continue
[Statedef 15303]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 15302
poweradd = -250
velset = 0,0
sprpriority = 2

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Animtime = 0
id = 75750

[State 0, Explosion]
type = Explod
triggerall = numexplod(71555) = 0
trigger1 = Movehit = 1
anim = 71555
ID = 71555
pos = 0,-25
postype = p2
scale = .3,.3
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = movecontact
time = 10
ampl = -4

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 3
movetime = 3

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 40
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 8,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S5,27
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-4
air.velocity = -2.5,-4
fall = 1
fall.recover = 0

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;------------------------------SPECIALS-----------------------------------------
; Rage Punch 1
[Statedef 151000]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151000
poweradd = -500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = [30,70]
x = 17
y = 0 

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 30
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 7035
ID = 7032
pos = -10,-25
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2,.2
sprpriority = 1
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S60,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S60,1
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S60,1
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 30
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [30,70]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 200, Combo]
type = ChangeState
trigger1 = time >= 30 && p2bodydist x <= 60
value = 151001

[State 200, End]
type = ChangeState
trigger1 = Time = 70
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Rage Punch 2
[Statedef 151001]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151001
poweradd = -500
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 15
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 20,20
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,0
air.velocity = -8,-4
kill = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 12
value = 151002

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Rage Punch 3
[Statedef 151002]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151002
poweradd = 0
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall = !movecontact
trigger1 = 1
x = 4

[State 0, VelSet]
type = VelSet
triggerall = movecontact
trigger1 = 1
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S180,55
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S180,55
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5
value = S180,55
volume = 100

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 9073
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
Removetime = -1
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, 1]
type = HitDef
triggerall = time > 5
trigger1 = timemod = 1,0
attr = S, NA
animtype  = Light
damage    = 1
guardflag = MA
pausetime =ifelse(var(2) = 3,1,2),10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound   = S1,6009
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0
air.velocity = -0,-1
Fall = 0
Envshake.time = 5
kill = 0

[State 0, Run Fwd FX]
type = Explod
triggerall = time = [30,75]
trigger1 = timemod = 3,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Hit Spark]
type = Explod
persistent = 3
trigger1 = Movehit = 1
postype = P2
pos = -10+random%-20,-10-random%-25
anim = 151550
ID = 151550
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
supermovetime = 999
ignorehitpause = 1

[State 0, Fire FX]
type = Explod
trigger1 = time <= 75
anim = 151050
ID = 151050
pos = -10*Helper(999999),Fvar(16)+random%40*Helper(999999),Fvar(16),40*Helper(999999),Fvar(16)-random%30*Helper(999999),Fvar(16)
postype = p1
facing = 1
vel = 17,0
vfacing = 1
bindtime = -1
removetime = -2
scale = .4*Helper(999999),Fvar(16),.3*Helper(999999),Fvar(16)
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time <= 70
trigger2 = timemod = 4,0
anim = 900
ID = 900
pos = -5,-25
postype = p1  ;p2,front,back,left,right
vel = -15,-5+random%10
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999

[State 200, End]
type = ChangeState
trigger1 = movehit && time = 75
value = 151003

[State 200, End]
type = ChangeState
trigger1 = time = 80
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Rage Punch 4
[Statedef 151003]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151003
poweradd = 0
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 2
anim = 9103
ID = 9100
pos = 16,-9
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .18,.18
sprpriority = 3
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time = 6
anim = 4055
ID = 4055
pos = -5,-5
postype = p1 
facing = 1
vfacing = 1
bindtime = 1
vel = -3,0
removetime = -2
pausemovetime = 9999
scale = .4,.5
sprpriority = 3
ontop = 1
ownpal = 1
ignorehitpause = 1
supermove = 9999
supertime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 0
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 1
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 2
id = 9055
[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = time = 3
id = 9055

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 5
y = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,250
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 8,10
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -5,-4

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 200, End]
type = ChangeState
trigger1 = animTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Fire Burst 1
[Statedef 151100]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151100
poweradd = -500
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 30
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 15
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,0
air.velocity = -2.5,-4
kill = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Wind FX]
type = Explod
triggerall = numexplod(7018)= 0
trigger1 = time = 35
anim = 7045
ID = 7018
pos = 20,-17
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .075,.075
vel = 1,0
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
supermove = 999
supermovetime = 999
pausemove = 999
pausemovetime = 999
angle = -15

[State 200, End]
type = ChangeState
trigger1 = movehit && AnimTime = 0
value = 151101

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Fire Burst 2
[Statedef 151101]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151101
poweradd = -500
sprpriority = 2

[State 0, Helper]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "burst"
ID = 151150
stateno = 151150
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0
size.xscale = 0.25
size.yscale = 0.25

[State 0, Shadow FX]
type = Explod
triggerall = time > 5 && numhelper(151150) > 0
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-5-Random%35)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 0, Fumaa leve atras]
type = Explod
triggerall = time = [5,70]
trigger1 = timemod = 7,0 
anim = 7022
ID = 7021
pos = -10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.5*Helper(999999),Fvar(16),0.5*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 200, End]
type = ChangeState
triggerall = numhelper(151150) = 1
trigger1 = helper(151150),movehit && Time = 70
value = 151102

[State 200, End]
type = ChangeState
trigger1 = Time = 70
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; Fire Burst 3
[Statedef 151102]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151102
poweradd = 0
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time > 5
value = 30

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 4
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 20
animtype = Heavy
guardflag = MA
hitflag = MAF
pausetime = 5,3
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5,0
air.velocity = -5,-4

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 5
x = p2bodydist x + 3

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 151155
ID = 151155
pos = -55,-10
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 0.4,0.4
ontop = 1
removeongethit = 1
angle = 90

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [7000,7001]
trigger1 = movehit = 1
value = 7000

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;Burst
[statedef 151150]
type    = s
movetype= a
physics = s
anim = 151150
ctrl = 0
sprpriority = 3

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, BindToParent]
type = BindToParent
trigger1 =  1
time = 1
pos = 115,-22

[State 0, Explod]
type = Explod
trigger1 = movehit = 1
anim = 151155
ID = 151155
pos = -10+random%20,-70+random%40
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 0.12,0.12
sprpriority = 0
ontop = 1
removeongethit = 0
ignorehitpause = 1
persistent = 5
supermove = 9999
pausemove = 9999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[state 200, 1]
Type = hitdef
Trigger1 = timemod = 3,0
attr = S, NA
damage = 2,2
animtype = medium
guardflag = MA
Hitflag = MAFDE
guardflag = MA
pausetime = 0,0
hitsound = S1,26
guardsound = s6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -2,0
airguard.velocity = -3,0
air.type = High
air.velocity = -5, 0
air.hittime = 12
sprpriority = 100
Envshake.time = 14
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 14
getpower = 0,0
sparkno = s9999999990
kill = 0

[State 0, DestroySelf]
Type = DestroySelf
trigger1 = time = 65
;---------------------------------------------------------------------------
;Super Fire Punch
[Statedef 151200]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151200
poweradd = -1250
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time = 32
anim = 9103
ID = 9100
pos = 25,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
scale = .15,.15
sprpriority = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Explod]
type = Explod
trigger1 = time > 39 && numhelper(151250) = 1 && timemod = 20,0
trigger2 = time = 39
anim = 151255
ID = 151255
pos = 10,-90*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 2,-2
removetime = -2
scale = .45*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time > 39 && numhelper(151250) = 1 && timemod = 20,0
trigger2 = time = 39
anim = 151250
ID = 151250
pos = 70*Helper(999999),Fvar(16),-55*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 1,-1
removetime = -2
scale = 0.5*Helper(999999),Fvar(16),0.7*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 0, Fire Tornado]
type = Helper
trigger1 = time = 39
helpertype = normal
name = "Fire Tornado"
ID = 151250
stateno = 151250
pos = 30,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = unguardable

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 30
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 15

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,200
volume = 100

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
damage = 10
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 5,8
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-4
air.velocity = -1,-4
fall = 1
fall.recover = 0
kill = 0

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
[State 200, End]
type = ChangeState
triggerall = numhelper(151250) = 1
trigger1 = helper(151250),movehit && time = 159
value = 151201

[State 200, End]
type = ChangeState
trigger1 = time > 39 && numhelper(151250) = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Super Fire Punch
[Statedef 151201]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151201
poweradd = 0
sprpriority = 2

[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 5
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 6
x = p2bodydist x -15
y = p2bodydist y -5

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Light
damage = 30
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,-2
hitsound = S1,6004
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -0,0
air.velocity = -0,0
Fall = 1
envshake.time = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,20
volume = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,20
volume = 100

[State 200, Spark CVS]
type = Explod
triggerall = Numexplod(7760) = 0
trigger1 = Movehit = 1
anim = 7760
ID = 7760
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
persistent = -1
angle = 0+random%360
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8100
trigger1 = movehit = 1
value = 8100

[State 0, Explod]
type = Explod
trigger1 = time = 5
anim = 580
ID = 580
pos = -10+random%10,-5+random%5
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
angle = -45
persistent = 3
supermove = 999
pausemove = 999

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 580
ID = 580
pos = -10+random%-20,-35+random%-40
postype = p1  ;p2,front,back,left,right
removetime = -2
pausemovetime = 0
scale = .25,.25
sprpriority = 3
ontop = 1
angle = -45
persistent = 3

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 603
;---------------------------------------------------------------------------
; Tornado Fire - Start
[Statedef 151250]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151260
sprpriority = 2

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, 1]
type = HitDef
trigger1 = timemod = 3,0
attr = S, NA
damage = 3
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 3,2
sparkno = -1
guard.sparkno = s7030
sparkxy = -4,2
hitsound = S5,68
guardsound = S1,6030
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-1.5
air.velocity = -1,-1.5
fall = 1
fall.recover = 0
envshake.time = 10
kill = 0

[State 0, DestroySelf]
Type = DestroySelf
trigger1 = time = 100
trigger2 = root,stateno != 151200
;---------------------------------------------------------------------------
;Fire Explosion
[Statedef 151300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151300
poweradd = -1000
sprpriority = 2

[State 0, Viento]
type = Explod
trigger1 = time > 30 && timemod = 15,0
trigger2 = time = 30
anim = 151320
ID = 550
pos = -22,6
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .12,.12
vel = -2,0
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Viento]
type = Explod
trigger1 = time > 30 && timemod = 15,0
trigger2 = time = 30
anim = 151320
ID = 550
pos = 22,6
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .12,.12
vel = 2,0
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Tornado Helper]
type = Helper
trigger1 = time > 30 && timemod = 7,0
trigger2 = time = 30
helpertype = normal
name = "Tornado Helper"
ID = 151330
stateno = 151330
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .6*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)

[State 0, Explod]
Type = Explod
trigger1 = time = 35
Anim = 1525
ID = 1525
Pos = 0,-40
postype = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
Type = Explod
trigger1 = time = 35
Anim = 1525
ID = 1525
Pos = 0,-40
postype = P1
RemoveTime = -2
SuperMoveTime = -1
PauseMoveTime = -1
Scale = .75,.75
SprPriority = -5
OwnPal = 1
trans = sub
RemoveOnGetHit = 0
IgnoreHitPause = 1

[State 0, Explod]
type = Explod
trigger1 = time > 30 && timemod = 15,0
trigger2 = time = 30
anim = 151255
ID = 151255
pos = -15,-90*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-2
removetime = -2
scale = .6*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
Angle = 95
[State 0, Explod]
type = Explod
trigger1 = time > 30 && timemod = 15,0
trigger2 = time = 30
anim = 151255
ID = 151255
pos = 15,-90*Helper(999999),Fvar(16)
postype = p1
facing = -1
vfacing = 1
bindtime = 1
vel = 0,-2
removetime = -2
scale = .6*Helper(999999),Fvar(16),.6*Helper(999999),Fvar(16)
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
Angle = 95

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explosion]
type = Helper
trigger1 = time >= 30 && timemod = 15,0
helpertype = normal
name = "Explosion"
ID = 151350
stateno = 151350
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4*Helper(999999),Fvar(16)
size.yscale = .6*Helper(999999),Fvar(16)

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 90
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;tornado Helper
[Statedef 151330]
type    = S
movetype= A
physics = N
velset = 0,0
ctrl = 0
anim = 151330
sprpriority = 3

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0
y = -8

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 40
;-------------------------------------------------------------------------
;Explosion
[Statedef 151350]
type    = s
movetype= a
physics = s
anim = 151350
ctrl = 0
sprpriority = 2

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Explosion FX III]
type = Explod
trigger1 = time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[state 200, 1]
Type = hitdef
Trigger1 = !movecontact
attr = S, NA
damage = 30,15
animtype = medium
guardflag = MA
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -0,-4
airguard.velocity = -0,-4
air.type = High
air.velocity = -0,-2
air.hittime = 12
sprpriority = 100
Envshake.time = 14
palfx.time = 30
palfx.add = 240,50,0
palfx.mul = 250,224,120
palfx.sinadd = 110,55,85,10
envshake.time = 14
getpower = 0,0
sparkno = s9999999990

[State 0, EnvShake]
type = EnvShake
trigger1 = movehit
time = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,60
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,60
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,60
volume = 50

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 2*Helper(999999),Fvar(16),-90*Helper(999999),Fvar(16)

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;---------------------------------------------------------------------------
;Fire BAll Punch
[Statedef 151400]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151400
poweradd = -1000
sprpriority = 2

;-----------------------Clash------------------------------------------------
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = numhelper(75250) = 1
value = 151401

[State 0, ChangeState]
type = ChangeState
triggerall = anim = 151401
trigger1 = enemy,stateno = [0,190]
value = 0
ctrl = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 25    ;fv = 10
value = 0

[State 0, playsnd]
type = playsnd
triggerall = anim = 151401
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/8
value = S5,7
volume = 50

[State 0, VarAdd]
type = VarAdd
triggerall = anim = 151401
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/8
v =  25   
value = 1

[State 0, Explod]
type = Explod
triggerall = anim = 151401
trigger1 = command = "a"
trigger2 = roundstate = 2 && ailevel > 0 && random < (ailevel * 100)/8
anim = 7037
ID = 7032
pos = 20*Helper(999999),Fvar(16),-17*Helper(999999),Fvar(16)
sprpriority = 2
supermove = 1
removetime = -2
ownpal = 1
scale = .2,.2
vel = -5,0
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fumaa leve atras]
type = Explod
triggerall = anim = 151401
trigger1 = timemod = 12,0 
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .5*Helper(999999),Fvar(16),.5*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Fumaa leve atras]
type = Explod
triggerall = anim = 151401
trigger1 = command = "a"
anim = 7022
ID = 7021
pos = 10,3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = 1*Helper(999999),Fvar(16),1*Helper(999999),Fvar(16)
sprpriority = -5
ontop = 1
shadow = 0
ownpal = 1
removeongethit = 1
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)

[State 0, Shadow FX]
type = Explod
triggerall = anim = 151401
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (0-Random%20)*Helper(999999),Fvar(16),(-0-Random%30)*Helper(999999),Fvar(16)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.15*Helper(999999),Fvar(16)
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90
pausemovetime = ifelse(numhelper(1350) > 0,99999,0)
;----------------------------------------------------------------------------

[State 0, Wind]
type = Helper
trigger1 = time = 33
helpertype = normal
name = "Wind"
ID = 151450
stateno = 151450
pos = 3*Helper(999999),Fvar(16),-18*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time = 33
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 200, End]
type = ChangeState
triggerall = numhelper(151450) = 0
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fire BAll Punch
[Statedef 151410]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151400
poweradd = -1000
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, Wind]
type = Helper
trigger1 = time = 33
helpertype = normal
name = "Wind"
ID = 151460
stateno = 151460
pos = 3*Helper(999999),Fvar(16),-18*Helper(999999),Fvar(16)
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1*Helper(999999),Fvar(16)
size.yscale = 1*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Fire ball
[Statedef 151450]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 8,0
ctrl = 0
anim = 151450
sprpriority = 3

[State 0, Explosion]
type = Explod
trigger1 = movecontact
anim = 71555
ID = 71555
pos = 0,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .42+time*.05,.38+time*.05
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
scale = 1,1
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 15453
ID = 15453
pos = -20,-0
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .4,.4
sprpriority = 1
ownpal = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15410
time = 999

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15406
stateno = 15406
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 200, 1]
type = HitDef
Triggerall = !moveguarded
triggerall = hitcount < 10
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 20,0
guardflag = MA
pausetime = 5,3
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-2
air.velocity = -3,-2
Envshake.time = 20
Sprpriority = 3
fall = 1
fall.recover = 0

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Clash]
type = Helper
triggerall = enemy,Numexplod(8597515) = 1
trigger1 = time = 0
helpertype = normal
name = "Clash"
ID = 859751575
stateno = 859751575
pos = 10,0
facing = -1
ownpal = 1
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = Numhelper(859751575) = 1 && enemy,Numhelper(859751575) = 1 
Trigger1 = movecontact
value = 1450
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = Numhelper(859751575) = 1 && enemy,Numhelper(859751575) = 1 
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1450
time = 999999999
ignorehitpause = 1

[State 200, End]
type = changestate
trigger1 = hitcount > 5
trigger2 = frontedgebodydist < -100
trigger3 = frontedgebodydist < -25
trigger4 = time = 500
value = 15410
;---------------------------------------------------------------------------
;Fire ball
[Statedef 151460]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 8,6
ctrl = 0
anim = 151450
sprpriority = 3

[State 0, Explosion]
type = Explod
trigger1 = movecontact
anim = 71555
ID = 71555
pos = 0,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time < 10
scale = .42+time*.05,.38+time*.05
ignorehitpause = 1
value = -45

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 10
scale = 1,1
ignorehitpause = 1
value = -45

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 15453
ID = 15453
pos = -20,-0
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .4,.4
sprpriority = 1
ownpal = 1
trans = add
angle = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15410
time = 999

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15626
stateno = 15626
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 200, 1]
type = HitDef
Triggerall = !moveguarded
triggerall = hitcount < 10
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 20,0
guardflag = MA
pausetime = 5,3
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-2
air.velocity = -3,-2
Envshake.time = 20
Sprpriority = 3
fall = 1
fall.recover = 0

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 200, End]
type = changestate
trigger1 = hitcount > 5
trigger2 = frontedgebodydist < -100
trigger3 = pos y >= 25
trigger4 = time = 500
value = 15410
;-------------------------------------------------------------------------------
;Wind Clash
[Statedef 151470]
type = S
movetype = A
physics = S
sprpriority = 3
ctrl = 0
poweradd = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2

[State 0, EnvShake]
type = EnvShake
triggerall = time > 0
trigger1 = time%5 = 0
time = 4
ampl = -9

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal ;player
name = "clash on"
ID = 75250
stateno = 75250
pos = 0,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 0
pausemovetime = 0

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15626
stateno = 15626
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9


[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = time%1=0
anim = 15453
ID = 15453
pos = -20,-0
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .4,.4
sprpriority = 1
ownpal = 1
trans = add

[State 0, Explosion]
type = Explod
trigger1 = movecontact
anim = 71555
ID = 71555
pos = 0,0
postype = p1
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = root,var(25) > enemy,var(25)
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = root,var(25) < enemy,var(25)
x = -1.5

[State 0, BGPalFX]
type = BGPalFX
trigger1 = 1
time = 1
add = -128,-128,-128
mul = 256,256,256

[State 200, 1]
type = HitDef
trigger1 = 1
attr = A, SP
damage = 100,50
animtype = Light
guardflag = MA
hitflag = MAFde
priority = 3, Hit
pausetime = 0,8
sparkno = -1
guard.sparkno = s7030
hitsound = S5,60
guardsound = S4,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 12
ground.velocity = -5,-5
airguard.velocity = -5,-5
air.type = High
air.velocity = -12,0
air.hittime = 12
fall.recover=0
ground.cornerpush.veloff=0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = 0||root,stateno = 20||root,stateno = 100||root,stateno = 500||root,stateno = 101

[State 0, DestroySelf]
type = DestroySelf
trigger1 = root,stateno = [5000,5300]

[State 200, End]
type = changestate
Trigger1 = movecontact
trigger2 = frontedgebodydist < -50
value = 15410
;---------------------------------------------------------------------------
;Fire Ball Continuos
[Statedef 151500]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151500
poweradd = -1500
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 30 && timemod = 4,0
value = S5,59
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 30 && timemod = 4,0
value = S5,59
volume = 50

[State 0, Wind]
type = Helper
trigger1 = time > 30 && timemod = 4,0
helpertype = normal
name = "Wind"
ID = 151550
stateno = 151550
pos = 3+random%-13,-27+random%27
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.28*Helper(999999),Fvar(16)
size.yscale = 0.32*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Run Fwd FX]
type = Explod
trigger1 = time > 30 && timemod = 4,0
anim = 7022
ID = 7022
pos = -2*Helper(999999),Fvar(16),3
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3*Helper(999999),Fvar(16),.4*Helper(999999),Fvar(16)
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermove = 99999
pausemove = 99999

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 9073
ID = 9055
pos = -20,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
ownpal = 1
Removetime = 70
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;Fire Ball Continuos
[Statedef 151510]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 151500
poweradd = -1500
sprpriority = 2

[State 0, Explod]
type = Explod
trigger1 = time > 30 && timemod = 4,0
anim = 900
ID = 900
pos = -15,-45
postype = p1  ;p2,front,back,left,right
vel = -7,-5+random%5
scale = .2,.2
sprpriority = 3
ontop = 1
ownpal = 1
pausemovetime = 999999999999
supermovetime = 999999999999
angle = -45

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0
y = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 30 && timemod = 4,0
value = S5,59
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time > 30 && timemod = 4,0
value = S5,59
volume = 50

[State 0, Wind]
type = Helper
trigger1 = time > 30 && timemod = 4,0
helpertype = normal
name = "Wind"
ID = 151560
stateno = 151560
pos = 3+random%-13,-27+random%27
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 0.28*Helper(999999),Fvar(16)
size.yscale = 0.32*Helper(999999),Fvar(16)

[State 0, Explod]
type = Explod
trigger1 = Time = 0
anim = 7002
ID = 7000
pos = -5,30
sprpriority = 2
supermove = 1
removetime = -2
bindtime = -1
ownpal = 1
scale = .2*Helper(999999),Fvar(16),.2*Helper(999999),Fvar(16)
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,7000
volume = 100

[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 0,0
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarSet]
type = Varset
trigger1 = time = 30
v = 12
value = 0

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 0, Explod]
type = Explod
trigger1 = time = 30
anim = 9073
ID = 9055
pos = -0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
Bindtime = -1
sprpriority = 3
ontop = 0
ownpal = 1
Removetime = 70
vel = 0,0
accel = 0,0
Supermovetime = 999999999999
Supermove = 99999999999999
Pausemovetime = 999999999999
Pausemove = 99999999999999
scale = 0.7,0.7
sprpriority = 2
removeongethit = 1
ignorehitpause = 1
angle = -45

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 100
value = 50
ctrl = 1
;---------------------------------------------------------------------------
;Fire ball
[Statedef 151550]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 6,0
ctrl = 0
anim = 15450
sprpriority = 3

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 15453
ID = 15453
pos = -20,-0
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .2,.2
sprpriority = 1
ownpal = 1
trans = add

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15410
time = 999

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15406
stateno = 15406
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 10,5
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-1
air.velocity = -3,-1
Envshake.time = 20
Sprpriority = 3
fall = 1
fall.recover = 0

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 200, End]
type = changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < -100
trigger3 = frontedgebodydist < -25
trigger4 = time = 500
value = 15410
;---------------------------------------------------------------------------
;Fire ball
[Statedef 151560]
type    = S
movetype= A
physics = N
juggle  = 1
velset = 6,5
ctrl = 0
anim = 15450
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -45

[State 0, Explod]
type = Explod
trigger1 = time > 8 && time%1=0
anim = 15453
ID = 15453
pos = -20,-0
postype = p1
facing = 1
bindtime = 1
vel = -3,0
random = 80,80
scale = .2,.2
sprpriority = 1
ownpal = 1
trans = add
angle = -45

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,1005
volume = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 15410
time = 999

[State 0, Helper]
type = Helper
trigger1 =time%40=0
helpertype = normal
name ="Rastro"
ID = 15626
stateno = 15626
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 0
pausemovetime = 0
size.xscale =.9
size.yscale =.9

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, HP
animtype  = Heavy
damage = 10,5
guardflag = MA
pausetime = 0,4
sparkno = -1
guard.sparkno = -1
sparkxy = -1,-4
hitsound = S5,60
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-1
air.velocity = -3,-1
Envshake.time = 20
Sprpriority = 3
fall = 1
fall.recover = 0

[State 0, Fuego en P2]
type = Helper
triggerall = numhelper(480) = 0
trigger1 = movehit = 1
helpertype = normal
name = "Fuego en P2"
ID = 480
stateno = 480
pos = 500,500
postype = p1
facing = 1
keyctrl = 0
ownpal = 0

[State 200, End]
type = changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < -100
trigger3 = pos y >= 25
trigger4 = time = 500
value = 15410
;---------------------------------------------------------------------------