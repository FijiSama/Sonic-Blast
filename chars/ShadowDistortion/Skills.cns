;===================================================================================
;----------------------------------- Skills ---------------------------------------;
;===================================================================================
;===============================================================================
; Direct Smash
;-------------------------------------------------------------------------------
[Statedef 1000]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 1000
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = S40,2
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit = 1
value = S1,19
volume = 999
ignorehitpause  = 1
PERSISTENT = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 38
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = 38
x = 18

[State 0, VelSet]
type = VelSet
trigger1 = time = 46
x = 4

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Heavy
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -3,4
Fall = 0
Envshake.time = 20
ignorehitpause  = 1

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7260
ID = 7260
postype = P2
pos = -3,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
vel = -1.5,-0
removeongethit = 1
ontop = 1
persistent = 0
supermovetime = 999
ignorehitpause  = 1
angle = 0+random%360

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-22
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .095
size.yscale = .095
ignorehitpause = 1
PERSISTENT = 0

[State 0, Explod]
type = Explod
trigger1 = time = 38
anim = 7022
ID = 7022
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Direct Smash - Wing FX]
type = Helper
trigger1 = time = 38
helpertype = normal
name = "Direct Smash - Wing FX"
ID = 1015
stateno = 1015
pos = 0,-0
postype = p1
facing = -1
ownpal = 1
Size.Xscale = .35
Size.Yscale = .35

[State 0, Aura Choc - FX]
type = Helper
trigger1 = time = 38
helpertype = normal
name = "Aura Choc - FX"
ID = 1016
stateno = 1016
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .4
Size.Yscale = .4

[State 200, Combo]
type = ChangeState
trigger1 = AnimElemTime(4)>=0
trigger1 = MoveHit = 1
value = 1001
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo 2
;-------------------------------------------------------------------------------
[Statedef 1001]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1001
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -3
Getpower = 0,0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Direct Smash - Slash Spark BIG]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Direct Smash - Slash Spark BIG"
ID = 1017
stateno = 1017
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .2

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1002
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo 3
;-------------------------------------------------------------------------------
[Statedef 1002]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1002
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,18
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-10
air.velocity = -8,-10
Fall = 0
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -2
Getpower = 0,0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Direct Smash - Slash Spark BIG]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Direct Smash - Slash Spark BIG"
ID = 1017
stateno = 1017
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .2

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1003
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo 4
;-------------------------------------------------------------------------------
[Statedef 1003]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1003
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 2
y = -2

[State 0,Turn]
type = Turn
trigger1 = AnimElemTime(4)= 0
trigger1 = p2dist x < 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3)= 0
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2 || time = 8
value = S5,8
volume = 50

[State 0, Teleport FX]
type = Helper
trigger1 = Time = 2 || time = 8
helpertype = normal
name = "Teleport FX"
ID = 580
stateno = 580
pos = 5,-30
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .225
Size.Yscale = .225

[State 0,PosAdd]
type=PosAdd
trigger1 = time = 7
x = p2bodydist x +30
y = p2bodydist y

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 13,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5,1
air.velocity = -5,1
Fall = 1
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -5
Getpower = 0,0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Direct Smash - Slash Spark BIG]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Direct Smash - Slash Spark BIG"
ID = 1017
stateno = 1017
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .2

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1004
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo End
;-------------------------------------------------------------------------------
[Statedef 1004]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1004
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S5,1+random%5
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S5,1+random%5
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(2)>=0
value = -20
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(4)>=0
value = 0
ignorehitpause = 1

[State 0,Turn]
type = Turn
trigger1 = AnimElemTime(5)= 0
trigger1 = p2dist x < 0

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = S
movetype = A
physics = S
;---------------------

[State 0, PosSet]
type = PosSet
trigger1 = time = 10
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x + -70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 || time = 10
value = S5,22

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 12
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 9
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = -4
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 10,15
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -10
Getpower = 0,0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [455,456]
trigger1 = movehit = 1
value = 455

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Speed FX1]
type = Explod
trigger1 = time = 5
anim = 580
ID = 580
pos = -9,-19
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .35,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = -95

[State 0, Speed FX1]
type = Explod
trigger1 = time = 10
anim = 580
ID = 580
pos = 4,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .5,.18
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90

[State 0, Explod]
type = Explod
trigger1 = time = 10
anim = 7022
ID = 7022
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
vel = 1,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Explod]
type = Explod
trigger1 = time = 16
anim = 7022
ID = 7022
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
vel = -1,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Aura Choc - FX II]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Aura Choc - FX II"
ID = 1025
stateno = 1025
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .7
Size.Yscale = .6

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash (In Air)
;-------------------------------------------------------------------------------
[Statedef 1005]
type = A
movetype = A
physics = A
juggle = 1
velset = 0,0
ctrl = 0
anim = 1005
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 38
value = S40,2
volume = 50

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Movehit = 1
value = S1,19
volume = 999
ignorehitpause  = 1
PERSISTENT = 0

[State 0, AfterImage]
type = AfterImage
trigger1 = time = 38
time = 5
length = 10
palbright = 0,0,0
palcontrast = 100,100,100
paladd = 0,0,0
palmul = .90, .90, .90
timegap = 1
framegap = 1
trans = add
ignorehitpause = 1
persistent = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,38]
x = 0
y = -0

[State 0, VelSet]
type = VelSet
trigger1 = time = 38
x = 18
y = -1

[State 0, VelSet]
type = VelSet
trigger1 = time = 46
x = 4

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Heavy
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3-2
air.velocity = -3,-2
Fall = 0
Envshake.time = 20
ignorehitpause  = 1

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7260
ID = 7260
postype = P2
pos = -3,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
vel = -1.5,-0
removeongethit = 1
ontop = 1
persistent = 0
supermovetime = 999
ignorehitpause  = 1
angle = 0+random%360

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-22
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .095
size.yscale = .095
ignorehitpause = 1
PERSISTENT = 0

[State 0, Dash FX]
type = Explod
trigger1 = time = 38
anim = 7045
ID = 7045
pos = 7,-21
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Direct Smash - Wing FX]
type = Helper
trigger1 = time = 38
helpertype = normal
name = "Direct Smash - Wing FX"
ID = 1015
stateno = 1015
pos = 0,-0
postype = p1
facing = -1
ownpal = 1
Size.Xscale = .35
Size.Yscale = .35

[State 0, Aura Choc - FX]
type = Helper
trigger1 = time = 38
helpertype = normal
name = "Aura Choc - FX"
ID = 1016
stateno = 1016
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .4
Size.Yscale = .4

[State 200, Combo]
type = ChangeState
trigger1 = AnimElemTime(4)>=0
trigger1 = MoveHit = 1
value = 1006
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo 2
;-------------------------------------------------------------------------------
[Statedef 1006]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1006
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2-2
air.velocity = -2,-2
Fall = 0
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -3
Getpower = 0,0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Direct Smash - Slash Spark BIG]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Direct Smash - Slash Spark BIG"
ID = 1017
stateno = 1017
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .2

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1007
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo 3
;-------------------------------------------------------------------------------
[Statedef 1007]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1007
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,18
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -8,-10
air.velocity = -8,-10
Fall = 0
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -2
Getpower = 0,0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Direct Smash - Slash Spark BIG]
type = Helper
trigger1 = time = 8
helpertype = normal
name = "Direct Smash - Slash Spark BIG"
ID = 1017
stateno = 1017
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .2

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1008
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo 4
;-------------------------------------------------------------------------------
[Statedef 1008]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1008
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = 2
y = -2

[State 0,Turn]
type = Turn
trigger1 = AnimElemTime(4)= 0
trigger1 = p2dist x < 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(3)= 0
statetype = A
movetype = A
physics = A

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2 || time = 8
value = S5,8
volume = 50

[State 0, Teleport FX]
type = Helper
trigger1 = Time = 2 || time = 8
helpertype = normal
name = "Teleport FX"
ID = 580
stateno = 580
pos = 5,-30
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .225
Size.Yscale = .225

[State 0,PosAdd]
type=PosAdd
trigger1 = time = 7
x = p2bodydist x +30
y = p2bodydist y

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 13,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 25
ground.hittime  = 25
ground.velocity = -5.5,2
air.velocity = -5.5,2
Fall = 1
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -5
Getpower = 0,0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Direct Smash - Slash Spark BIG]
type = Helper
trigger1 = time = 10
helpertype = normal
name = "Direct Smash - Slash Spark BIG"
ID = 1017
stateno = 1017
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .1
Size.Yscale = .2

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1009
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash Combo End
;-------------------------------------------------------------------------------
[Statedef 1009]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1009
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S5,1+random%5
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 22
value = S5,1+random%5
volume = 50

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(2)>=0
value = -20
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(4)>=0
value = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(5)>=0
value = 50
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(9)>=0
value = 0
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = -2

[State 0,Turn]
type = Turn
trigger1 = AnimElemTime(5)= 0
trigger1 = p2dist x < 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 10
x = p2bodydist x + -70
y = p2bodydist x + 20

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 5 || time = 10
value = S5,22

[State 0, VelSet]
type = VelSet
trigger1 = time = 2
x = 12
y = 2

[State 0, VelSet]
type = VelSet
trigger1 = time = 9
x = 2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time = 10
x = -2
y = -2

[State 0, VelSet]
type = VelSet
trigger1 = time >= 11
x = -0.1
y = -0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 25
guardflag = MA
pausetime = 10,15
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -10
Getpower = 0,0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [455,456]
trigger1 = movehit = 1
value = 455

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 0, Speed FX1]
type = Explod
trigger1 = time = 5
anim = 580
ID = 580
pos = -9,-19
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .35,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = -95

[State 0, Speed FX1]
type = Explod
trigger1 = time = 10
anim = 580
ID = 580
pos = 4,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .5,.18
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90

[State 0, Aura Choc - FX II]
type = Helper
trigger1 = time = 16
helpertype = normal
name = "Aura Choc - FX II"
ID = 1025
stateno = 1025
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .7
Size.Yscale = .6

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Direct Smash - Wing FX
[Statedef 1015]
type = A
movetype = I
physics = N
anim = 1015
sprpriority = 3

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = -1
add = 0,0,-256
mul = 330,250,512
invertall = 0
color = 256

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -0,-120,-120
mul = 500,400,400
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 25,-22

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 =! AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Aura Choc - FX
[Statedef 1016]
type = A
movetype = I
physics = N
anim = 1016
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -0,-120,-120
mul = 500,400,400
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 8,-21

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 =! AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Direct Smash - Slash Spark BIG
[Statedef 1017]
type = A
movetype = I
physics = N
anim = 7250
sprpriority = 1

[State 0, Pause]
type = Pause
trigger1 = time = 0
time = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,StateNo = 1001
trigger2 = Root,StateNo = 1006
pos = 22,-25

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Root,StateNo = 1001
trigger2 = Root,StateNo = 1006
value = 16

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,StateNo = 1002
trigger2 = Root,StateNo = 1007
pos = 19,-15

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Root,StateNo = 1002
trigger2 = Root,StateNo = 1007
value = 60

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,StateNo = 1003
trigger2 = Root,StateNo = 1008
pos = 15,-21

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Root,StateNo = 1003
trigger2 = Root,StateNo = 1008
value = 75

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 =! AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Aura Choc - FX II
[Statedef 1025]
type = A
movetype = I
physics = N
anim = 1025
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 15,-29

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 =! AnimTime
trigger2 = root,movetype = H
;===============================================================================
;  Super Explosive Wave
;-------------------------------------------------------------------------------
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1100
poweradd = -1500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S5,52
channel = 5
volume = 999
loop = 1

[State 0, Super Explosive Wave - Helper FXADD]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "Super Explosive Wave - Helper FXADD"
ID = 1130
stateno = 1130
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 0, Super Explosive Wave]
type = Helper
trigger1 = time > 35 && timemod = 2,0
helpertype = normal
name = "Forma"
ID = 1133
stateno = 1133
pos = 0
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .2
Supermovetime = 9999
Supermove = 9999
ignorehitpause = 1
persistent = 1

[State 0, Super Explosive Wave - Helper]
type = Helper
trigger1 = time = 35
helpertype = Normal
name = "Super Explosive Wave - Helper"
ID = 1150
stateno = 1150
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 150
value = 1101
ctrl = 1
;-------------------------------------------------------------------------------
;  Super Explosive Wave - end
;-------------------------------------------------------------------------------
[Statedef 1101]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1101
poweradd = 0
sprpriority = 2

[State 0, StopSnd]
type = StopSnd
trigger1 = 1
channel = 5

[State 200, End]
type = ChangeState
trigger1 = animtime = 0
value = ifelse(pos y < 0,50,0)
ctrl = 1
;-------------------------------------------------------------------------------
;  Super Explosive Wave (In Air)
;-------------------------------------------------------------------------------
[Statedef 1102]
type    = A
movetype= A
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1102
poweradd = -1500
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S5,52
channel = 5
volume = 999
loop = 1

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 0
y = -0

[State 0, Super Explosive Wave - Helper FXADD]
type = Helper
trigger1 = time = 35
helpertype = normal
name = "Super Explosive Wave - Helper FXADD"
ID = 1130
stateno = 1130
pos = 0,-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .8
size.yscale = .8

[State 0, Super Explosive Wave]
type = Helper
trigger1 = time > 35 && timemod = 2,0
helpertype = normal
name = "Forma"
ID = 1133
stateno = 1133
pos = 0
postype = p1
ownpal = 1
size.xscale = .1
size.yscale = .2
Supermovetime = 9999
Supermove = 9999
ignorehitpause = 1
persistent = 1

[State 0, Super Explosive Wave - Helper]
type = Helper
trigger1 = time = 35
helpertype = Normal
name = "Super Explosive Wave - Helper"
ID = 1150
stateno = 1150
pos = 0,0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = time = 150
value = 1101
ctrl = 1
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper FXADD
[Statedef 1130]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1130
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Changestate
trigger1 = root,stateno != 1100
trigger1 = root,stateno != 1102
value = 1131
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper FXADD Fin
[Statedef 1131]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 8010, OutwardWave]
type = explod
trigger1 = !time
anim = 1135
ID = 1135
postype = p1
pos = 0,-10
facing = ifelse(random < 500, -1, 1)
vfacing = ifelse(random < 500, -1, 1)
sprpriority = 6
removetime = 8
pausemovetime = -1
supermovetime = -1
[State 8010, Scale]
type = modifyexplod
trigger1 = numexplod(1135)
ID = 1135
scale = 0 +(0.07 * time), 0 +(0.07 * time)
trans = addalpha
alpha = 256-(time*32), 256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 1132]
type    = S
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 8010, OutwardWave]
type = explod
trigger1 = !time

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-30

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*20),256

[State 200, End]
type = Destroyself
trigger1 = time = 10
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Super Explosive Wave - FX
[Statedef 1133]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1131
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1
persistent = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = var(1)
scale = .5+time*.5,.5+time*.5

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-35

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 50
trigger2 = root,stateno != 1100
trigger2 = root,stateno != 1102
;-------------------------------------------------------------------------------
; Super Explosive Wave - Skill Hitspark
[Statedef 1148]
type    = A
movetype= I
physics = N
anim = 8010
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Var(1)
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 1150]
type    = S
movetype= I
physics = N
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1150
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,24
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,24
volume = 999

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 10
statetype = S
movetype = A
physics = N

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-35

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SA
animtype  = Heavy
damage    = 12,5
Hitflag = MAFDE
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S1,12
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,0.5,-1.5),0
air.velocity = ifelse(p2bodydist x < -10,0.5,-1.5),ifelse(time > 40,-2,-2)
Fall = 1
fall.recover = 0
Getpower = 0,0

[State 0, Super Explosive Wave - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Super Explosive Wave - Skill Hitspark"
ID = 1148
stateno = 1148
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .2
Size.Yscale = .2

[State 200, End]
type = Destroyself
trigger1 = root,stateno != 1100
trigger1 = root,stateno != 1102

[State 200, End]
type = ChangeState
trigger1 = Parent,Time >= 120
value = 1155
;-------------------------------------------------------------------------------
; Super Explosive Wave - Helper
[Statedef 1155]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 10

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !time
attr = A, SP
animtype  = Heavy
damage    = 26,5
Hitflag = MAFDE
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = -1
sparkxy = -8,-25
hitsound   = S5,27
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = ifelse(p2bodydist x < -10,4,-4),-4
air.velocity = ifelse(p2bodydist x < -10,4,-4),-4
numhits = 0
Fall = 1
Fall.recover = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 200, Super Explosive Wave - Explosion FX]
type = Explod
triggerall = Numexplod(1160) = 0
trigger1 = Movehit = 1
anim = 1160
ID = 1160
postype = P2
pos = 0,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .5,.5
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 200, End]
type = Destroyself
trigger1 = time = 35
;===============================================================================
; Big Bang Attack
;-------------------------------------------------------------------------------
[Statedef 1200]
type = S
movetype = I
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 1200
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,95+random%2
volumescale = 9999

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Big Bang Attack - Charge Helper]
type = Helper
trigger1 = Time = 25
name = "Big Bang Attack - Charge Helper"
ID = 1230
stateno = 1230
pos = 35,-35
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 200, End]
type = ChangeState
triggerall = time >= 50
trigger1 = ailevel = 0 && command != "hold_b"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 40+random%30
trigger4 = time = 100
value = 1201
;-------------------------------------------------------------------------------
; Big Bang Attack - Release
[Statedef 1201]
type = S
movetype = A
physics = S
juggle = 1
velset = 0,0
ctrl = 0
anim = 1201
sprpriority = 2

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 15
add = 0,32,64

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 6
ampl = -4
freq = 30

[State 0, Big Bang Attack - Launch]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Big Bang Attack - Launch"
ID = 1210
stateno = 1210
pos = 15,-35
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .5
Size.Yscale = .5

[State 0, Big Bang Attack - Helper]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Helper"
ID = 1250
stateno = 1250
pos = 35,-35
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Viento]
type = Explod
trigger1 = Time = 0
anim = 7022
ID = 7022
pos = -10,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .325,.425
vel = -2.5,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1
;===============================================================================
; Big Bang Attack (in Air)
;-------------------------------------------------------------------------------
[Statedef 1202]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1202
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,95+random%2
volumescale = 9999

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, VelSet]
type = VelSet
triggerall = time = 30
trigger1 = pos y < 0
y = .8

[State 0, VelSet]
type = VelSet
trigger1 = pos y >= 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y = 0
statetype = S
movetype = A
physics = S

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, Big Bang Attack - Charge Helper]
type = Helper
trigger1 = Time = 25
name = "Big Bang Attack - Charge Helper"
ID = 1230
stateno = 1230
pos = 41,-12
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 200, End]
type = ChangeState
triggerall = time >= 50
trigger1 = ailevel = 0 && command != "hold_b"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 40+random%30
trigger4 = time = 100
value = ifelse(pos y>=0,1201,1203)
;-------------------------------------------------------------------------------
; Big Bang Attack - Release (in Air)
;-------------------------------------------------------------------------------
[Statedef 1203]
type = S
movetype = A
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1203
sprpriority = 2

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 15
add = 0,32,64

[State 0, VelSet]
type = VelSet
trigger1 =! Time
x = -.1
y = -.1

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 6
ampl = -4
freq = 30

[State 0, Big Bang Attack - Launch]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Big Bang Attack - Launch"
ID = 1211
stateno = 1211
pos = 35,-18
postype = p1
facing = 1
ownpal = 1
Size.Xscale = .5
Size.Yscale = .5

[State 0, Big Bang Attack - Helper]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Helper"
ID = 1255
stateno = 1255
pos = 44,-9
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 200, End]
type = ChangeState
trigger1 = Animtime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Big Bang Attack - Launch
[Statedef 1210]
type = A
movetype = I
physics = N
anim = 1210
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -.25
y = -0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 =! AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Big Bang Attack - Launch (in Air)
[Statedef 1211]
type = A
movetype = I
physics = N
anim = 1210
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = -.25
y = -.25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 =! AnimTime
trigger2 = root,movetype = H
;-------------------------------------------------------------------------------
; Big Bang Attack - Ball Background
[Statedef 1220]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1220
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 4
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = .5+Parent,FVar(6),.5+Parent,FVar(6)
value = FVar(4)

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,-0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
trigger2 = Root,Stateno != 1200
trigger2 = Root,StateNo != 1202
;-------------------------------------------------------------------------------
; Big Bang Attack - Charge Helper
[Statedef 1230]
type = S
movetype = I
physics = N
juggle = 2
ctrl = 0
anim = 9999
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 1200
pos = 35,-25

[State 0, BindToRoot]
type = BindToRoot
trigger1 = root,stateno = 1202
pos = 41,-2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,19
channel = 5

[State 0, StopSnd]
type = StopSnd
trigger1 = root,stateno != 1200
trigger2 = root,stateno != 1202
channel = 5

[State 0, VarSet]
type = VarSet
trigger1 = !Time
fv = 6
value = 0

[State 0, VarAdd]
type = VarAdd
trigger1 = Time >= 0
fv = 6
value = .002

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 0.1

[State 0, Big Bang Attack - Particles]
type = Helper
Trigger1 = Time%20 = 0
name = "Big Bang Attack - Particles"
ID = 1231
facing = 1
stateno = 1231
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .25
size.yscale = .25
supermovetime = 9999
pausemovetime = 9999

[State 0, Big Bang Attack - Ball]
type = Helper
trigger1 = Time = 10
name = "Big Bang Attack - Ball"
ID = 1232
stateno = 1232
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Big Bang Attack - Rayos]
type = Helper
trigger1 = Time = 5
name = "Big Bang Attack - Rayos"
ID = 1233
stateno = 1233
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, Big Bang Attack - Lens]
type = Helper
trigger1 = Time = 5
name = "Big Bang Attack - Lens"
ID = 1234
stateno = 1234
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 200,End]
type=DestroySelf
trigger1 = Parent,StateNo != 1200
trigger2 = Parent,StateNo = 1201
trigger1 = Parent,StateNo != 1202
trigger2 = Parent,StateNo = 1203
trigger3 = Parent,MoveType = H
;-------------------------------------------------------------------------------
; Big Bang Attack - Particles
[Statedef 1231]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1231
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 4
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = .5+Parent,FVar(6),.5+Parent,FVar(6)
value = FVar(4)

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
trigger2 = Root,Stateno != 1200
trigger2 = Root,StateNo != 1202
;-------------------------------------------------------------------------------
; Big Bang Attack - Ball
[Statedef 1232]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1232
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = Root,StateNo =1200
trigger2 = Root,StateNo =1202
fv = 6
value = .002

[State 0, AngleDraw]
type = AngleDraw
Triggerall = Parent,StateNo = 1230
trigger1 = 1
scale = .1+FVar(6),.1+FVar(6)
IgnoreHitPause = 1

[State 0, AngleDraw]
type = AngleDraw
Triggerall = Parent,StateNo = 1250
trigger1 = 1
scale = .25,.20
IgnoreHitPause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, Big Bang Attack - Ball Background]
type = Helper
Triggerall = Parent,StateNo = 1230
trigger1 = Time%10 = 0
name = "Big Bang Attack - Ball Background"
ID = 1220
facing = 1
stateno = 1220
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .20
size.yscale = .20
supermovetime = 9999
pausemovetime = 9999

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Root,StateNo != 1200
trigger2 = Root,StateNo = 1201
trigger1 = Root,StateNo != 1202
trigger2 = Root,StateNo = 1203
id = 1220

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,StateNo != 1200
trigger2 = Root,StateNo = 1201
trigger1 = Root,StateNo != 1202
trigger2 = Root,StateNo = 1203
;-------------------------------------------------------------------------------
; Big Bang Attack - Rayos
[Statedef 1233]
type = A 
movetype = I
physics = N
ctrl = 0
anim = 1233
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 8
value = .00075

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .05+FVar(8),.05+FVar(8)
IgnoreHitPause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,StateNo != 1230
trigger2 = Parent,Stateno = 1252
trigger2 = Parent,Stateno = 1257
trigger3 = Root,StateNo != 1200
trigger4 = Root,StateNo = 1201
trigger3 = Root,StateNo != 1202
trigger4 = Root,StateNo = 1203
;-------------------------------------------------------------------------------
; Big Bang Attack - Lens
[Statedef 1234]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1234
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 9
value = .00075

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0-(Time*.5)
scale = .5+FVar(9),.5+FVar(9)
IgnoreHitPause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1230
trigger2 = Parent,Stateno = 1252
trigger2 = Parent,Stateno = 1257
trigger3 = Root,StateNo != 1200
trigger4 = Root,StateNo = 1201
trigger3 = Root,StateNo != 1202
trigger4 = Root,StateNo = 1203
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper
[Statedef 1250]
type = A
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,53
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,53

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,54
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,54

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 17.5

[State 0, Big Bang Attack - Helper Ball]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Helper Ball"
ID = 1251
stateno = 1251
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Big Bang Attack - Helper Ball II]
type = Helper
Triggerall = Numhelper(1252) = 0
trigger1 = Time = 0
name = "Big Bang Attack - Helper Ball II"
ID = 1252
stateno = 1252
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.XScale = .175
Size.YScale = .25

[State 0, Big Bang Attack - Helper Ball Curved]
type = Helper
Triggerall = Numhelper(1253) = 0
trigger1 = Time = 0
name = "Big Bang Attack - Helper Ball Curved"
ID = 1253
stateno = 1253
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.XScale = .625
Size.YScale = .575

[State 0, Big Bang Attack - Wind]
type = Explod
trigger1 = Time%4 = 0
anim = 1254
ID = 1254
postype = p1
pos = 15,0
scale = .1,.110
vel = -.5,0
facing = 1
VFacing = Cond(Random<500,1,-1)
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Big Bang Attack - Wind Fade]
type = Explod
trigger1 = Time%4 = 0
anim = 1254
ID = 1254
postype = p1
pos = 15,0
scale = .1,.110
vel = -.5,0
facing = 1
VFacing = Cond(Random<500,1,-1)
bindtime = 0
removetime = -2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = AddAlpha
Alpha = 128,256

[State 0, Big Bang Attack - Rayos II]
type = Explod
trigger1 = Time%3 = 0
anim = 1255
ID = 1255
postype = p1
pos = 0,0
scale = .1,.110
vel = -.25,0
facing = 1
VFacing = Cond(Random<500,1,-1)
bindtime = 4
removetime = -2
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = 90

[State 0, Speed FX]
type = Explod
trigger1 = Time%4 = 0
anim = 580
ID = 580
postype = p1
pos = -35,0
scale = .8,.25
vel = -.25,0
facing = 1
VFacing = Cond(Random<500,1,-1)
bindtime = 6
removetime = -2
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = 90

[State 0, Viento FX]
type = Explod
trigger1 = Time%4 = 0
anim = 7022
ID = 7022
postype = p1
pos = 25,38
scale = .3,.4
vel = -.5,0
facing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 200, HitDef]
type = HitDef
trigger1 = 1
attr = S,NP
animtype = Heavy
damage = 0,0
Hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
numhits = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1260
time = 999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,NP,NT
time = 1

[State 200, End]
type = Changestate
trigger1 = P2BodyDist X < 15
trigger1 = P2BodyDist Y > 15
trigger1 = EnemyNear,StateType != L
trigger2 = frontedgebodydist < 0
trigger3 = time = 250
value = 1260
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper Ball
[Statedef 1251]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1232
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .25,.20
IgnoreHitPause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,StateNo != 1250
trigger2 = Parent,StateNo = 1252
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper Ball II
[Statedef 1252]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1252
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 5,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1250
trigger2 = Parent,Stateno = 1252
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper Ball Curved
[Statedef 1253]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1253
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 22.5,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1250
trigger2 = Parent,Stateno = 1252
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper (In Air)
[Statedef 1255]
type = A
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1250
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,42

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,53
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,53

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,54
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,54

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 17.5
y = 10

[State 0, Big Bang Attack - Helper Ball]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Helper Ball"
ID = 1256
stateno = 1256
postype = p1
facing = 1
keyctrl = 0
ownpal = 1

[State 0, Big Bang Attack - Helper Ball II]
type = Helper
Triggerall = Numhelper(1257) = 0
trigger1 = Time = 0
name = "Big Bang Attack - Helper Ball II"
ID = 1257
stateno = 1257
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.XScale = .175
Size.YScale = .25

[State 0, Big Bang Attack - Helper Ball Curved]
type = Helper
Triggerall = Numhelper(1258) = 0
trigger1 = Time = 0
name = "Big Bang Attack - Helper Ball Curved"
ID = 1258
stateno = 1258
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
Size.XScale = .625
Size.YScale = .575

[State 0, Big Bang Attack - Wind]
type = Explod
trigger1 = Time%4 = 0
anim = 1254
ID = 1254
postype = p1
pos = 10,7
scale = .1,.110
vel = -.5,0
facing = 1
bindtime = 0
removetime = -2
sprpriority = 3
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
angle = -35

[State 0, Big Bang Attack - Wind Fade]
type = Explod
trigger1 = Time%4 = 0
anim = 1254
ID = 1254
postype = p1
pos = 10,7
scale = .1,.110
vel = -.5,-.5
facing = 1
bindtime = 0
removetime = -2
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = AddAlpha
Alpha = 128,256
angle = -35

[State 0, Big Bang Attack - Rayos II]
type = Explod
trigger1 = Time%3 = 0
anim = 1255
ID = 1255
postype = p1
pos = 0,0
scale = .1,.110
vel = -.25,-.25
facing = 1
VFacing = Cond(Random<500,1,-1)
bindtime = 4
removetime = -2
sprpriority = 2
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = 90

[State 0, Speed FX]
type = Explod
trigger1 = Time%4 = 0
anim = 580
ID = 580
postype = p1
pos = -10,-12
scale = .8,.25
vel = -.25,-.25
facing = 1
bindtime = 6
removetime = -2
sprpriority = 0
ontop = 0
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Angle = -125

[State 200, HitDef]
type = HitDef
trigger1 = 1
attr = S,NP
animtype = Heavy
damage = 0,0
Hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
numhits = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1260
time = 999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,NP,NT
time = 1

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger1 = EnemyNear,StateType != L
trigger2 = frontedgebodydist < 0
trigger3 = time = 250
trigger4 = pos y >= -5
value = 1260
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper Ball
[Statedef 1256]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1232
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .25,.20
IgnoreHitPause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1255
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper Ball II
[Statedef 1257]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1252
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 5,0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1255
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper Ball Curved
[Statedef 1258]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1253
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 22.5,14

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1255
;-------------------------------------------------------------------------------
; Big Bang Attack - Helper End
[Statedef 1260]
type = S
movetype = A
physics = S 
juggle = 2
ctrl = 0
anim = 1260
velset = 0,0
sprpriority = -1

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = 1
id = 580

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
Time = 20
Ampl = -12
Freq = 30

[State 0, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = 3
y = 0

[State 0, Big Bang Attack - Explosion ADD]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Explosion ADD"
ID = 1261
stateno = 1261
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Big Bang Attack - Explosion SUB]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Explosion SUB"
ID = 1262
stateno = 1262
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Big Bang Attack - Explosion ADD]
type = Helper
trigger1 = Time = 5
name = "Big Bang Attack - Explosion ADD"
ID = 1261
stateno = 1261
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Big Bang Attack - Explosion SUB]
type = Helper
trigger1 = Time = 5
name = "Big Bang Attack - Explosion SUB"
ID = 1262
stateno = 1262
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Big Bang Attack - Explosion Rayos]
type = Helper
trigger1 = Time = 0
name = "Big Bang Attack - Explosion Rayos"
ID = 1263
stateno = 1263
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 200, HitDef]
type = HitDef
Triggerall = !MoveContact
trigger1 = 1
attr = A,SP
animtype = Heavy
damage = 130,30
Hitflag = MAF
guardflag = MA
pausetime = 0,10
guard.pausetime = 0,15
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -1,-10
guard.velocity = -6
air.velocity = -2,-8
Fall = 1
Fall.Recover = 0
ground.cornerpush.veloff = 0
PalFX.time = 60
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
numhits = 0

[State 0, Explosion FX III]
type = Explod
triggerall = NumExplod(9024) = 0
trigger1 = Time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Big Bang Attack - Explosion ADD
[Statedef 1261]
type = A
movetype = I
physics = N
anim = 1261
sprpriority = 4

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
; Big Bang Attack - Explosion SUB
[Statedef 1262]
type = A
movetype = I
physics = N
anim = 1262
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
; Big Bang Attack - Explosion Rayos
[Statedef 1263]
type = A
movetype = I
physics = N
velset = 0,0
ctrl = 0
anim = 1233
sprpriority = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = 0,-200,-120
mul = 512,512,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = Time<=5
pos = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1
value = FVar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = AddAlpha
Alpha = 300-(Time*10),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time >= 25
;===============================================================================
; Galick Blazer Combo - Start
;-------------------------------------------------------------------------------
[Statedef 1300]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1300
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,106
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,106

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S40,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time >= 35
x = 10

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Heavy
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -3,4
Fall = 0
Envshake.time = 20
ignorehitpause  = 1

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7260
ID = 7260
postype = P2
pos = -3,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
vel = -1.5,-0
removeongethit = 1
ontop = 1
persistent = 0
supermovetime = 999
ignorehitpause  = 1
angle = 0+random%360

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-22
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .095
size.yscale = .095
ignorehitpause = 1
PERSISTENT = 0

[State 0, Viento]
type = Explod
triggerall = Time >= 20 && Time < 35
trigger1 = time%10 = 0
anim = 7022
ID = 7022
pos = -5,5
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = -2,0
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 999

[State 0, Viento]
type = Explod
triggerall = Time >= 20 && Time < 35
trigger1 = time%10 = 0
anim = 7022
ID = 7022
pos = 5,-2
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.4
vel = 2,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1
supermovetime = 999
pausemovetime = 999

[State 0, Power Charge - Aura Pr-BG]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Power Charge - Aura Pr-BG"
ID = 1380
stateno = 1380
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .27
size.yscale = .32
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Power Charge - Aura]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Power Charge - Aura"
ID = 1381
stateno = 1381
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .2
supermovetime = 99999999
pausemovetime = 99999999

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1301
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = time >= 70
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Galick Blazer Combo 2
;-------------------------------------------------------------------------------
[Statedef 1301]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1301
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 3

[State 200, 1]
type = HitDef
triggerall = timemod = 4,0
trigger1 = 1
attr = S,SA
hitflag = MAF
priority = 3,Hit
guardflag = MA
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage    = 6
guardflag = MA
pausetime = 5,2
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2
air.velocity = -2,-1
Fall = 0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = -10+random%20,0-random%40
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1
PERSISTENT = 6

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [0,70]
Trigger1 = TimeMod = 3,0
anim = 580
ID = 001
pos = (-5-Random%20),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 200,End]
type = ChangeState
trigger1 = movehit = 1 && time >= 80
value = 1302

[State 200, End]
type = ChangeState
trigger1 = time = 110
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Galick Blazer Combo 3
;-------------------------------------------------------------------------------
[Statedef 1302]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
anim = 1302
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 6
x = 2
y = -5

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 6
statetype = A
movetype = A
physics = A

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
ID = 1302
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1,-8
air.velocity = -1,-8
Fall = 1
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -3
Getpower = 0,0

[State 0,TargetState]
type = TargetState
TRIGGERALL = Enemy,StateNo != 8327
Trigger1 = MoveHit && Target(1302),Vel Y<=-9
value = 8327
ID = 1302
IgnoreHitPause = 1
Persistent = 0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1303
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Galick Blazer Combo End
;-------------------------------------------------------------------------------
[Statedef 1303]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1303
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,1+random%5
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,1+random%5
volume = 50

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 7
statetype = S
movetype = A
physics = S
;---------------------

[State 0, PosSet]
type = PosSet
trigger1 = time = 7
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 7
x = p2bodydist x + -70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2 || time = 7
value = S5,22

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,7]
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = -3

[State 0, Speed FX1]
type = Explod
trigger1 = time = 2
anim = 580
ID = 580
pos = 5,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .225,.225
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 0, Speed FX1]
type = Explod
trigger1 = time = 7
anim = 580
ID = 580
pos = 4,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .5,.18
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 7022
ID = 7022
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
vel = 1,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Galick Blazer - Helper]
type = Helper
trigger1 = time = 17
helpertype = normal
name = "Galick Blazer - Helper"
ID = 1350
stateno = 1350
pos = 35,-35
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Galick Blazer Combo (In Air) - Start
;-------------------------------------------------------------------------------
[Statedef 1304]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1304
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-22
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,106
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,106

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 35
value = S40,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 0
y = -0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 35
x = 10
y = p2bodydist y /22

[State 0, VelSet]
type = VelSet
TriggerAll = pos y >= -2.5
Trigger1 = vel y >= 1
y = 0

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = A, NA
animtype  = Heavy
damage    = 25
guardflag = MA
pausetime = 12,12
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,19
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3,-2
air.velocity = -3,-2
Fall = 0
Envshake.time = 20
ignorehitpause  = 1

[State 200, Spark CVS]
type = Explod
trigger1 = Movehit = 1
anim = 7260
ID = 7260
postype = P2
pos = -3,-35
facing = -1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .3,.3
vel = -1.5,-0
removeongethit = 1
ontop = 1
persistent = 0
supermovetime = 999
ignorehitpause  = 1
angle = 0+random%360

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-22
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .095
size.yscale = .095
ignorehitpause = 1
PERSISTENT = 0

[State 0, Power Charge - Aura Pr-BG]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Power Charge - Aura Pr-BG"
ID = 1380
stateno = 1380
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .27
size.yscale = .32
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Power Charge - Aura]
type = Helper
trigger1 = time = 20
helpertype = normal
name = "Power Charge - Aura"
ID = 1381
stateno = 1381
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .2
size.yscale = .2
supermovetime = 99999999
pausemovetime = 99999999

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1305
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = time >= 70
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Galick Blazer Combo 2 (In Air)
;-------------------------------------------------------------------------------
[Statedef 1305]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1305
poweradd = 30
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,11
volume = 999

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,2
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time >= 0
x = 3
y = 0

[State 200, 1]
type = HitDef
triggerall = timemod = 4,0
trigger1 = 1
attr = S,SA
hitflag = MAF
priority = 3,Hit
guardflag = MA
animtype = Medium
air.animtype = Medium
fall.animtype = Medium
damage    = 6
guardflag = MA
pausetime = 5,2
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,16
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -2,-2
air.velocity = -2,-2
Fall = 0

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = -10+random%20,0-random%40
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .1
size.yscale = .1
ignorehitpause = 1
PERSISTENT = 6

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [0,70]
Trigger1 = TimeMod = 3,0
anim = 580
ID = 001
pos = (-5-Random%20),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 3
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 200,End]
type = ChangeState
trigger1 = movehit = 1 && time >= 80
value = 1306

[State 200, End]
type = ChangeState
trigger1 = time = 110
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Galick Blazer Combo 3 (In Air)
;-------------------------------------------------------------------------------
[Statedef 1306]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1306
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,1
volume = 50

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 2
y = -3

[State 200, 1]
type = HitDef
triggerall = !movecontact
trigger1 = 1
attr = S, NA
animtype  = Light
damage    = 15
guardflag = MA
pausetime = 10,10
sparkno = -1
guard.sparkno = s7000
sparkxy = -8,-25
hitsound   = S1,17
guardsound = S4,1
ground.type = High
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -1,-8
air.velocity = -1,-8
Fall = 1
Fall.recover = 0
Envshake.time = 10
Envshake.ampl = -3
Getpower = 0,0

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != [1325,1326]
trigger1 = movehit = 1
value = 1325

[State 0,Base Hit Spark]
type = Helper
trigger1 = MoveHit = 1
helpertype = normal
ID = 8000
name = "Base Hit Spark"
stateno = 8000
pos = 2,-27
postype = P2
facing = Cond(Random<500,1,-1)
ownpal = 1
size.xscale = .08
size.yscale = .08
ignorehitpause = 1
PERSISTENT = 0

[State 200, Combo]
type = ChangeState
trigger1 = MoveHit = 1
value = 1307
ctrl = 0
IgnoreHitPause = 0

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Galick Blazer Combo End
;-------------------------------------------------------------------------------
[Statedef 1307]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 1307
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,1+random%5
volume = 50
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 17
value = S5,1+random%5
volume = 50

;---------------------
[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 7
statetype = S
movetype = A
physics = S
;---------------------

[State 0, PosSet]
type = PosSet
trigger1 = time = 7
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 7
x = p2bodydist x + -70

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 2 || time = 7
value = S5,22

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,7]
x = 0
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 7
x = -3

[State 0, Speed FX1]
type = Explod
trigger1 = time = 2
anim = 580
ID = 580
pos = 5,-30
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .225,.225
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub

[State 0, Speed FX1]
type = Explod
trigger1 = time = 7
anim = 580
ID = 580
pos = 4,-20
postype = p1
facing = 1
vfacing = 1
bindtime = 5
removetime = -2
scale = .5,.18
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Angle = 90

[State 0, Explod]
type = Explod
trigger1 = time = 7
anim = 7022
ID = 7022
pos = 0,0
postype = p1
facing = -1
vfacing = 1
bindtime = 1
removetime = -2
scale = .3,.3
vel = 1,0
sprpriority = 1
ontop = 0
ownpal = 1
removeongethit = 1

[State 0, Galick Blazer - Helper]
type = Helper
trigger1 = time = 17
helpertype = normal
name = "Galick Blazer - Helper"
ID = 1350
stateno = 1350
pos = 35,-35
postype = p1
facing = 1
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
[Statedef 1325]
type = A
movetype = H
physics = N
juggle = 1
velset = -1,15
ctrl = 0
sprpriority = 1
Facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5040+var(10)
elem = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 5

[State 200, End]
type = ChangeState
trigger1 = pos y >= -10
value = 1326
;-------------------------------------------------------------------------------
[Statedef 1326]
type = S
movetype = H
physics = S
juggle = 1
velset = 0,0
ctrl = 0
sprpriority = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = 1
value = 5040+var(10)
elem = 1

[State 0, PosSet]
type = PosSet
trigger1 =! Time
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 5
x = -1.2
y = -4.25

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = H
physics = A

[State 0, EnvShake]
type = EnvShake
trigger1 =! Time
time = 20

[State 0, LifeAdd]
type = LifeAdd
trigger1 =! Time
value = -10

[State 200, End]
type = Selfstate
trigger1 = time = 6
value = 5050
;-------------------------------------------------------------------------------
; Galick Blazer - Rayos
[Statedef 1333]
type = A 
movetype = I
physics = N
ctrl = 0
anim = 1333
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, VarAdd]
type = VarAdd
trigger1 = 1
fv = 8
value = .00075

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .1+FVar(8),.1+FVar(8)
IgnoreHitPause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,StateNo != 1350
trigger2 = Parent,Stateno = 1360
;-------------------------------------------------------------------------------
; Galick Blazer - Helper
[Statedef 1350]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1350
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time < 20
scale = 0.1+time*.02,0.1+time*.02
value = 0;-1-time*25
ignorehitpause =1 

[State 0, AngleDraw]
type = AngleDraw
trigger1 = time >= 20
scale = 0.35,0.35
ignorehitpause =1 

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 0

[State 0, VelSet]
type = VelSet
trigger1 = time >= 20
x = 8

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,19
channel = 5

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,42

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,53
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,53

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,54
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 20
value = S5,54

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
IgnoreHitPause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, TargetBind]
type = TargetBind
trigger1 = movecontact
time = 1
pos = 50,20

[State 200, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = A, SA
animtype  = Heavy
damage    = 3,1
Hitflag = MAFD
guardflag = MA
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound   = S1,12
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -1,0
air.velocity = 0,0
ground.cornerpush.veloff = 0
numhits = 0

[State 200, Hit Spark - Purple]
type = Explod
Triggerall = (Gametime % 1) = 0
trigger1 = MoveContact = 1
anim = 8012
ID = 8012
postype = P2
pos = -10+Random%20,-10-Random%25
facing = 1
VFacing = IfElse(Random <= 500,-1,1)
sprpriority = 0
supermove = 1
removetime = -2
bindtime = 1
ontop = 1
ownpal = 1
scale = IfElse(Parent,Var(3)=0,.25,.4),IfElse(Parent,Var(3)=0,.25,.4)
removeongethit = 1
supermovetime 	= 999
ignorehitpause  = 1
Angle = 0+Random%180

[State 0, Galick Blazer - Rayos]
type = Helper
trigger1 = Time = 0
name = "Galick Blazer - Rayos"
ID = 1333
stateno = 1333
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
supermovetime = 9999
pausemovetime = 9999

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1360
time = 999

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,NP,NT
time = 1

[State 200, End]
type = Changestate
trigger1 = P2BodyDist X < 15
trigger1 = P2BodyDist Y > 15
trigger1 = EnemyNear,StateType != L
trigger2 = frontedgebodydist < 0
trigger3 = time = 50
value = 1360
;-------------------------------------------------------------------------------
; Galick Blazer - Helper End
[Statedef 1360]
type = S
movetype = A
physics = S 
juggle = 2
ctrl = 0
anim = 1360
velset = 0,0
sprpriority = -1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,26

[State 0, EnvShake]
type = EnvShake
trigger1 = Time = 0
Time = 20
Ampl = -12
Freq = 30

[State 0, PosAdd]
type = PosAdd
trigger1 = Time = 0
x = 3
y = 0

[State 0, Galick Blazer - Explosion ADD]
type = Helper
trigger1 = Time = 0
name = "Galick Blazer - Explosion ADD"
ID = 1361
stateno = 1361
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Galick Blazer - Explosion SUB]
type = Helper
trigger1 = Time = 0
name = "Galick Blazer - Explosion SUB"
ID = 1362
stateno = 1362
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .4
size.yscale = .4

[State 0, Galick Blazer - Explosion ADD]
type = Helper
trigger1 = Time = 5
name = "Galick Blazer - Explosion ADD"
ID = 1361
stateno = 1361
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Galick Blazer - Explosion SUB]
type = Helper
trigger1 = Time = 5
name = "Galick Blazer - Explosion SUB"
ID = 1362
stateno = 1362
postype = p1
facing = Cond(Random<500,1,-1)
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .35

[State 0, Galick Blazer - Explosion Rayos]
type = Helper
trigger1 = Time = 0
name = "Galick Blazer - Explosion Rayos"
ID = 1363
stateno = 1363
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 200, HitDef]
type = HitDef
Triggerall = !MoveContact
trigger1 = 1
attr = A,SP
animtype = Heavy
damage = 35,5
Hitflag = MAF
guardflag = MA
pausetime = 0,10
guard.pausetime = 0,15
sparkno = -1
guard.sparkno = -1
sparkxy = 0,0
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 30
ground.hittime = 15
ground.velocity = -1,-10
guard.velocity = -6
air.velocity = -2,-8
Fall = 1
Fall.Recover = 0
ground.cornerpush.veloff = 0
PalFX.time = 60
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
numhits = 0

[State 0, Explosion FX III]
type = Explod
triggerall = NumExplod(9024) = 0
trigger1 = Time = 0
anim = 9024
ID = 9024
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 0
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Galick Blazer - Explosion ADD
[Statedef 1361]
type = A
movetype = I
physics = N
anim = 1361
sprpriority = 4

[State 0, PalFX]
type = PalFX
trigger1 = 1
time = -1
add = 0,-256,0
mul = 256,256,256
invertall = 0
color = 256

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*10),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
; Galick Blazer - Explosion SUB
[Statedef 1362]
type = A
movetype = I
physics = N
anim = 1362
sprpriority = 0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 10
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Fvar(10)+(time*.5)
scale = 1+time*.025,1+time*.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = !AnimTime
;-------------------------------------------------------------------------------
; Galick Blazer - Explosion Rayos
[Statedef 1363]
type = A
movetype = I
physics = N
velset = 0,0
ctrl = 0
anim = 1333
sprpriority = -1

[State 0, BindToParent]
type = BindToParent
trigger1 = Time<=5
pos = 0,0

[State 0, VarSet]
type = VarSet
trigger1 = Time = 0
Fv = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1
value = FVar(1)

[State 0, Trans]
type = Trans
trigger1 = 1
trans = AddAlpha
Alpha = 300-(Time*10),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Time >= 25
;-------------------------------------------------------------------------------
; Power Charge - Aura Pr-BG
[Statedef 1380]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 535
sprpriority = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0,AngleDraw]
type = AngleDraw
Trigger1 = 1
scale = 1+FVAR(1),1+FVAR(1)

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(1)>=0
pos = 0,-0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(1)>=0
value = 0
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(2)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(2)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1301
trigger1=Parent,AnimElemTime(1)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1301
trigger1=Parent,AnimElemTime(1)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1302
trigger1=Parent,AnimElemTime(1)>=0
pos = 22,-36
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1302
trigger1=Parent,AnimElemTime(1)>=0
value = 108
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(1)>=0
pos = 0,-0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(1)>=0
value = 0
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(2)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(2)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1305
trigger1=Parent,AnimElemTime(1)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1305
trigger1=Parent,AnimElemTime(1)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1306
trigger1=Parent,AnimElemTime(1)>=0
pos = 22,-36
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1306
trigger1=Parent,AnimElemTime(1)>=0
value = 108
ignorehitpause = 1

[State 0,Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 1300
trigger1 = root,stateno != 1301
trigger1 = root,stateno != 1302
trigger1 = root,stateno != 1304
trigger1 = root,stateno != 1305
trigger1 = root,stateno != 1306
value = 1385
;-------------------------------------------------------------------------------
; Power Charge - Aura
[Statedef 1381]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 550
sprpriority = -1

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0,AngleDraw]
type = AngleDraw
Trigger1 = 1
scale = 1+FVAR(1),1+FVAR(1)

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(1)>=0
pos = 0,-0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(1)>=0
value = 0
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(2)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1300
trigger1=Parent,AnimElemTime(2)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1301
trigger1=Parent,AnimElemTime(1)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1301
trigger1=Parent,AnimElemTime(1)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1302
trigger1=Parent,AnimElemTime(1)>=0
pos = 22,-36
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1302
trigger1=Parent,AnimElemTime(1)>=0
value = 108
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(1)>=0
pos = 0,-0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(1)>=0
value = 0
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(2)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1304
trigger1=Parent,AnimElemTime(2)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1305
trigger1=Parent,AnimElemTime(1)>=0
pos = 35,-22
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1305
trigger1=Parent,AnimElemTime(1)>=0
value = 90
ignorehitpause = 1

[State 0, BindToRoot]
type = BindToRoot
TRIGGERALL = Parent,StateNo = 1306
trigger1=Parent,AnimElemTime(1)>=0
pos = 22,-36
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
TRIGGERALL = Parent,StateNo = 1306
trigger1=Parent,AnimElemTime(1)>=0
value = 108
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S500,1
volume = 50
channel = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time >= 28
trigger1 = timemod = 30,0
value = S500,2
volume = 50
channel = 2

[State 0,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0,Trans]
type = Trans
trigger1 = 1
trans = add

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = root,stateno != 1300
trigger1 = root,stateno != 1301
trigger1 = root,stateno != 1302
trigger1 = root,stateno != 1304
trigger1 = root,stateno != 1305
trigger1 = root,stateno != 1306
value = 1385
;-------------------------------------------------------------------------------
; Aura End
[Statedef 1385]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0

[State 0, PalFXWiz]
type = PalFX
trigger1 = root,Fvar(16) = 1 && numhelper(980) = 1
time = 9999999999
add = -10,-120,-120
mul = 500,400,400
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 0,-0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = Time = 0
id = 550

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 200-(time*15),256

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, Aura Wave]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Aura Wave"
ID = 570
facing = 1
stateno = 570
postype = p1
ownpal = 1
size.xscale = 1
size.yscale = 1
Supermovetime = 999

[State 200, End]
type = Destroyself
trigger1 = time = 30
trigger2 = root,movetype = H
;===============================================================================
; Final Flash
;-------------------------------------------------------------------------------
[Statedef 1400]
type    = S
movetype= I
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1400
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-20
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,94
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,94
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,94

[State 0, Final Flash - Charge LEFT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge"
ID = 1420
stateno = 1420
facing = 1
postype = p1
ownpal = 1
size.xscale = .075
size.yscale = .075
Supermovetime = 999

[State 0, Final Flash - Charge Rayos LEFT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge Rayos LEFT HAND"
ID = 1421
stateno = 1421
facing = 1
postype = p1
ownpal = 1
size.xscale = .110
size.yscale = .110
Supermovetime = 999

[State 0, Final Flash - Charge RIGHT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge RIGHT HAND"
ID = 1422
stateno = 1422
facing = 1
postype = p1
ownpal = 1
size.xscale = .075
size.yscale = .075
Supermovetime = 999

[State 0, Final Flash - Charge Rayos RIGHT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge Rayos RIGHT HAND"
ID = 1423
stateno = 1423
facing = 1
postype = p1
ownpal = 1
size.xscale = .110
size.yscale = .110
Supermovetime = 999

[State 0, Final Flash - Honda FX]
type = Helper
trigger1 = time = 60
name = "Final Flash - Honda FX"
ID = 1424
facing = 1
stateno = 1424
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 0, Final Flash - Honda FX II]
type = Helper
trigger1 = time = 60
name = "Final Flash - Honda FX II"
ID = 1425
facing = 1
stateno = 1425
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 0, Viento]
type = Explod
trigger1 = time >= 10 && timemod = 10,0
anim = 7022
ID = 1051
pos = -5,3
postype = p1
facing = 1
vel = -2,0
scale = .25,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento 2]
type = Explod
trigger1 = time >= 10 && timemod = 10,0
anim = 7022
ID = 1051
pos = 0,-1
postype = p1
facing = -1
vel = 2,0
scale = .25,.35
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 200, End]
type = ChangeState
triggerall = time >= 40
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 40+random%50
trigger4 = time = 90
value = ifelse(time >= 60,1402,1401)
;-------------------------------------------------------------------------------
; Final Flash - Release
[Statedef 1401]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1401
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 70
add = 64,32,0

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [0,70]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (-10-Random%10),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 0, Dust FX]
type = Explod
TriggerAll = Time = [0,60]
Trigger1 = TimeMod = 10,0
anim = 7022
ID = 1051
pos = 0,4
scale = .35,.45
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1.5,0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 70
trigger1 = Timemod = 6,0
value = 1401
elem = 2

[State 0, Final Flash - Helper I]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Helper I"
ID = 1450
stateno = 1450
pos = 50,-31
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------------
; Final Flash - Release II
[Statedef 1402]
type    = S
movetype= A
physics = S
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1401
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,97
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,97
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,97

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 120
add = 64,32,0

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [0,120]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (-10-Random%10),(-5-Random%30)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = 90

[State 0, Dust FX]
type = Explod
TriggerAll = Time = [0,110]
Trigger1 = TimeMod = 10,0
anim = 7022
ID = 1051
pos = 0,4
scale = .35,.45
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
sprpriority = 0
ontop = 1
ownpal = 1
IgnoreHitPause = 1
removeongethit = 1
vel = -1.5,0

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 120
trigger1 = Timemod = 6,0
value = 1401
elem = 2

[State 0, Final Flash - Helper II]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Helper II"
ID = 1451
stateno = 1451
pos = 50,-31
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 4;1.5
size.yscale = 4;1.5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;===============================================================================
; Final Flash (In Air)
;-------------------------------------------------------------------------------
[Statedef 1403]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1403
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-20
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,94
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,94
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,94

[State 0, AngleDraw]
type = AngleDraw
trigger1 = AnimElemTime(2)>=0
value = -35
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
x = 0
y = 0

[State 0, PosSet]
type = PosSet
trigger1 = pos y > 0
y = 0

[State 0,VelAdd]
type = VelAdd
TriggerAll  =Vel X>.1
trigger1 = 1
x = -.2

[State 0,VelAdd]
type = VelAdd
TriggerAll = Vel X<-.1
trigger1 = 1
x = .2

[State 0,VelSet]
type = VelSet
TriggerAll = Pos y<=-2
trigger1 = 1
y = .25

[State 0,VelSet]
type = VelSet
TriggerAll = Pos y>=-2
trigger1 = 1
y = 0

[State 0, Final Flash - Charge LEFT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge"
ID = 1420
stateno = 1420
facing = 1
postype = p1
ownpal = 1
size.xscale = .075
size.yscale = .075
Supermovetime = 999

[State 0, Final Flash - Charge Rayos LEFT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge Rayos LEFT HAND"
ID = 1421
stateno = 1421
facing = 1
postype = p1
ownpal = 1
size.xscale = .110
size.yscale = .110
Supermovetime = 999

[State 0, Final Flash - Charge RIGHT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge RIGHT HAND"
ID = 1422
stateno = 1422
facing = 1
postype = p1
ownpal = 1
size.xscale = .075
size.yscale = .075
Supermovetime = 999

[State 0, Final Flash - Charge Rayos RIGHT HAND]
type = Helper
trigger1 = Time = 10
name = "Final Flash - Charge Rayos RIGHT HAND"
ID = 1423
stateno = 1423
facing = 1
postype = p1
ownpal = 1
size.xscale = .110
size.yscale = .110
Supermovetime = 999

[State 0, Final Flash - Honda FX]
type = Helper
trigger1 = time = 60
name = "Final Flash - Honda FX"
ID = 1424
facing = 1
stateno = 1424
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 0, Final Flash - Honda FX II]
type = Helper
trigger1 = time = 60
name = "Final Flash - Honda FX II"
ID = 1425
facing = 1
stateno = 1425
pos = 0,0
postype = p1
ownpal = 1
size.xscale = 2
size.yscale = 2
Supermovetime = 999

[State 0, Viento]
type = Explod
trigger1 = time >= 10 && timemod = 10,0 && pos y = 0
anim = 7022
ID = 1051
pos = -5,3
postype = p1
facing = 1
vel = -2,0
scale = .25,.35
sprpriority = 2
ontop = 1
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 0, Viento 2]
type = Explod
trigger1 = time >= 10 && timemod = 10,0 && pos y = 0
anim = 7022
ID = 1051
pos = 0,-1
postype = p1
facing = -1
vel = 2,0
scale = .25,.35
sprpriority = -1
ontop = 0
ownpal = 1
removeongethit = 0
supermovetime = 99999999
pausemovetime = 99999999

[State 200, End]
type = ChangeState
triggerall = time >= 40
trigger1 = ailevel = 0 && command != "hold_a"
trigger2 = ailevel > 0 && p2bodydist x < 100
trigger3 = ailevel > 0 && p2bodydist x >= 100 && p2bodydist x < 300 && time >= 40+random%50
trigger4 = time = 90
value = ifelse(time >= 60,1405,1404)
;-------------------------------------------------------------------------------
; Final Flash (In Air) - Release
[Statedef 1404]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1404
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,2

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 70
add = 64,32,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [3,70]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (-10-Random%10),(-10-Random%25)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = -120

[State 0,VelSet]
type = VelSet
trigger1 = time >= 0
x = -0.1
y = -0.1

[State 0,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(2)=0
statetype = A
movetype = I
physics = A

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 100 
trigger1 = Timemod = 6,0
value = 1404
elem = 2

[State 0, Final Flash - Helper I]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Helper I"
ID = 1452
stateno = 1452
pos = 50,-5
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Final Flash (In Air) - Release II
[Statedef 1405]
type    = A
movetype= A
physics = A
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1404
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,97
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,97
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,97

[State 5210, 1]
type = PalFX
trigger1 = Time = 0
time = 120
add = 64,32,0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -35

[State 0, Shadow FX]
type = Explod
TriggerAll = Time = [3,70]
Trigger1 = TimeMod = 1,0
anim = 580
ID = 001
pos = (-10-Random%10),(-10-Random%25)
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = .3,.15
sprpriority = 2
ontop = Cond(Random<500,1,0)
ownpal = 1
removeongethit = 1
ignorehitpause = 1
Trans = Sub
Vel = -1,0
Angle = -120

[State 0,VelSet]
type = VelSet
trigger1 = time >= 0
x = -0.1
y = -0.1

[State 0,StateTypeSet]
type = StateTypeSet
trigger1 = AnimElemTime(2)=0
statetype = A
movetype = I
physics = A

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = Time > 1 && time < 100
trigger1 = Timemod = 6,0
value = 1404
elem = 2


[State 0, Final Flash - Helper II]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Helper II"
ID = 1453
stateno = 1453
pos = 50,-5
postype = p1
keyctrl = 0
ownpal = 1
size.xscale = 4;1.5
size.yscale = 4;1.5

[State 200, End]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Final Flash - Charge LEFT HAND
[Statedef 1420]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1420
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,47

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1400
pos = 18,-28

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1403
pos = 35,-12

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 1+time*.01,1+time*.01
value = Fvar(1)+time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = Root,StateNo = 1401 && Root,Time >= 1
x = 8
Y = 1

[State 0, VelSet]
type = VelSet
trigger1 = Root,StateNo = 1404 && Root,Time >= 1
x = 5
Y = 8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 225,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
Triggerall = Root,Stateno != 1401 || Root,Stateno != 1402
Triggerall = Root,Stateno != 1404 || Root,Stateno != 1405
trigger1 = Root,stateno != 1400
trigger1 = Root,stateno != 1403

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 1401 || Root,Stateno = 1402
Triggerall= Root,Stateno = 1404 || Root,Stateno = 1405
trigger1 = Root,time = 6
;-------------------------------------------------------------------------------
; Final Flash - Charge Rayos LEFT HAND
[Statedef 1421]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1421
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1400
pos = 18,-28

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1403
pos = 35,-12

[State 0, VarSet]
type = VarSet
trigger1 = !Time
Fv = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 1+time*.01,1+time*.01
value = Fvar(1)+time*.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = Root,Stateno = 1401 && Root,Time >= 1
x = 8
Y = 1

[State 0, VelSet]
type = VelSet
trigger1 = Root,StateNo = 1404 && Root,Time >= 1
x = 5
Y = 8

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
Triggerall = Root,Stateno != 1401 || Root,Stateno != 1402
Triggerall = Root,Stateno != 1404 || Root,Stateno != 1405
trigger1 = Root,stateno != 1400
trigger1 = Root,stateno != 1403

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 1401 || Root,Stateno = 1402
Triggerall= Root,Stateno = 1404 || Root,Stateno = 1405
trigger1 = Root,time = 6
;-------------------------------------------------------------------------------
; Final Flash - Charge RIGHT HAND
[Statedef 1422]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1420
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,47

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1400
pos = -19,-27

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1403
pos = 1,-40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 1+time*.01,1+time*.01
value = 0+time*5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = Root,stateno = 1401 && Root,Time >= 1 || Root,stateno = 1402 && Root,Time >= 1
X = -.25
Y = 1.25

[State 0, VelSet]
type = VelSet
trigger1 = Root,stateno = 1404 && Root,Time >= 1 || Root,stateno = 1405 && Root,Time >= 1
X = -.25
Y = 1.25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
Triggerall = Root,Stateno != 1401 || Root,Stateno != 1402
Triggerall = Root,Stateno != 1404 || Root,Stateno != 1405
trigger1 = Root,stateno != 1400
trigger1 = Root,stateno != 1403

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 1401 || Root,Stateno = 1402
Triggerall= Root,Stateno = 1404 || Root,Stateno = 1405
trigger1 = Root,time = 6
;-------------------------------------------------------------------------------
; Final Flash - Charge Rayos RIGHT HAND
[Statedef 1423]
type = A
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1421
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1400
pos = -19,-27

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1403
pos = 1,-40

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 0
scale = 1+time*.01,1+time*.01
value = 0+time*.5

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 10
scale = 1,1

[State 0, VelSet]
type = VelSet
trigger1 = Root,stateno = 1401 && Root,Time >= 1 || Root,stateno = 1402 && Root,Time >= 1
X = -.25
Y = 1.25

[State 0, VelSet]
type = VelSet
trigger1 = Root,stateno = 1404 && Root,Time >= 1 || Root,stateno = 1405 && Root,Time >= 1
X = -.25
Y = 1.25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
Triggerall = Root,Stateno != 1401 || Root,Stateno != 1402
Triggerall = Root,Stateno != 1404 || Root,Stateno != 1405
trigger1 = Root,stateno != 1400
trigger1 = Root,stateno != 1403

[State 200, End]
type = Destroyself
Triggerall= Root,Stateno = 1401 || Root,Stateno = 1402
Triggerall= Root,Stateno = 1404 || Root,Stateno = 1405
trigger1 = Root,time = 6
;-------------------------------------------------------------------------------
; Final Flash - Honda FX
[Statedef 1424]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1425
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1400
pos = 18,-28

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1403
pos = 35,-19

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Root,StateNo != 1400
trigger1 = Root,StateNo != 1403
Trigger2 = Root,StateNo = 1401 || Root,StateNo = 1402
Trigger2 = Root,StateNo = 1404 || Root,StateNo = 1405
;-------------------------------------------------------------------------------
; Final Flash - Honda FX II
[Statedef 1425]
type    = A
movetype= I
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1425
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,14

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time <= 8
value = 0
scale = .25-time*.035,.25-time*.035

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Time >= 8
value = 0
scale = .025,.025

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 300-(time*25),256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1400
pos = -22,-28

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Root,stateno = 1403
pos = 1,-40

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = Root,StateNo != 1400
trigger1 = Root,StateNo != 1403
Trigger2 = Root,StateNo = 1401 || Root,StateNo = 1402
Trigger2 = Root,StateNo = 1404 || Root,StateNo = 1405
;-------------------------------------------------------------------------------
; Final Flash - FX ADD
[Statedef 1430]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1430
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 15,-25

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1450
trigger1 = Parent,StateNo = 1460
value = 1435

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1451
trigger1 = Parent,StateNo = 1461
value = 1435
;-------------------------------------------------------------------------------
; Final Flash - FX SUB
[Statedef 1431]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1430
sprpriority = 3

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 15,-25

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,450,512
color = 0

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1450
trigger1 = Parent,StateNo = 1460
value = 1435

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1451
trigger1 = Parent,StateNo = 1461
value = 1435
;-------------------------------------------------------------------------------
; Final Flash Air - FX ADD
[Statedef 1432]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1430
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 28,-15

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
value = -36

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1452
trigger1 = Parent,StateNo = 1462
value = 1435

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1453
trigger1 = Parent,StateNo = 1463
trigger2 = Parent,StateNo = 1464
value = 1435
;-------------------------------------------------------------------------------
; Final Flash Air - FX SUB
[Statedef 1433]
type = S
movetype = I
physics = N
ctrl = 0
anim = 1430
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,450,512
color = 0

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 28,-15

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
value = -36

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1452
trigger1 = Parent,StateNo = 1462
value = 1435

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1453
trigger1 = Parent,StateNo = 1463
trigger2 = Parent,StateNo = 1464
value = 1435
;-------------------------------------------------------------------------------
; Final Flash - FX End
[Statedef 1435]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 3

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
scale =1,1-time*.048

[State 0, Trans]
type = Trans
trigger1 = PrevStateNo = 1430
trigger2 = PrevStateNo = 1432
trans = Add
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = PrevStateNo = 1431
trigger2 = PrevStateNo = 1433
trans = Sub
ignorehitpause = 1

[State 200,End]
type = Destroyself
trigger1 = time = 18
;-------------------------------------------------------------------------------
; Final Flash - Wave FX Hit
[Statedef 1436]
type    = A
movetype= A
physics = N
juggle = 1
ctrl = 0
anim = 1436
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,-0

[State 200, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S,HP
animtype = Heavy
damage = 8,2
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-0.5
kill = 0
Fall = 0
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Envshake.time = 1

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 1448
stateno = 1448
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = Parent,StateNo != 1450
trigger1 = Parent,StateNo != 1451
trigger2 = Parent,StateNo = 1460
trigger2 = Parent,StateNo = 1461
value = 1460
;-------------------------------------------------------------------------------
; Final Flash - Wave FX Hit
[Statedef 1437]
type    = A
movetype= A
physics = N
juggle = 1
ctrl = 0
anim = 1437
sprpriority = 3

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,-0

[State 200, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S,HP
animtype = Heavy
damage = 8,2
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-0.5
kill = 0
Fall = 0
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Envshake.time = 1

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 1448
stateno = 1448
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 200, End]
type = Changestate
trigger1 = Parent,StateNo != 1452
trigger1 = Parent,StateNo != 1453
trigger2 = Parent,StateNo = 1462
trigger2 = Parent,StateNo = 1463
trigger2 = Parent,StateNo = 1464
value = 1460
;-------------------------------------------------------------------------------
; Final Flash - Wave FX ADD
[Statedef 1440]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1440
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 38,-25

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1450
scale = (20.0 + abs(pos X - (helper(1450),pos X)))/30.0 , 1
value = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1451
scale = (20.0 + abs(pos X - (helper(1451),pos X)))/30.0 , 1
value = 0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1450
trigger1 = Parent,StateNo = 1460
value = 1445

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1451
trigger1 = Parent,StateNo = 1461
value = 1445
;-------------------------------------------------------------------------------
; Final Flash - Wave FX SUB
[Statedef 1441]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1440
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 38,-25

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,256,512
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1450
scale = (20.0 + abs(pos X - (helper(1450),pos X)))/30.0 , 1
value = 0
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1451
scale = (20.0 + abs(pos X - (helper(1451),pos X)))/30.0 , 1
value = 0
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1450
trigger1 = Parent,StateNo = 1460
value = 1445

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1451
trigger1 = Parent,StateNo = 1461
value = 1445
;-------------------------------------------------------------------------------
; Final Flash Air - Wave FX ADD
[Statedef 1442]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1440
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 44,-1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1452
scale = (20.0 + abs(pos X - (helper(1452),pos X)))/28.0 , 1
value = -35
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1453
scale = (20.0 + abs(pos X - (helper(1453),pos X)))/28.0 , 1
value = -35
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1452
trigger1 = Parent,StateNo = 1462
value = 1445

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1453
trigger1 = Parent,StateNo = 1463
trigger2 = Parent,StateNo = 1464
value = 1445
;-------------------------------------------------------------------------------
; Final Flash Air - Wave FX SUB
[Statedef 1443]
type = S
movetype = I
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1440
sprpriority = 4

[State 0, BindToRoot]
type = BindToRoot
trigger1 = 1
pos = 44,-1

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,256,512
color = 0

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1452
scale = (20.0 + abs(pos X - (helper(1452),pos X)))/28.0 , 1
value = -35
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = Parent,StateNo = 1453
scale = (20.0 + abs(pos X - (helper(1453),pos X)))/28.0 , 1
value = -35
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1452
trigger1 = Parent,StateNo = 1462
value = 1445

[State 0, ChangeState]
type = ChangeState
triggerall = Parent,StateNo != 1453
trigger1 = Parent,StateNo = 1463
trigger2 = Parent,StateNo = 1464
value = 1445
;-------------------------------------------------------------------------------
; Final Flash - Wave FX ADD End
[Statedef 1445]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 2

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Parent,StateNo = 1401
trigger2 = Parent,StateNo = 1402
pos = 42,-35

[State 0, BindToRoot]
type = BindToRoot
trigger1 = Parent,StateNo = 1404
trigger2 = Parent,StateNo = 1405
pos = 44,-12

[State 0, AngleDraw]
type = AngleDraw
trigger1 = PrevStateNo = 1440
trigger2 = PrevStateNo = 1441
scale = (20.0 + abs(pos X - (helper(1455),pos X)))/30.0 , 1-time*.052
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = PrevStateNo = 1442
trigger2 = PrevStateNo = 1443
scale = (20.0 + abs(pos X - (helper(1457),pos X)))/28.0 , 1-time*.052
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, Trans]
type = Trans
trigger1 = PrevStateNo = 1440
trigger2 = PrevStateNo = 1442
trans = Add
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = PrevStateNo = 1441
trigger2 = PrevStateNo = 1443
trans = Sub
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 18
;-------------------------------------------------------------------------------
; Final Flash - Skill Hitspark
[Statedef 1448]
type    = A
movetype= I
physics = N
anim = 8010
sprpriority = 3

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 1
value = random%360

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = Var(1)
scale = 1+time*.05,1+time*.05

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = Noshadow

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Animtime = 0
;-------------------------------------------------------------------------------
; Final Flash - Helper
[Statedef 1450]
type    = A
movetype= A
physics = N
juggle = 1
ctrl = 0
anim = 1450
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 60
trigger1 = timemod = 9,0
time = 8

[State 0,HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1460
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 20

[State 0, VelSet]
type = VelSet
triggerAll = movecontact
trigger1 = P2BodyDist X < 10
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = Helper(1436),Movehit = 1
x = 15

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S,HP
animtype = Heavy
damage = 8,2
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-0.5
kill = 0
Fall = 0
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Envshake.time = 1

[State 0, Final Flash - FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX ADD"
ID = 1430
facing = 1
stateno = 1430
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .175

[State 0, Final Flash - FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX SUB"
ID = 1430
facing = 1
stateno = 1431
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .175

[State 0, Final Flash - Wave FX Hit]
type = Helper
triggerall = Helper(1450),Movehit <= 1
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX Hit"
ID = 1436
stateno = 1436
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Final Flash - Wave FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX ADD"
ID = 1440
stateno = 1440
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = .48

[State 0, Final Flash - Wave FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX SUB"
ID = 1440
stateno = 1441
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = .48

[State 0, Final Flash - FXAAD Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXAAD Helper"
ID = 1455
stateno = 1455
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .4

[State 0, Final Flash - FXSUB Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXSUB Helper"
ID = 1455
stateno = 1456
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .4

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 1448
stateno = 1448
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,stateno != 1401

[State 200, End]
type = Changestate
trigger1 = Root,stateno != 1401 && time = 70
trigger2 = Parent, Time >= 70
value = 1460
;-------------------------------------------------------------------------------
; Final Flash - Helper II
[Statedef 1451]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1450
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 60
trigger1 = timemod = 9,0
time = 8

[State 0,HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1461
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = 1
x = 25

[State 0, VelSet]
type = VelSet
triggerAll = movecontact
trigger1 = P2BodyDist X < 10
x = 1.5

[State 0, VelSet]
type = VelSet
trigger1 = Helper(1436),Movehit = 1
x = 15

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, HP
animtype  = Heavy
damage    = 9,4
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-0.5
kill = 0
Fall = 1
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Envshake.time = 15

[State 0, Final Flash - FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX ADD"
ID = 1430
facing = 1
stateno = 1430
postype = p1
ownpal = 1
size.xscale = .3;.18
size.yscale = .3;.18

[State 0, Final Flash - FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX SUB"
ID = 1430
facing = 1
stateno = 1431
postype = p1
ownpal = 1
size.xscale = .3;.18
size.yscale = .3;.18


[State 0, Final Flash - Wave FX Hit]
type = Helper
triggerall = Helper(1451),Movehit <= 1
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX Hit"
ID = 1436
stateno = 1436
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Final Flash - Wave FX]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX"
ID = 1440
stateno = 1440
pos = 5,-0
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .1
size.yscale = 1;.55

[State 0, Final Flash - Wave FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX SUB"
ID = 1440
stateno = 1441
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = 1;.55

[State 0, Final Flash - FXAAD Helper]
type=Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXAAD Helper"
ID = 1455
stateno = 1455
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1;.44
size.yscale = 1;.44

[State 0, Final Flash - FXSUB Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXSUB Helper"
ID = 1455
stateno = 1456
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1;.44
size.yscale = 1;.44

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 1448
stateno = 1448
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .4
Size.Yscale = .4

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,stateno != 1402

[State 200, End]
type = Changestate
trigger1 = Root,stateno = 1402 && time = 120
trigger2 = Parent, Time >= 120
value = 1461
;-------------------------------------------------------------------------------
; Final Flash Air - Helper
[Statedef 1452]
type    = A
movetype= A
physics = N
juggle = 1
ctrl = 0
anim = 1451
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 60
trigger1 = timemod = 9,0
time = 8

[State 0,HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1462
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 22
Y = 15

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 1.8
Y = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volumescale = 75

[State 200, HitDef]
type = HitDef
trigger1 = timemod = 5,0
attr = S,HP
animtype = Heavy
damage = 8,2
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-0.5
kill = 0
Fall = 0
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Envshake.time = 1

[State 0, Final Flash - FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX ADD"
ID = 1432
facing = 1
stateno = 1432
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .175

[State 0, Final Flash - FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX SUB"
ID = 1432
facing = 1
stateno = 1433
postype = p1
ownpal = 1
size.xscale = .15
size.yscale = .175

[State 0, Final Flash - Wave FX Hit]
type = Helper
triggerall = Helper(1452),Movehit <= 1
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX Hit"
ID = 1437
stateno = 1437
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Final Flash - Wave FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX ADD"
ID = 1442
stateno = 1442
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = .48

[State 0, Final Flash - Wave FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX SUB"
ID = 1442
stateno = 1443
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = .48

[State 0, Final Flash - FXAAD Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXAAD Helper"
ID = 1457
stateno = 1457
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .4

[State 0, Final Flash - FXSUB Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXSUB Helper"
ID = 1457
stateno = 1458
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .35
size.yscale = .4

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 1448
stateno = 1448
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,stateno != 1404

[State 200, End]
type = Changestate
trigger1 = Root,stateno = 1404 && time = 70
trigger2 = Parent, Time >= 70
value = 1462

[State 200, End]
type = Changestate
trigger1 = pos y >= -5
value = 1462
;-------------------------------------------------------------------------------
; Final Flash Air - Helper II
[Statedef 1453]
type = A
movetype = A
physics = N
juggle = 1
velset = 0,0
ctrl = 0
anim = 1451
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,48

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18

[State 0, EnvShake]
type = EnvShake
triggerall = Time <= 60
trigger1 = timemod = 9,0
time = 8

[State 0,HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 1463
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 22
Y = 15

[State 0, VelSet]
type = VelSet
trigger1 = movehit = 1
x = 1.8
Y = 1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S5,18
volumescale = 75

[State 200, 1]
type = HitDef
trigger1 = timemod = 5,0
attr = A, HP
animtype  = Heavy
damage    = 9,4
Hitflag = MAF
guardflag = MA
pausetime = 0,3
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4
air.velocity = -4,-0.5
kill = 0
Fall = 1
Fall.Recover = 0
Ground.CornerPush.VelOff = 0
Getpower = 0,0
sprpriority = 3
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Envshake.time = 15

[State 0, Final Flash - FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX ADD"
ID = 1432
facing = 1
stateno = 1432
postype = p1
ownpal = 1
size.xscale = .3
size.yscale = .3

[State 0, Final Flash - FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - FX SUB"
ID = 1432
facing = 1
stateno = 1433
postype = p1
ownpal = 1
size.xscale = .3;.18
size.yscale = .3;.18

[State 0, Final Flash - Wave FX Hit]
type = Helper
triggerall = Helper(1453),Movehit <= 1
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX Hit"
ID = 1437
stateno = 1437
pos = 0,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 0, Final Flash - Wave FX ADD]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX ADD"
ID = 1442
stateno = 1442
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = 1;.48

[State 0, Final Flash - Wave FX SUB]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Final Flash - Wave FX SUB"
ID = 1442
stateno = 1443
pos = 5,-0
postype = p1
facing = 1
ownpal = 1
size.xscale = .1
size.yscale = 1;.48

[State 0, Final Flash - FXAAD Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXAAD Helper"
ID = 1457
stateno = 1457
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1;.44
size.yscale = 1;.44

[State 0, Final Flash - FXSUB Helper]
type = Helper
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - FXSUB Helper"
ID = 1457
stateno = 1458
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = 1;.44
size.yscale = 1;.44

[State 0, Final Flash - Skill Hitspark]
type = Helper
trigger1 = Movehit = 1
name = "Final Flash - Skill Hitspark"
ID = 1448
stateno = 1448
pos = -10+random%20,0-random%35
postype = P2
facing = -1
ownpal = 1
Size.Xscale = .3
Size.Yscale = .3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Root,stateno != 1405

[State 200, End]
type = Changestate
trigger1 = Root,stateno = 1405 && time = 120
trigger2 = Parent, Time >= 120
value = 1463

[State 200, End]
type = Changestate
trigger1 = pos y >= -5
value = 1464
;-------------------------------------------------------------------------------
; Final Flash - FXAAD Helper
[Statedef 1455]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1455
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 500, Perfect Angle]
type = AngleSet
trigger1 = 1
value = ((atan((-1*Parent,Vel Y)/Parent,Vel X))*(360/(2*pi)))+0

[State 500,Draw]
type=AngleDraw
trigger1=1
scale=1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
trigger1 = Parent,Stateno != 1450
trigger1 = Parent,Stateno != 1451
trigger2 = Parent,Stateno = 1460
trigger2 = Parent,Stateno = 1461
value = 1459
;-------------------------------------------------------------------------------
; Final Flash - FXSUB Helper
[Statedef 1456]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1455
sprpriority = 3

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,256,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,5

[State 500, Perfect Angle]
type = AngleSet
trigger1 = 1
value = ((atan((-1*Parent,Vel Y)/Parent,Vel X))*(360/(2*pi)))+0

[State 500,Draw]
type=AngleDraw
trigger1=1
scale=1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
trigger1 = Parent,Stateno != 1450
trigger1 = Parent,Stateno != 1451
trigger2 = Parent,Stateno = 1460
trigger2 = Parent,Stateno = 1461
value = 1459
;-------------------------------------------------------------------------------
; Final Flash Air - FXADD Helper
[Statedef 1457]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1455
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 356,356,356
color = 256

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34

[State 500,Draw]
type=AngleDraw
trigger1=1
scale=1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
trigger1 = Parent,Stateno != 1452
trigger1 = Parent,Stateno != 1453
trigger2 = Parent,Stateno = 1462
trigger2 = Parent,Stateno = 1463
trigger2 = Parent,Stateno = 1464
value = 1459
;-------------------------------------------------------------------------------
; Final Flash Air - FXSUB Helper
[Statedef 1458]
type = A
movetype = I
physics = N
ctrl = 0
anim = 1455
sprpriority = 2

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,256,512
color = 0

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,10

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -34

[State 500,Draw]
type=AngleDraw
trigger1=1
scale=1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = root,movetype = H

[State 0, ChangeState]
type = ChangeState
trigger1 = Parent,Stateno != 1452
trigger1 = Parent,Stateno != 1453
trigger2 = Parent,Stateno = 1462
trigger2 = Parent,Stateno = 1463
trigger2 = Parent,Stateno = 1464
value = 1459
;-------------------------------------------------------------------------------
; Final Flash - FXAAD End
[Statedef 1459]
type = S
movetype = I
physics = N
ctrl = 0
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = PrevStateNo = 1455
trigger2 = PrevStateNo = 1456
scale = 1,1-time*.046

[State 0, AngleDraw]
type = AngleDraw
trigger1 = PrevStateNo = 1457
trigger2 = PrevStateNo = 1458
value = -35

[State 0, AngleDraw]
type = AngleDraw
trigger1 = PrevStateNo = 1457
trigger2 = PrevStateNo = 1458
scale = 1,1-time*.046

[State 0, VelSet]
type = VelSet
trigger1 = PrevStateNo = 1455
trigger2 = PrevStateNo = 1456
x = 20
y = 0

[State 0, VelSet]
type = VelSet
trigger1 = PrevStateNo = 1457
trigger2 = PrevStateNo = 1458
x = 0
y = 0

[State 0, Trans]
type = Trans
trigger1 = PrevStateNo = 1455
trigger2 = PrevStateNo = 1457
trans = Add
ignorehitpause = 1

[State 0, Trans]
type = Trans
trigger1 = PrevStateNo = 1456
trigger2 = PrevStateNo = 1458
trans = Sub
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 200, End]
type = Destroyself
trigger1 = time = 18
;-------------------------------------------------------------------------------
; Final Flash - Explosion
[Statedef 1460]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
anim = 1460
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 2,1
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-5
air.velocity = -6,-5
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
ignorehitpause  = 1

[State 200, Final Flash - Explosion FXAAD]
type = Explod
triggerall = Numexplod(1465) = 0
trigger1 = Movehit = 1
anim = 1465
ID = 1465
postype = P2
pos = 0,-30
facing = -1
vfacing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
Persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Final Flash - Explosion II
[Statedef 1461]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 3,1
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = S5,27
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0,Wall Rush]
type = TargetState
TRIGGERALL = enemy,stateno != [8305,8306]
trigger1 = movehit = 1
value = 8305
Persistent = 0
ignorehitpause  = 1

[State 200, Final Flash - Explosion]
type = Explod
triggerall = Numexplod(1460) = 0
trigger1 = Movehit = 1
anim = 1460
ID = 1460
postype = P2
pos = 0,-30
facing = -1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9023) = 0
trigger1 = Movehit = 1
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Final Flash - Explosion FXAAD]
type = Helper
triggerall = Numexplod(1470)=0
trigger1 = Movecontact = 1
helpertype = normal
name = "Final Flash - Explosion FXAAD"
ID = 1470
stateno = 1470
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .3
size.yscale = .3
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Final Flash Air - Explosion
[Statedef 1462]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 28,10
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = S1,12
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-5
air.velocity = -6,-5
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
ignorehitpause  = 1

[State 200, Final Flash - Explosion FXAAD]
type = Explod
triggerall = Numexplod(1465) = 0
trigger1 = Time = 0
anim = 1465
ID = 1465
postype = P1
pos = 0,-20
facing = -1
vfacing = 1
sprpriority = 2
supermove = 1
removetime = -2
bindtime = 1
ownpal = 1
scale = .4,.4
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1
Persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Final Flash Air - Explosion II
[Statedef 1463]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 40,15
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = S5,27
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8455
trigger1 = movehit = 1
value = 8455
ignorehitpause  = 1

[State 200, Final Flash - Explosion]
type = Explod
triggerall = Numexplod(1460) = 0
trigger1 = time = 0
anim = 1460
ID = 1460
postype = P1
pos = 0,-30
facing = -1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9023) = 0
trigger1 = Time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Final Flash - Explosion FXAAD]
type = Helper
triggerall = Numexplod(1470)=0
trigger1 = Movecontact = 1
helpertype = normal
name = "Final Flash - Explosion FXAAD"
ID = 1470
stateno = 1470
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .3
size.yscale = .3
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Final Flash - Ground Explosion II
[Statedef 1464]
type    = A
movetype= A
physics = N
juggle  = 1
velset = 0,0
ctrl = 0
sprpriority = 3

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0 

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S1,12

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
v = 2
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 10
v = 2
value = 25

[State 0, Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(2),256
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = time = 5
statetype = A
movetype = I
physics = N

[State 200, 1]
type = HitDef
trigger1 = !movecontact
attr = A, SP
animtype  = Heavy
damage    = 40,15
Hitflag = MAFD
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound   = S5,27
guardsound = S1,12
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-8
air.velocity = -6,-8
Envshake.time = 25
Fall = 1
Fall.recover = 0
Getpower = 0,0
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256

[State 0, TargetState]
type = TargetState
triggerall = enemy,stateno != 8455
trigger1 = movehit = 1
value = 8455
ignorehitpause  = 1

[State 200, Final Flash - Explosion]
type = Explod
triggerall = Numexplod(1460) = 0
trigger1 = time = 0
anim = 1460
ID = 1460
postype = P1
pos = 0,-30
facing = -1
sprpriority = 2
removetime = -2
bindtime = 1
ownpal = 1
scale = .75,.75
removeongethit = 1
ontop = 1
supermovetime = 999
ignorehitpause  = 1

[State 0, Explosion]
type = Explod
triggerall = Numexplod(9023) = 0
trigger1 = Time = 0
anim = 9023
ID = 9023
pos = 0,0
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
scale = 999,999
sprpriority = 9
ontop = 1
ownpal = 1
removeongethit = 0
ignorehitpause = 1
supermovetime = 99999
pausemovetime = 99999

[State 0, Final Flash - Explosion FXAAD]
type = Helper
triggerall = Numexplod(1470)=0
trigger1 = Movecontact = 1
helpertype = normal
name = "Final Flash - Explosion FXAAD"
ID = 1470
stateno = 1470
pos = 0,0
postype = p2
ownpal = 1
size.xscale = .3
size.yscale = .3
ignorehitpause = 1

[State 0, Final Flash - Explosion II FXAAD]
type = Helper
triggerall = Numexplod(1471)=0
trigger1 = Time = 0
helpertype = normal
name = "Final Flash - Explosion II FXAAD"
ID = 1471
stateno = 1471
pos = 0,0
postype = p1
ownpal = 1
size.xscale = .4
size.yscale = .4
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fv = 1
value = 0

[State 0, VarSet]
type = VarAdd
trigger1 = time > 20
fv = 1
value = .1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
scale = 1,1-fvar(1)
ignorehitpause = 1

[State 200, End]
type = Destroyself
trigger1 = time = 20
;-------------------------------------------------------------------------------
; Final Flash - Explosion FXAAD
[Statedef 1470]
type = S
movetype = I
physics = N
juggle = 2
velset = 0,0
ctrl = 0
anim = 1470
sprpriority = 8

[State 0,EnvShake]
type = EnvShake
trigger1 =! Time
time = 20
Ampl = -8

[State 0,AngleDraw]
type = AngleDraw
trigger1 = 1
scale = .3+time*.4,.3+time*.4

[State 0,VarAdd]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 15

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 200,End]
type = Destroyself
trigger1 = var(1)>=256
;-------------------------------------------------------------------------------
; Final Flash - Explosion II FXAAD
[Statedef 1471]
type = S
movetype = I
physics = N
juggle = 2
velset = 0,0
ctrl = 0
anim = 1471
sprpriority = 8

[State 0,EnvShake]
type = EnvShake
trigger1 =! Time
time = 20
Ampl = -8

[State 0,VarAdd]
type = VarAdd
trigger1 = time >= 20
v = 1
value = 15

[State 0,Trans]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

[State 200,End]
type = Destroyself
trigger1 = var(1)>=256
;===============================================================================
; Super Energy Blast
;-------------------------------------------------------------------------------
[Statedef 1500]
type    = S
movetype= A
physics = S
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1500
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-20
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11

[State 0, EnvShake]
type = EnvShake
trigger1 = (animelem = 4||animelem = 9)
time = 10
ampl = -2

[State 0, Ki Blast - Helper]
type = Helper
trigger1 = (animelem = 4||animelem = 9)
name = "Ki Blast - Helper"
ID = 1550
stateno = 1550
pos = 29,-25;-30
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Ki Blast - FX]
type = Helper
trigger1 = animelem = 4
name = "Ki Blast - FX"
ID = 425
stateno = 425
pos = 31,-19
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .15
size.yscale = .15

[State 0, Ki Blast - FX]
type = Helper
trigger1 = animelem = 9
name = "Ki Blast - FX"
ID = 425
stateno = 425
pos = 27,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .15
size.yscale = .15

[State 200, End]
type = ChangeState
trigger1 = time = 200
value = 0
ctrl = 1
;===============================================================================
; Super Energy Blast (In Air)
;-------------------------------------------------------------------------------
[Statedef 1505]
type    = A
movetype= A
physics = A
juggle  = 2
velset = 0,0
ctrl = 0
anim = 1505
poweradd = -1000
sprpriority = 2

; SUPER PAUSE ============
[State 3000, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 30
movetime = 30
anim = -1
sound = -1
pos = 32,-80
darken = 0
unhittable = 1

[State 3000, VarSet]
type = Varset
trigger1 = time = 0
v = 12
value = -100

[State 3000, VarAdd]
type = VarAdd
trigger1 = time >= 20 && Var(12) < 0
v = 12
value = 6

[State 3000, BGColorFX]
type = BGPalFX
trigger1 = Time > 0
time = 1
add = Var(12),Var(12),Var(12)

[State 3000, Super Charge]
type = Explod
trigger1 = Time = 0
anim = 7400
ID = 7400
pos = 0,-20
sprpriority = 2
removetime = -2
bindtime = -1
ownpal = 1
scale = .2,.2
removeongethit = 1
ontop = 1
supermovetime 	= 999
ignorehitpause  = 1

[State 3000, PlaySnd - Super Charge]
type = PlaySnd
trigger1 = Time = 0
value = S950,1
;====================

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 30
value = S0,11

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
value = -15

[State 0, VelSet]
type = VelSet
trigger1 = time = [0,30]
x = 0
y = -0

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4||animelem = 9
x = -1
y = -2

[State 0, EnvShake]
type = EnvShake
trigger1 = (animelem = 4||animelem = 9)
time = 10
ampl = -2

[State 0, Ki Blast - Helper]
type = Helper
trigger1 = (animelem = 4||animelem = 9)
name = "Ki Blast - Helper"
ID = 1551
stateno = 1551
pos = 29,-25
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .25
size.yscale = .25

[State 0, Ki Blast - FX]
type = Helper
trigger1 = animelem = 4
name = "Ki Blast - FX"
ID = 635
stateno = 635
pos = 31,-19
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .15
size.yscale = .15

[State 0, Ki Blast - FX]
type = Helper
trigger1 = animelem = 9
name = "Ki Blast - FX"
ID = 635
stateno = 635
pos = 27,-20
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .15
size.yscale = .15

[State 200, End]
type = ChangeState
trigger1 = time = 200
value = 50
ctrl = 1
;-------------------------------------------------------------------------------
; Ki Blast - Helper
[Statedef 1550]
type = S
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100

[State 0,Initial Velocity]
type=VelAdd
trigger1=!Time
y=Cond((Parent,AnimElem=6),-5,4)

[State 0,VelAdd]
type=VelAdd
TriggerALL=Time>=5
trigger1=p2dist y>-(enemynear,const(size.mid.pos.y)+2)&&(Vel Y<1.5)
trigger2=Pos Y<=-100
y=Cond(Pos Y<=-100,1,.5)

[State 0,VelAdd]
type=VelAdd
TriggerALL=Time>=5
trigger1=p2dist y<-(enemynear,const(size.mid.pos.y)-2)&&(Vel Y>-1.5)
trigger2=Pos Y>=5
y=Cond(Pos Y>=5,-1,-.5)

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 415
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 11
y = 1-random%3

[State 200,1]
type=HitDef
Triggerall = !Movecontact
trigger1 = 1
attr = S,NP
animtype = Heavy
damage = 8,2
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound= -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,0)
air.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,-2)
Fall = ifelse(root,var(13) > 3,1,0)
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0

[State 0, Ki Blast - FXADD]
type=Helper
trigger1 = Time = 0
name = "Ki Blast - FXADD"
ID = 1555
stateno = 1555
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .055
size.yscale = .070

[State 0, Ki Blast - FXSUB]
type = Helper
trigger1 = Time = 0
name = "Ki Blast - FXSUB"
ID = 1556
stateno = 1556
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .055
size.yscale = .070

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 150
value = 415
;-------------------------------------------------------------------------------
; Ki Blast - Helper
[Statedef 1551]
type = S
movetype = A
physics = N
juggle = 2
ctrl = 0
anim = 1550
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100
[State 0, PlaySnd]
type = PlaySnd
trigger1 = Time = 0
value = S5,16
volumescale = 100

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = 1+root,fvar(2)+root,fvar(3)

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
stateno = 415
time = 999

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
x = 12
y = 6-random%3

[State 200,1]
type=HitDef
Triggerall = !Movecontact
trigger1 = 1
attr = S,NP
animtype = Heavy
damage = 8,2
Hitflag = MAFD
guardflag = MA
pausetime = 0,8
sparkno = -1
guard.sparkno = s7000
sparkxy = 0,0
hitsound= -1
guardsound = S4,1
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,0)
air.velocity = ifelse(root,var(13) > 3,-5,-2),ifelse(root,var(13) > 3,-5,-2)
Fall = ifelse(root,var(13) > 3,1,0)
Envshake.time = 5
PalFX.time = 30
PalFX.add = -200,-200,-200
PalFX.mul = 256,256,256
PalFX.sinadd = 50,50,50,50
PalFX.invertall = 0
PalFX.color = 256
Ground.CornerPush.VelOff = 0
Air.CornerPush.VelOff = 0

[State 0, Ki Blast - FXADD]
type=Helper
trigger1 = Time = 0
name = "Ki Blast - FXADD"
ID = 1555
stateno = 1555
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .055
size.yscale = .070

[State 0, Ki Blast - FXSUB]
type = Helper
trigger1 = Time = 0
name = "Ki Blast - FXSUB"
ID = 1556
stateno = 1556
postype = p1
facing = 1
keyctrl = 0
ownpal = 1
size.xscale = .055
size.yscale = .070

[State 200, End]
type = Changestate
trigger1 = movecontact
trigger2 = frontedgebodydist < 0
trigger3 = time = 150
trigger4 = pos y >= -5
value = 415
;-------------------------------------------------------------------------------
; Ki Blast - FXADD
[Statedef 1555]
type = A
movetype = I
physics = N
ctrl = 0
anim = 410
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 500,Perfect Angle]
type=AngleSet
trigger1 = 1
value = ((atan((-1*Parent,Vel Y)/Parent,Vel X))*(360/(2*pi)))+0

[State 500,Draw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = Add

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1550
trigger1 = Parent,Stateno != 1551
trigger2 = Parent,Stateno = 415
;-------------------------------------------------------------------------------
; Ki Blast - FXSUB
[Statedef 1556]
type = A
movetype = I
physics = N
ctrl = 0
anim = 410
sprpriority = 4

[State 0, BindToParent]
type = BindToParent
trigger1 = 1
pos = 0,0

[State 0, PalFXWiz]
type = PalFX
trigger1 = 1
time = 99999
add = 0,0,0
mul = 0,256,512
color = 0

[State 500,Perfect Angle]
type=AngleSet
trigger1 = 1
value = ((atan((-1*Parent,Vel Y)/Parent,Vel X))*(360/(2*pi)))+0

[State 500,Draw]
type = AngleDraw
trigger1 = 1
scale = 1,1

[State 0, Trans]
type = Trans
trigger1 = 1
trans = sub

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = Parent,Stateno != 1550
trigger1 = Parent,Stateno != 1551
trigger2 = Parent,Stateno = 415